<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <title>Vueå“åº”å¼åŸç† | Jayant Blog</title>
  <meta name="keywords" content=" Vue ">
  <meta name="description" content="Vueå“åº”å¼åŸç† | Jayant Blog">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="è¿˜æ²¡å¼€å§‹å†™ï¼Œå°±æ„Ÿè§‰çœŸçš„æ˜¯å°†è¦å‘•å¿ƒæ²¥è¡€ï¼ˆæ‹–æ‹–æ‹‰æ‹‰ï¼‰çš„ä¸€ç¯‡ï¼Œå…¶å®å†™ä¸œè¥¿çœŸçš„å¥½ä¸å®¹æ˜“ğŸ˜‚ï¼Œè™½ç„¶æœ‰æ—¶å€™ï¼Œå¿ƒçµæ·±å¤„ä¸€æ‰‘é€šï¼Œç‰¹åˆ«æƒ³æ€»ç»“æŸä¸€æ ·ä¸œè¥¿ï¼Œä½†æ˜¯æ€»æ˜¯é¡¶ä¸ä½æ‹–å»¶æˆ–è€…åˆè¢«å·¥ä½œæˆ–è€…ä»€ä¹ˆå…¶ä»–ä¼˜å…ˆçº§æ›´é«˜çš„äº‹ç»™æŒ¤èµ°äº†ã€‚ ä»Šå¤©å°±æ€»ç»“ä¸€ä¸‹ï¼Œåœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œé¢å¯¹Gisçš„æ•°æ®æ¸²æŸ“ï¼Œå¤§é‡æˆ–è€…æ‰¹é‡æ‰€é‡‡ç”¨è¿‡çš„æ¸²æŸ“ç­–ç•¥ğŸ±â€ğŸ å…¨æ–‡åˆ†äº†å‡ ä¸ªéƒ¨åˆ†æ–¹å¼ï¼š  ç®€å•ç²—æš´ï¼Œç›´æ¥æ¸²æŸ“ï¼› è§†åŸŸå†…diffå¢é‡ï¼› å»ºç«‹ç®€æ˜“LRUç¼“å­˜é˜Ÿåˆ—ï¼› é€šç”¨è¾…åŠ©">
<meta name="keywords" content="JavaScript,Web">
<meta property="og:type" content="article">
<meta property="og:title" content="å¤§é‡&#x2F;æ‰¹é‡æ•°æ®ä¼˜åŒ–æ€»ç»“">
<meta property="og:url" content="http://jayantxu.cn/2021/05/26/2021/æ‰¹é‡æ•°æ®ç»˜åˆ¶å¿ƒå¾—/index.html">
<meta property="og:site_name" content="Jayant Blog">
<meta property="og:description" content="è¿˜æ²¡å¼€å§‹å†™ï¼Œå°±æ„Ÿè§‰çœŸçš„æ˜¯å°†è¦å‘•å¿ƒæ²¥è¡€ï¼ˆæ‹–æ‹–æ‹‰æ‹‰ï¼‰çš„ä¸€ç¯‡ï¼Œå…¶å®å†™ä¸œè¥¿çœŸçš„å¥½ä¸å®¹æ˜“ğŸ˜‚ï¼Œè™½ç„¶æœ‰æ—¶å€™ï¼Œå¿ƒçµæ·±å¤„ä¸€æ‰‘é€šï¼Œç‰¹åˆ«æƒ³æ€»ç»“æŸä¸€æ ·ä¸œè¥¿ï¼Œä½†æ˜¯æ€»æ˜¯é¡¶ä¸ä½æ‹–å»¶æˆ–è€…åˆè¢«å·¥ä½œæˆ–è€…ä»€ä¹ˆå…¶ä»–ä¼˜å…ˆçº§æ›´é«˜çš„äº‹ç»™æŒ¤èµ°äº†ã€‚ ä»Šå¤©å°±æ€»ç»“ä¸€ä¸‹ï¼Œåœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œé¢å¯¹Gisçš„æ•°æ®æ¸²æŸ“ï¼Œå¤§é‡æˆ–è€…æ‰¹é‡æ‰€é‡‡ç”¨è¿‡çš„æ¸²æŸ“ç­–ç•¥ğŸ±â€ğŸ å…¨æ–‡åˆ†äº†å‡ ä¸ªéƒ¨åˆ†æ–¹å¼ï¼š  ç®€å•ç²—æš´ï¼Œç›´æ¥æ¸²æŸ“ï¼› è§†åŸŸå†…diffå¢é‡ï¼› å»ºç«‹ç®€æ˜“LRUç¼“å­˜é˜Ÿåˆ—ï¼› é€šç”¨è¾…åŠ©">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://jayantxu.cn/2021/05/26/2021/æ‰¹é‡æ•°æ®ç»˜åˆ¶å¿ƒå¾—/GIF_1.gif">
<meta property="og:image" content="http://jayantxu.cn/2021/05/26/2021/æ‰¹é‡æ•°æ®ç»˜åˆ¶å¿ƒå¾—/GIF_2.gif">
<meta property="og:image" content="http://jayantxu.cn/2021/05/26/2021/æ‰¹é‡æ•°æ®ç»˜åˆ¶å¿ƒå¾—/GIF_3.gif">
<meta property="og:image" content="http://jayantxu.cn/2021/05/26/2021/æ‰¹é‡æ•°æ®ç»˜åˆ¶å¿ƒå¾—/GIF_4.gif">
<meta property="og:image" content="http://jayantxu.cn/2021/05/26/2021/æ‰¹é‡æ•°æ®ç»˜åˆ¶å¿ƒå¾—/GIF_5.gif">
<meta property="og:updated_time" content="2021-06-13T15:17:55.531Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="å¤§é‡&#x2F;æ‰¹é‡æ•°æ®ä¼˜åŒ–æ€»ç»“">
<meta name="twitter:description" content="è¿˜æ²¡å¼€å§‹å†™ï¼Œå°±æ„Ÿè§‰çœŸçš„æ˜¯å°†è¦å‘•å¿ƒæ²¥è¡€ï¼ˆæ‹–æ‹–æ‹‰æ‹‰ï¼‰çš„ä¸€ç¯‡ï¼Œå…¶å®å†™ä¸œè¥¿çœŸçš„å¥½ä¸å®¹æ˜“ğŸ˜‚ï¼Œè™½ç„¶æœ‰æ—¶å€™ï¼Œå¿ƒçµæ·±å¤„ä¸€æ‰‘é€šï¼Œç‰¹åˆ«æƒ³æ€»ç»“æŸä¸€æ ·ä¸œè¥¿ï¼Œä½†æ˜¯æ€»æ˜¯é¡¶ä¸ä½æ‹–å»¶æˆ–è€…åˆè¢«å·¥ä½œæˆ–è€…ä»€ä¹ˆå…¶ä»–ä¼˜å…ˆçº§æ›´é«˜çš„äº‹ç»™æŒ¤èµ°äº†ã€‚ ä»Šå¤©å°±æ€»ç»“ä¸€ä¸‹ï¼Œåœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œé¢å¯¹Gisçš„æ•°æ®æ¸²æŸ“ï¼Œå¤§é‡æˆ–è€…æ‰¹é‡æ‰€é‡‡ç”¨è¿‡çš„æ¸²æŸ“ç­–ç•¥ğŸ±â€ğŸ å…¨æ–‡åˆ†äº†å‡ ä¸ªéƒ¨åˆ†æ–¹å¼ï¼š  ç®€å•ç²—æš´ï¼Œç›´æ¥æ¸²æŸ“ï¼› è§†åŸŸå†…diffå¢é‡ï¼› å»ºç«‹ç®€æ˜“LRUç¼“å­˜é˜Ÿåˆ—ï¼› é€šç”¨è¾…åŠ©">
<meta name="twitter:image" content="http://jayantxu.cn/2021/05/26/2021/æ‰¹é‡æ•°æ®ç»˜åˆ¶å¿ƒå¾—/GIF_1.gif">


<link rel="icon" href="/img/MyPic.png">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/gruvbox-dark.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0"></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js"></script>

<script src="/js/iconfont.js?v=1.1.0"></script>

</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value>
  <input class="theme_blog_path" value>
  <input id="theme_shortcut" value="true">
  <input id="theme_highlight_on" value="true">
  <input id="theme_code_copy" value="true">
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/MyPic.png">
</a>
<div class="author">
    <span>Jayantxu</span>
</div>

<div class="icon">
    
        
            <a title="github" href="https://github.com/Jayantxu" target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"/>
                    </svg>
                
            </a>
        
    
        
            <a title="email" href="mailto:Jayant_xu@qq.com" target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"/>
                    </svg>
                
            </a>
        
    
        
            <a title="qq" href="http://wpa.qq.com/msgrd?v=3&uin=591060601&site=qq&menu=yes" target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-qq"/>
                    </svg>
                
            </a>
        
    
</div>




<ul>
    <li>
        <!-- <div class="all active" data-rel="å…¨éƒ¨æ–‡ç« ">å…¨éƒ¨æ–‡ç« 
            
                <small>(68)</small>
            
        </div> -->
    </li>
    
        
            
                <li>
                    <div data-rel="å‰ç«¯">
                        
                        å‰ç«¯
                        <small>(51)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="åç«¯">
                        
                        åç«¯
                        <small>(3)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="å·¥å…·">
                        
                        å·¥å…·
                        <small>(9)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="è¯»ä¹¦Vç”Ÿæ´»">
                        
                        è¯»ä¹¦Vç”Ÿæ´»
                        <small>(5)</small>
                        
                    </div>
                    
                </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
    </div>
    <div>
        
            <a class="about  site_url" href="/about">å…³äº</a>
        
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="68">
<input type="hidden" id="yelog_site_word_count" value="70.2k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        å‹æƒ…é“¾æ¥
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="æœç´¢ å¿«æ·é”® i"></i>
            <div class="right-title">å…¨éƒ¨æ–‡ç« </div>
            <i class="iconfont icon-file-tree" data-title="åˆ‡æ¢åˆ°å¤§çº²è§†å›¾ å¿«æ·é”® w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="è¿”å›"></i>
            <input id="local-search-input" autocomplete="off">
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="å¤§å°å†™æ•æ„Ÿ"></i>
            <i class="iconfont icon-tag" data-title="æ ‡ç­¾"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">å¤§çº²</div>
            <i class="iconfont icon-list" data-title="åˆ‡æ¢åˆ°æ–‡ç« åˆ—è¡¨"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search">
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Adv</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Axios</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Bug</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>canvas</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>CSS</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Element</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Express</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Git</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Gulp</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>HTML</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>HTTP</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Interview</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>JavaScipt</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>JavaScript</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MySQL</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Node</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Stylus</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Vue</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Web</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>WebPack</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ä¹¦ç±æ‘˜å½•</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>å¸ƒå±€</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>æ—¥å¸¸ç¢ç¢</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>æºç </a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ç®—æ³•</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>è¸©å‘</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>è½¬è½½</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        <a id="top" class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2019/01/22/2019/hello-world/" data-tag="æ—¥å¸¸ç¢ç¢" data-author>
            <span class="post-title" title="Hello">Hello</span>
            <span class="post-date" title="2019-01-22 21:45:11">2019/01/22</span>
        </a>
        
        <a id="top" class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2021/06/01/2021/rJUI&vJUI/" data-tag="JavaScript,HTML" data-author>
            <span class="post-title" title="rJUI&amp;vJUIâœ¨âœ¨âœ¨">rJUI&amp;vJUIâœ¨âœ¨âœ¨</span>
            <span class="post-date" title="2021-06-01 22:23:03">2021/06/01</span>
        </a>
        
        <a id="top" class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2021/05/26/2021/æ‰¹é‡æ•°æ®ç»˜åˆ¶å¿ƒå¾—/" data-tag="JavaScript,Web" data-author>
            <span class="post-title" title="å¤§é‡/æ‰¹é‡æ•°æ®ä¼˜åŒ–æ€»ç»“">å¤§é‡/æ‰¹é‡æ•°æ®ä¼˜åŒ–æ€»ç»“</span>
            <span class="post-date" title="2021-05-26 20:23:03">2021/05/26</span>
        </a>
        
        <a id="top" class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2021/05/07/2021/SKUå•†å“å±æ€§ç»„åˆå®è·µ/" data-tag="JavaScript" data-author>
            <span class="post-title" title="SKUå•†å“å±æ€§ç»„åˆå®è·µ">SKUå•†å“å±æ€§ç»„åˆå®è·µ</span>
            <span class="post-date" title="2021-05-07 16:22:31">2021/05/07</span>
        </a>
        
        <a id="top" class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2020/03/30/2020/è½®æ’­/" data-tag="CSS,JavaScript" data-author>
            <span class="post-title" title="æ¨¡æ‹Ÿç”Ÿæˆè™šæ‹Ÿ3Dè½®æ’­ç»“æ„">æ¨¡æ‹Ÿç”Ÿæˆè™šæ‹Ÿ3Dè½®æ’­ç»“æ„</span>
            <span class="post-date" title="2020-03-30 17:30:29">2020/03/30</span>
        </a>
        
        <a id="top" class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2020/02/15/2020/adv/" data-tag="JavaScript,Vue,Adv" data-author>
            <span class="post-title" title="adv">adv</span>
            <span class="post-date" title="2020-02-15 00:00:00">2020/02/15</span>
        </a>
        
        <a id="top" class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2020/01/07/2020/è´¹èˆå°”-è€¶èŒ¨æ··æ´—/" data-tag="JavaScript,ç®—æ³•" data-author>
            <span class="post-title" title="å€Ÿé‰´è´¹èˆå°”.è€¶èŒ¨æ··æ´—ä¼˜åŒ–å…¬å¸å¹´ä¼šæŠ½å¥–">å€Ÿé‰´è´¹èˆå°”.è€¶èŒ¨æ··æ´—ä¼˜åŒ–å…¬å¸å¹´ä¼šæŠ½å¥–</span>
            <span class="post-date" title="2020-01-07 00:00:00">2020/01/07</span>
        </a>
        
        <a id="top" class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2019/10/08/2019/canvasè¿›è¡Œå›¾åƒåƒç´ ç‚¹ç€è‰²/" data-tag="canvas" data-author>
            <span class="post-title" title="åŸºäºCanvasè¿›è¡Œåƒç´ åˆ†æï¼Œç»“åˆæ•°æ®è¿›è¡Œå®æ—¶ç€è‰²">åŸºäºCanvasè¿›è¡Œåƒç´ åˆ†æï¼Œç»“åˆæ•°æ®è¿›è¡Œå®æ—¶ç€è‰²</span>
            <span class="post-date" title="2019-10-08 18:35:35">2019/10/08</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2021/04/12/2021/æµè§ˆå™¨çš„å¤šçº¿ç¨‹/" data-tag="JavaScript,HTTP" data-author>
            <span class="post-title" title="æµè§ˆå™¨çš„å¤šçº¿ç¨‹">æµè§ˆå™¨çš„å¤šçº¿ç¨‹</span>
            <span class="post-date" title="2021-04-12 19:10:48">2021/04/12</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2021/04/07/2021/HTTP1-HTTP1-1-HTTP2-HTTPS-HTTP3çš„åŒºåˆ«ç‰¹ç‚¹/" data-tag="HTTP,Web" data-author>
            <span class="post-title" title="HTTP1-HTTP1.1-HTTP2-HTTPS-HTTP3çš„åŒºåˆ«ç‰¹å®š">HTTP1-HTTP1.1-HTTP2-HTTPS-HTTP3çš„åŒºåˆ«ç‰¹å®š</span>
            <span class="post-date" title="2021-04-07 14:45:27">2021/04/07</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  è¯»ä¹¦Vç”Ÿæ´» " href="/2021/04/05/2021/githubçš„3Dæ‰“å°/" data-tag="æ—¥å¸¸ç¢ç¢" data-author>
            <span class="post-title" title="æœ‰è¶£-githubçš„3Dæ‰“å°">æœ‰è¶£-githubçš„3Dæ‰“å°</span>
            <span class="post-date" title="2021-04-05 00:00:00">2021/04/05</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2021/04/02/2021/åå¤§æ’åº/" data-tag="JavaScript" data-author>
            <span class="post-title" title="åå¤§æ’åº">åå¤§æ’åº</span>
            <span class="post-date" title="2021-04-02 11:10:07">2021/04/02</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2021/04/01/2021/JSæ‰‹å†™Promise/" data-tag="JavaScript,è½¬è½½" data-author>
            <span class="post-title" title="JSæ‰‹å†™Promise">JSæ‰‹å†™Promise</span>
            <span class="post-date" title="2021-04-01 20:08:55">2021/04/01</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2021/02/26/2021/HTTPç¼“å­˜/" data-tag="HTTP" data-author>
            <span class="post-title" title="HTTPç¼“å­˜">HTTPç¼“å­˜</span>
            <span class="post-date" title="2021-02-26 00:00:00">2021/02/26</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2021/02/21/2021/TCPä¸UDPçš„åŒºåˆ«/" data-tag="HTTP,Web" data-author>
            <span class="post-title" title="TCPä¸UDPçš„åŒºåˆ«">TCPä¸UDPçš„åŒºåˆ«</span>
            <span class="post-date" title="2021-02-21 22:23:03">2021/02/21</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2021/01/08/2021/JSä¸stylusä¸CSSVarçš„ç›¸äº’ä½œç”¨/" data-tag="CSS,JavaScript,Stylus" data-author>
            <span class="post-title" title="JSä¸stylusä¸CSSVarçš„ç›¸äº’ä½œç”¨">JSä¸stylusä¸CSSVarçš„ç›¸äº’ä½œç”¨</span>
            <span class="post-date" title="2021-01-08 00:00:00">2021/01/08</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2021/01/01/web/CSS/" data-tag="CSS,Web,Interview" data-author>
            <span class="post-title" title="CSS&amp;HTML">CSS&amp;HTML</span>
            <span class="post-date" title="2021-01-01 00:00:00">2021/01/01</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2021/01/01/web/HTTP/" data-tag="HTTP,Web,Interview" data-author>
            <span class="post-title" title="HTTP">HTTP</span>
            <span class="post-date" title="2021-01-01 00:00:00">2021/01/01</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2021/01/01/web/JS/" data-tag="JavaScript,Web,Interview" data-author>
            <span class="post-title" title="JS">JS</span>
            <span class="post-date" title="2021-01-01 00:00:00">2021/01/01</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2021/01/01/web/interview/" data-tag="Web,Interview" data-author>
            <span class="post-title" title="interview">interview</span>
            <span class="post-date" title="2021-01-01 00:00:00">2021/01/01</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2021/01/01/web/Vue/" data-tag="Vue,Web,Interview" data-author>
            <span class="post-title" title="Vue">Vue</span>
            <span class="post-date" title="2021-01-01 00:00:00">2021/01/01</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2021/01/01/web/webpack/" data-tag="Web,Interview,WebPack" data-author>
            <span class="post-title" title="WebPack">WebPack</span>
            <span class="post-date" title="2021-01-01 00:00:00">2021/01/01</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2020/12/26/2020/stylus-media/" data-tag="CSS,Stylus" data-author>
            <span class="post-title" title="stylus_media">stylus_media</span>
            <span class="post-date" title="2020-12-26 11:30:02">2020/12/26</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  è¯»ä¹¦Vç”Ÿæ´» " href="/2020/12/01/2020/My/" data-tag="æ—¥å¸¸ç¢ç¢" data-author>
            <span class="post-title" title="My">My</span>
            <span class="post-date" title="2020-12-01 20:09:10">2020/12/01</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2020/11/05/2020/ç½‘ç»œä¸ƒå±‚ç»“æ„/" data-tag="HTTP" data-author>
            <span class="post-title" title="ç½‘ç»œä¸ƒå±‚ç»“æ„">ç½‘ç»œä¸ƒå±‚ç»“æ„</span>
            <span class="post-date" title="2020-11-05 11:20:37">2020/11/05</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2020/10/28/2020/HTTPå¸¸è§çŠ¶æ€ç /" data-tag="HTTP" data-author>
            <span class="post-title" title="HTTPå¸¸è§çŠ¶æ€ç ">HTTPå¸¸è§çŠ¶æ€ç </span>
            <span class="post-date" title="2020-10-28 09:29:34">2020/10/28</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2020/09/29/2020/JSè®¾è®¡æ¨¡å¼/" data-tag="JavaScript" data-author>
            <span class="post-title" title="JSè®¾è®¡æ¨¡å¼">JSè®¾è®¡æ¨¡å¼</span>
            <span class="post-date" title="2020-09-29 21:56:10">2020/09/29</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2020/09/28/2020/JSæ¨¡å—åŒ–æ¼”è¿›/" data-tag="JavaScript" data-author>
            <span class="post-title" title="JSæ¨¡å—åŒ–æ¼”è¿›">JSæ¨¡å—åŒ–æ¼”è¿›</span>
            <span class="post-date" title="2020-09-28 09:21:32">2020/09/28</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2020/09/23/2020/åƒåœ¾å›æ”¶æœºåˆ¶/" data-tag="JavaScript" data-author>
            <span class="post-title" title="åƒåœ¾å›æ”¶æœºåˆ¶">åƒåœ¾å›æ”¶æœºåˆ¶</span>
            <span class="post-date" title="2020-09-23 22:39:54">2020/09/23</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2020/08/11/2020/XSS-CSRF/" data-tag="JavaScript,HTTP" data-author>
            <span class="post-title" title="XSS-CSRF-Cookie">XSS-CSRF-Cookie</span>
            <span class="post-date" title="2020-08-11 21:57:03">2020/08/11</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2020/07/09/2020/ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹/" data-tag="HTTP" data-author>
            <span class="post-title" title="ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹">ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹</span>
            <span class="post-date" title="2020-07-09 21:09:28">2020/07/09</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2020/07/09/2020/HTTPSè¿æ¥è¿‡ç¨‹/" data-tag="HTTP" data-author>
            <span class="post-title" title="HTTPSè¿æ¥è¿‡ç¨‹">HTTPSè¿æ¥è¿‡ç¨‹</span>
            <span class="post-date" title="2020-07-09 00:00:00">2020/07/09</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2020/06/30/2020/async-awaitåŸç†/" data-tag="JavaScript" data-author>
            <span class="post-title" title="async/awaitåŸç†">async/awaitåŸç†</span>
            <span class="post-date" title="2020-06-30 20:03:07">2020/06/30</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å·¥å…· " href="/2020/06/21/2020/Vueæ•°æ®åŒå‘ç»‘å®šåŸç†/" data-tag="Vue" data-author>
            <span class="post-title" title="Vueå“åº”å¼åŸç†">Vueå“åº”å¼åŸç†</span>
            <span class="post-date" title="2020-06-21 20:02:10">2020/06/21</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2020/06/12/2020/EventLoop/" data-tag="JavaScript" data-author>
            <span class="post-title" title="EventLoop">EventLoop</span>
            <span class="post-date" title="2020-06-12 12:20:39">2020/06/12</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2020/05/11/2020/corsè·¨åŸŸ/" data-tag="JavaScript,HTTP" data-author>
            <span class="post-title" title="è·¨åŸŸè®¿é—®">è·¨åŸŸè®¿é—®</span>
            <span class="post-date" title="2020-05-11 20:38:10">2020/05/11</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2020/02/03/2020/é‡ç»˜å›æµ/" data-tag="CSS,JavaScript,HTML" data-author>
            <span class="post-title" title="é‡ç»˜å›æµ">é‡ç»˜å›æµ</span>
            <span class="post-date" title="2020-02-03 00:00:00">2020/02/03</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å·¥å…· " href="/2020/01/27/2020/Vueçš„Keep-alive/" data-tag="Vue" data-author>
            <span class="post-title" title="Vueçš„Keep-aliveç»„ä»¶">Vueçš„Keep-aliveç»„ä»¶</span>
            <span class="post-date" title="2020-01-27 20:17:56">2020/01/27</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å·¥å…· " href="/2020/01/23/2020/Vueçš„nextTickå‰–æ/" data-tag="Vue" data-author>
            <span class="post-title" title="Vueçš„nextTickå‰–æ">Vueçš„nextTickå‰–æ</span>
            <span class="post-date" title="2020-01-23 16:42:30">2020/01/23</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å·¥å…· " href="/2020/01/17/2020/Vue-Diff/" data-tag="Vue,è½¬è½½" data-author>
            <span class="post-title" title="Vueè™šæ‹ŸèŠ‚ç‚¹VNodeDiffç®—æ³•">Vueè™šæ‹ŸèŠ‚ç‚¹VNodeDiffç®—æ³•</span>
            <span class="post-date" title="2020-01-17 20:17:56">2020/01/17</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2019/12/15/2019/JSåŸå‹é“¾/" data-tag="JavaScipt" data-author>
            <span class="post-title" title="JSåŸå‹é“¾">JSåŸå‹é“¾</span>
            <span class="post-date" title="2019-12-15 22:48:23">2019/12/15</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2019/11/01/2019/è¸©å‘eChartså‚æ•°/" data-tag="è¸©å‘" data-author>
            <span class="post-title" title="è¸©å‘eChartså‚æ•°">è¸©å‘eChartså‚æ•°</span>
            <span class="post-date" title="2019-11-01 18:51:02">2019/11/01</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2019/10/17/2019/thisæŒ‡å‘/" data-tag="JavaScript" data-author>
            <span class="post-title" title="thisæŒ‡å‘">thisæŒ‡å‘</span>
            <span class="post-date" title="2019-10-17 22:33:39">2019/10/17</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2019/09/26/2019/ä¸€ä¸ªå¤±ç„¦æŒ‡ä»¤çš„å­¦ä¹ /" data-tag="Vue,Element" data-author>
            <span class="post-title" title="ä¸€ä¸ªå¤±ç„¦æŒ‡ä»¤çš„å­¦ä¹ ">ä¸€ä¸ªå¤±ç„¦æŒ‡ä»¤çš„å­¦ä¹ </span>
            <span class="post-date" title="2019-09-26 17:41:35">2019/09/26</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  è¯»ä¹¦Vç”Ÿæ´» " href="/2019/06/27/2019/æ¯•ä¸šäº†/" data-tag="æ—¥å¸¸ç¢ç¢" data-author>
            <span class="post-title" title="æ¯•ä¸šäº†">æ¯•ä¸šäº†</span>
            <span class="post-date" title="2019-06-27 19:48:20">2019/06/27</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2019/05/13/2019/Flexå¸ƒå±€çš„åŸºæœ¬å±æ€§ä»‹ç»/" data-tag="CSS,å¸ƒå±€" data-author>
            <span class="post-title" title="Flexå¸ƒå±€çš„åŸºæœ¬å±æ€§ä»‹ç»">Flexå¸ƒå±€çš„åŸºæœ¬å±æ€§ä»‹ç»</span>
            <span class="post-date" title="2019-05-13 13:22:26">2019/05/13</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å·¥å…· " href="/2019/04/09/2019/Gulpæºç åˆ†æå­¦ä¹ -ä¸‰/" data-tag="Gulp,æºç " data-author>
            <span class="post-title" title="Gulpæºç åˆ†æå­¦ä¹ (ä¸‰">Gulpæºç åˆ†æå­¦ä¹ (ä¸‰</span>
            <span class="post-date" title="2019-04-09 08:51:45">2019/04/09</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å·¥å…· " href="/2019/04/06/2019/Gulpæºç åˆ†æå­¦ä¹ -äºŒ/" data-tag="Gulp,æºç " data-author>
            <span class="post-title" title="Gulpæºç åˆ†æå­¦ä¹ (äºŒ">Gulpæºç åˆ†æå­¦ä¹ (äºŒ</span>
            <span class="post-date" title="2019-04-06 13:47:27">2019/04/06</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å·¥å…· " href="/2019/04/05/2019/Gulpæºç åˆ†æå­¦ä¹ -ä¸€/" data-tag="Gulp,æºç " data-author>
            <span class="post-title" title="Gulpæºç åˆ†æå­¦ä¹ (ä¸€">Gulpæºç åˆ†æå­¦ä¹ (ä¸€</span>
            <span class="post-date" title="2019-04-05 16:41:26">2019/04/05</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  åç«¯ " href="/2019/03/30/2019/Nodeè¯»å–å›¾ç‰‡å¹¶è½¬Base64/" data-tag="Node" data-author>
            <span class="post-title" title="Nodeè¯»å–å›¾ç‰‡å¹¶è½¬Base64">Nodeè¯»å–å›¾ç‰‡å¹¶è½¬Base64</span>
            <span class="post-date" title="2019-03-30 00:12:42">2019/03/30</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2019/03/26/2019/Gridå¸ƒå±€/" data-tag="CSS,å¸ƒå±€,è½¬è½½" data-author>
            <span class="post-title" title="Gridå¸ƒå±€">Gridå¸ƒå±€</span>
            <span class="post-date" title="2019-03-26 10:50:48">2019/03/26</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2019/03/03/2019/é˜»æ­¢å†’æ³¡ã€é»˜è®¤äº‹ä»¶/" data-tag="JavaScript,HTML" data-author>
            <span class="post-title" title="é˜»æ­¢å†’æ³¡ã€é»˜è®¤äº‹ä»¶">é˜»æ­¢å†’æ³¡ã€é»˜è®¤äº‹ä»¶</span>
            <span class="post-date" title="2019-03-03 20:30:42">2019/03/03</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2019/03/03/2019/CSSæ¸…é™¤æµ®åŠ¨/" data-tag="CSS" data-author>
            <span class="post-title" title="CSSæ¸…é™¤æµ®åŠ¨çš„å‡ ç§æ–¹å¼">CSSæ¸…é™¤æµ®åŠ¨çš„å‡ ç§æ–¹å¼</span>
            <span class="post-date" title="2019-03-03 19:29:44">2019/03/03</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2019/03/01/2019/marginé‡å ä»¥åŠè§£å†³åŠæ³•/" data-tag="CSS,JavaScript,HTML" data-author>
            <span class="post-title" title="marginé‡å ä»¥åŠè§£å†³åŠæ³•">marginé‡å ä»¥åŠè§£å†³åŠæ³•</span>
            <span class="post-date" title="2019-03-01 23:15:21">2019/03/01</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2019/03/01/2019/CSSçœç•¥å·å®ç°/" data-tag="CSS,HTML" data-author>
            <span class="post-title" title="CSSçœç•¥å·å®ç°">CSSçœç•¥å·å®ç°</span>
            <span class="post-date" title="2019-03-01 16:09:35">2019/03/01</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å·¥å…· " href="/2019/02/21/2019/Gulpå¢é‡ç¼–è¯‘ä¼˜åŒ–/" data-tag="JavaScript,Gulp" data-author>
            <span class="post-title" title="Gulpå¢é‡ç¼–è¯‘ä¼˜åŒ–">Gulpå¢é‡ç¼–è¯‘ä¼˜åŒ–</span>
            <span class="post-date" title="2019-02-21 20:14:45">2019/02/21</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2019/02/18/2019/JavaScriptæ·±æµ…æ‹·è´/" data-tag="JavaScript" data-author>
            <span class="post-title" title="JavaScriptæ·±æµ…æ‹·è´">JavaScriptæ·±æµ…æ‹·è´</span>
            <span class="post-date" title="2019-02-18 20:06:36">2019/02/18</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  åç«¯ " href="/2019/02/10/2019/Node-expressæ–‡ä»¶ä¸Šä¼ ä¸‹è½½/" data-tag="HTML,Node,Express,Element" data-author>
            <span class="post-title" title="Node+Express+Elementå®ç°æ–‡ä»¶ä¸Šä¼ ä¸‹è½½">Node+Express+Elementå®ç°æ–‡ä»¶ä¸Šä¼ ä¸‹è½½</span>
            <span class="post-date" title="2019-02-10 20:59:42">2019/02/10</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  è¯»ä¹¦Vç”Ÿæ´» " href="/2019/02/08/2019/æ–°å¹´å¿«ä¹/" data-tag="æ—¥å¸¸ç¢ç¢" data-author>
            <span class="post-title" title="æ–°å¹´å¿«ä¹">æ–°å¹´å¿«ä¹</span>
            <span class="post-date" title="2019-02-08 22:41:02">2019/02/08</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  åç«¯ " href="/2019/02/02/2019/Node-MySQLé‡Šæ”¾æ•°æ®åº“è¿æ¥çš„Bug/" data-tag="Node,Express,MySQL,Bug" data-author>
            <span class="post-title" title="Node+MySQLé‡Šæ”¾æ•°æ®åº“è¿æ¥çš„Bug">Node+MySQLé‡Šæ”¾æ•°æ®åº“è¿æ¥çš„Bug</span>
            <span class="post-date" title="2019-02-02 19:42:07">2019/02/02</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2019/02/02/2019/transformå¯¹fixed/" data-tag="CSS,Bug" data-author>
            <span class="post-title" title="transformçˆ¶å…ƒç´ å¯¹fixedå­å…ƒç´ çš„å½±å“">transformçˆ¶å…ƒç´ å¯¹fixedå­å…ƒç´ çš„å½±å“</span>
            <span class="post-date" title="2019-02-02 10:16:34">2019/02/02</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2019/02/02/2019/Vueçˆ¶å­é€šä¿¡/" data-tag="JavaScript,Vue" data-author>
            <span class="post-title" title="Vueçˆ¶å­ç»„ä»¶é—´çš„é€šä¿¡">Vueçˆ¶å­ç»„ä»¶é—´çš„é€šä¿¡</span>
            <span class="post-date" title="2019-02-02 09:45:31">2019/02/02</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2019/01/31/2019/Axiosä½¿ç”¨/" data-tag="JavaScript,Axios,Vue" data-author>
            <span class="post-title" title="Axiosä½¿ç”¨">Axiosä½¿ç”¨</span>
            <span class="post-date" title="2019-01-31 15:14:03">2019/01/31</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2019/01/24/2019/æ‰‹å†™new-call-apply-bind/" data-tag="JavaScript" data-author>
            <span class="post-title" title="æ‰‹å†™newã€callã€applyã€bind">æ‰‹å†™newã€callã€applyã€bind</span>
            <span class="post-date" title="2019-01-24 19:21:39">2019/01/24</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2019/01/23/2019/JavaScriptç»§æ‰¿/" data-tag="JavaScript" data-author>
            <span class="post-title" title="JavaScriptç»§æ‰¿">JavaScriptç»§æ‰¿</span>
            <span class="post-date" title="2019-01-23 15:29:41">2019/01/23</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å‰ç«¯ " href="/2019/01/23/2019/JavaScriptåˆ›å»ºå¯¹è±¡/" data-tag="JavaScript" data-author>
            <span class="post-title" title="JavaScriptåˆ›å»ºå¯¹è±¡">JavaScriptåˆ›å»ºå¯¹è±¡</span>
            <span class="post-date" title="2019-01-23 14:10:25">2019/01/23</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  å·¥å…· " href="/2019/01/23/2019/Gitç›¸å…³å‘½ä»¤/" data-tag="Git" data-author>
            <span class="post-title" title="Gitç›¸å…³å‘½ä»¤">Gitç›¸å…³å‘½ä»¤</span>
            <span class="post-date" title="2019-01-23 09:45:11">2019/01/23</span>
        </a>
        
        <a class="å…¨éƒ¨æ–‡ç«  è¯»ä¹¦Vç”Ÿæ´» " href="/2019/01/23/2019/é˜…è¯»æ‘˜å½•/" data-tag="ä¹¦ç±æ‘˜å½•" data-author>
            <span class="post-title" title="é˜…è¯»æ‘˜å½•">é˜…è¯»æ‘˜å½•</span>
            <span class="post-date" title="2019-01-23 08:56:01">2019/01/23</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="åˆ‡æ¢å…¨å± å¿«æ·é”® s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-2020/Vueæ•°æ®åŒå‘ç»‘å®šåŸç†" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Vueå“åº”å¼åŸç†</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a data-rel="å·¥å…·">å·¥å…·</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color4">Vue</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            å‘å¸ƒæ—¶é—´ : <time class="date" title="æœ€åæ›´æ–°: 2021-06-13 23:17:55">2020-06-21 20:02</time>
        
    </div>
    <div class="article-meta">
        
        <span>å­—æ•°:4.2k</span>
        
        
        <span id="busuanzi_container_page_pv">
            é˜…è¯» :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue2"><span class="toc-text">Vue2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#å¯¹è±¡å˜å“åº”å¼"><span class="toc-text">å¯¹è±¡å˜å“åº”å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#indexå…¥å£"><span class="toc-text">indexå…¥å£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#initJS"><span class="toc-text">initJS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#stateJS"><span class="toc-text">stateJS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#initPorps"><span class="toc-text">initPorps</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#initData"><span class="toc-text">initData</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#proxy"><span class="toc-text">proxy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#observe"><span class="toc-text">observe</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Observer"><span class="toc-text">Observer</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#defineReactive"><span class="toc-text">defineReactive</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getæ”¶é›†ä¾èµ–"><span class="toc-text">getæ”¶é›†ä¾èµ–</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Dep"><span class="toc-text">Dep</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Watcher"><span class="toc-text">Watcher</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#æ´¾å‘æ›´æ–°"><span class="toc-text">æ´¾å‘æ›´æ–°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#dep-notify"><span class="toc-text">dep.notify</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#watcher-update"><span class="toc-text">watcher.update</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#queueWatcher"><span class="toc-text">queueWatcher</span></a></li></ol></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-6 i,
    .toc-level-6 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Vue2"><a href="#Vue2" class="headerlink" title="Vue2"></a>Vue2</h2><p>ä¹‹å‰çœ‹è¿‡å‡ å›<code>Vue</code>çš„å“åº”å¼åŸç†å‰–æï¼Œä½†æ˜¯å‡ ä¹æ€»æ˜¯ä¸ä¹…å°±å¿˜è®°äº†ï¼Œä»…ä»…æ˜¯ä¾ç¨€è®°å¾—<code>defineProperty</code>åš<code>get</code>å’Œ<code>set</code>çš„æ•°æ®åŠ«æŒï¼Œç„¶ååœ¨æ­¤åŸºç¡€ä¸Šåšä¸€äº›å‘å¸ƒï¼Œè¯´åˆ°åº•è¿˜æ˜¯å¯èƒ½ä¸å¤Ÿæ·±å…¥ï¼Œä¸å¤Ÿç†è§£ï¼Œç‰¹æ­¤å¸Œæœ›å€Ÿæ­¤æ€»ç»“ä¸€ä¸‹ï¼Œå°†ä¸€äº›ç‚¹åšä¸‹è®°å½•ï¼Œé¡ºä¾¿å¯¹æºç åšä¸€äº›å›é¡¾ã€‚<br>æˆ‘ä»¬ä»ä¸‰ä¸ªéƒ¨åˆ†æ¥ä»‹ç»<code>Vue</code>çš„å“åº”å¼åŸç†çš„å®ç°ï¼š</p>
<ul>
<li>å¯¹è±¡å˜å“åº”å¼</li>
<li>getæ”¶é›†ä¾èµ–</li>
<li>setå‘å¸ƒæ›´æ–°</li>
</ul>
<h3 id="å¯¹è±¡å˜å“åº”å¼"><a href="#å¯¹è±¡å˜å“åº”å¼" class="headerlink" title="å¯¹è±¡å˜å“åº”å¼"></a>å¯¹è±¡å˜å“åº”å¼</h3><p>æˆ‘ä»¬éƒ½çŸ¥é“<code>Vue</code>ä¸­æ˜¯é€šè¿‡<code>defineProperty</code>è¿›è¡Œæ•°æ®åŠ«æŒï¼Œä½†æ˜¯ä»–å…·ä½“æ˜¯å¦‚ä½•è¿›è¡Œåˆ°åŠ«æŒè¿™ä¸€æ­¥çš„å‘¢ï¼Ÿ<br>æˆ‘ä»¬ä¸€èµ·ä»<code>Vue</code>çš„æºç ä¸­å¼€å§‹äº†è§£ä¸€ä¸‹å§ï¼</p>
<h4 id="indexå…¥å£"><a href="#indexå…¥å£" class="headerlink" title="indexå…¥å£"></a>indexå…¥å£</h4><ul>
<li><code>src\core\instance\index.js</code></li>
</ul>
<p>Vueçš„æºç å…¥å£ï¼Œå…¶ä¸­é€šè¿‡<code>Function</code>å®ç°çš„<code>Vue</code>è¿™ä¸ªç±»ï¼Œå¹¶ä¸”è¿˜æ‰§è¡Œäº†ä¸€äº›æ–¹æ³•ï¼Œ</p>
<pre><code>initMixin(Vue) 
stateMixin(Vue)
eventsMixin(Vue)
lifecycleMixin(Vue)
renderMixin(Vue)
</code></pre><p>ä»å­—é¢æ„æ€ä¸Šæ¥çœ‹ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“ç†è§£ï¼Œ<code>Mixin</code>ï¼Œä»€ä¹ˆeventï¼ŒlifecycleMixinï¼Œå¤§æ¦‚åº”è¯¥éƒ½æ˜¯å¯¹Vueè¿™ä¸ªè¿›è¡Œçš„æ‰©å±•ã€‚è¿™ä¸ªä»¥åæœ‰æœºä¼šçš„è¯ä¸€èµ·è¯¦ç»†çœ‹çœ‹ï¼Œæœ¬å•å…ƒæˆ‘ä»¬çš„ä¸»è§’ï¼Œå°±æ˜¯<code>initMixin(Vue)</code>ï¼Œæˆ‘ä»¬çœ‹çœ‹å®ƒå®ç°äº†ä»€ä¹ˆå‘¢ã€‚</p>
<h4 id="initJS"><a href="#initJS" class="headerlink" title="initJS"></a>initJS</h4><ul>
<li><code>src\core\instance\init.js</code></li>
</ul>
<p>æˆ‘ä»¬çœ‹çœ‹<code>init</code>æ–¹æ³•å€’æ˜¯å®ç°äº†ä»€ä¹ˆï¼Œæˆ‘ä¼šå»é™¤æ‰éƒ¨åˆ†ä»£ç ï¼Œæˆ‘ä»¬æœ¬å•å…ƒå…³é”®æ˜¯å¯»æ‰¾å¦‚ä½•å˜æˆå“åº”å¼å¯¹è±¡çš„ã€‚</p>
<pre><code>export function initMixin (Vue: Class&lt;Component&gt;) {
  Vue.prototype._init = function (options?: Object) {
    const vm: Component = this
    vm._uid = uid++
    // ...

    initLifecycle(vm)
    initEvents(vm)
    initRender(vm)
    // ...
    callHook(vm, &#39;beforeCreate&#39;)
    initInjections(vm)
    initState(vm)
    initProvide(vm)
    callHook(vm, &#39;created&#39;)

    // ...
    if (vm.$options.el) {
      vm.$mount(vm.$options.el)
    }
  }
}
</code></pre><p>å°†<code>vm</code>å˜é‡èµ‹å€¼ä¸º<code>this</code>ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬å¸¸è§çš„<code>vm.xxx</code>å†™æ³•ï¼Œå…¶ä¸­è¿™å°±æ˜¯<code>vm = this</code>çš„ç”±æ¥ï¼Œè¿™å…¶ä¸­æ˜¯å¯¹<code>ç”Ÿå‘½å‘¨æœŸ</code>ï¼Œ<code>äº‹ä»¶</code>çš„ä¸€äº›åˆå§‹åŒ–ï¼Œä»¥åŠè°ƒç”¨äº†ä¸¤ä¸ªç”Ÿå‘½<code>é’©å­</code>å‡½æ•°ã€‚è€Œæœ€ä¸»è¦çš„å¯¹<code>data</code>å’Œ<code>prop</code>çš„å¤„ç†ï¼Œåˆ™æ˜¯åœ¨<code>initState</code>ä¸­ã€‚</p>
<h4 id="stateJS"><a href="#stateJS" class="headerlink" title="stateJS"></a>stateJS</h4><ul>
<li><code>src\core\instance\state.js</code></li>
</ul>
<pre><code>export function initState (vm: Component) {
  vm._watchers = []
  const opts = vm.$options
  if (opts.props) initProps(vm, opts.props)
  if (opts.methods) initMethods(vm, opts.methods)
  if (opts.data) {
    initData(vm) // åˆå§‹åŒ–æ•°æ®
  } else {
    observe(vm._data = {}, true /* asRootData */)
  }
  if (opts.computed) initComputed(vm, opts.computed)
  if (opts.watch &amp;&amp; opts.watch !== nativeWatch) {
    initWatch(vm, opts.watch) // åˆå§‹åŒ– Watch
  }
}
</code></pre><p><code>initState</code>ä¸»è¦å¯¹<code>prop</code>ï¼Œ<code>methods</code>ï¼Œ<code>data</code>ï¼Œ<code>computed</code>ï¼Œ<code>watch</code>éƒ½åˆ†åˆ«åšä¸€äº›å¤„ç†ï¼Œå…¶ä¸­<code>prop</code>å’Œ<code>data</code>æ˜¯æˆ‘ä»¬è¦ä¸‹ä¸€æ­¥æŸ¥çœ‹çš„ã€‚</p>
<h4 id="initPorps"><a href="#initPorps" class="headerlink" title="initPorps"></a>initPorps</h4><ol>
<li><code>initPorps</code></li>
</ol>
<pre><code>function initProps (vm: Component, propsOptions: Object) {
  const propsData = vm.$options.propsData || {}
  const props = vm._props = {}
  const keys = vm.$options._propKeys = []
  const isRoot = !vm.$parent
  for (const key in propsOptions) {
    keys.push(key)
    const value = validateProp(key, propsOptions, propsData, vm)
    if (process.env.NODE_ENV !== &#39;production&#39;) {
      // ...
    } else {
      defineReactive(props, key, value)
    }
    // ...
    if (!(key in vm)) {
      proxy(vm, `_props`, key)
    }
  }
  toggleObserving(true)
}
</code></pre><p>å…ˆä»å®šä¹‰çš„propsä¸­éå†ï¼Œè°ƒç”¨äº†<code>validateProp</code>æ ¡éªŒ<code>props</code>æ˜¯å¦ç¬¦åˆè§„èŒƒã€‚ç„¶åéå†<code>propsOptions</code>è°ƒç”¨<code>defineReactive</code>æ–¹æ³•æŠŠæ¯ä¸ª<code>prop</code>å˜æˆå“åº”å¼ï¼Œç„¶åæ‰§è¡Œ<code>proxy</code>æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•åˆæ˜¯å¹²ä»€ä¹ˆçš„å‘¢ï¼Ÿ</p>
<p>åœ¨è¿™é‡Œæˆ‘ä»¬å…ˆè®°ä½ç•™ä¸‹ä¸¤ä¸ªç‚¹éœ€è¦è§£å†³ï¼Œéœ€è¦å»è·Ÿè¸ªï¼š</p>
<ol>
<li><code>defineReactive</code>æ–¹æ³•ï¼›</li>
<li><code>proxy</code>æ–¹æ³•ï¼›</li>
</ol>
<p>æˆ‘ä»¬éœ€è¦å†å›å¤´çœ‹çœ‹åˆšåˆšçš„<code>initData(vm)</code>ã€‚</p>
<h4 id="initData"><a href="#initData" class="headerlink" title="initData"></a>initData</h4><pre><code>function initData (vm: Component) {
  let data = vm.$options.data

  data = vm._data = typeof data === &#39;function&#39;
    ? getData(data, vm)
    : data || {}

  // ...
  const keys = Object.keys(data)

  const props = vm.$options.props

  const methods = vm.$options.methods
  let i = keys.length

  while (i--) {
    const key = keys[i]
    if (process.env.NODE_ENV !== &#39;production&#39;) {
      if (methods &amp;&amp; hasOwn(methods, key)) {
        warn(
          `Method &quot;${key}&quot; has already been defined as a data property.`,
          vm
        )
      }
    }
    if (props &amp;&amp; hasOwn(props, key)) {
      process.env.NODE_ENV !== &#39;production&#39; &amp;&amp; warn(
        `The data property &quot;${key}&quot; is already declared as a prop. ` +
        `Use prop default value instead.`,
        vm
      )
    } else if (!isReserved(key)) {
      proxy(vm, `_data`, key)
    }
  }
  observe(data, true /* asRootData */)
}
</code></pre><p><code>initData</code>è¿™ä¸€æ®µä»£ç åšäº†å•¥å‘¢ï¼Ÿå…ˆåˆ¤æ–­äº†ä¸€ä¸‹<code>data</code>æ˜¯ä¸æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œæ˜¯çš„è¯ä½¿ç”¨<code>getData</code>æ‹¿åˆ°æ‰‹ã€‚ç„¶åå–å‡º<code>data</code>ä¸­çš„æ•°æ®ï¼Œä¸<code>methods</code>ï¼Œ<code>props</code>ä¸­çš„æ•°æ®åšåˆ¤æ–­ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨é”®å€¼é‡å¤ï¼æ‰€æœ‰è¿™é‡Œè¿™ä¸€æ­¥å°±æ˜¯æˆ‘ä»¬å†Vueç»„ä»¶ä¸­å®šä¹‰äº†é”®å€¼é‡å¤æ—¶æŠ›å‡ºè­¦å‘Šçš„åœ°æ–¹ã€‚</p>
<p>æˆ‘ä»¬ç»§ç»­ï¼Œè¯¶ï¼Œå¾ˆçœ¼ç†Ÿï¼Œåˆæ˜¯<code>proxyæ–¹æ³•</code>ï¼Œç„¶åå¾€ä¸‹æ‰§è¡Œï¼Œæ˜¯ä¸€ä¸ª<code>observe</code>æ–°æ–¹æ³•ï¼Œå®ƒä»¬åˆæ˜¯åšä»€ä¹ˆçš„å‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬åœ¨è®°å½•ä¸€ä¸‹ï¼Œç„¶åå¯ä»¥å¾€ä¸‹è·Ÿè¸ªï¼Œæˆ‘ä»¬ç°åœ¨æœ‰ä¸‰ä¸ªæœªæ¥ä¹‹è°œäº†ï¼š</p>
<ol>
<li><code>defineReactive</code>æ–¹æ³•ï¼›</li>
<li><code>proxy</code>æ–¹æ³•ï¼›</li>
<li><code>observe</code>æ–¹æ³•ã€‚</li>
</ol>
<h4 id="proxy"><a href="#proxy" class="headerlink" title="proxy"></a>proxy</h4><ul>
<li><code>src\core\instance\state.js</code></li>
</ul>
<p>è¿˜è®°å¾—æ€ä¹ˆä½¿ç”¨<code>proxy</code>çš„å—ï¼Ÿ</p>
<pre><code>proxy(vm, `_props`, key)
</code></pre><pre><code>const sharedPropertyDefinition = {
  enumerable: true,
  configurable: true,
  get: noop,
  set: noop
}
export function proxy (target: Object, sourceKey: string, key: string) {
  sharedPropertyDefinition.get = function proxyGetter () {
    return this[sourceKey][key]
  }
  sharedPropertyDefinition.set = function proxySetter (val) {
    this[sourceKey][key] = val
  }
  Object.defineProperty(target, key, sharedPropertyDefinition)
}
</code></pre><p>ç®€å•å‡ å¥ï¼Œä¼ å…¥å¾—ä¸‰ä¸ªå‚æ•°åˆ†åˆ«ä¸º<code>vm(this)</code>ï¼Œ<code>sourceKey</code>ï¼Œ<code>key</code>ï¼Œè¿™ä¸€æ­¥æ“ä½œï¼Œå…¶å®è¿˜æ˜¯åˆ©ç”¨äº†<code>get</code>ï¼Œ<code>set</code>å°†<code>props</code>ä¸Šçš„å‚æ•°ä»£ç†åˆ°<code>vm(this)</code>ä¸Šã€‚ä»…æ­¤è€Œå·²ï¼Œä¹Ÿæ˜¯å› ä¸ºè¿™æ ·ï¼Œæˆ‘ä»¬åœ¨<code>Vue</code>ä¸­æ‰å¯ä»¥ä½¿ç”¨<code>this.xxx</code>å»è®¿é—®<code>props</code>ä¸Šçš„ä¼ å…¥çš„å‚æ•°ã€‚å¥½äº†ï¼Œæˆ‘ä»¬æ¶ˆç­äº†ä¸€ä¸ªç–‘é—®<code>proxy</code>ã€‚</p>
<h4 id="observe"><a href="#observe" class="headerlink" title="observe"></a>observe</h4><ul>
<li>src\core\observer\index.js</li>
</ul>
<pre><code>export function observe (value: any, asRootData: ?boolean): Observer | void {
  if (!isObject(value) || value instanceof VNode) {
    return
  }
  let ob: Observer | void
  if (hasOwn(value, &#39;__ob__&#39;) &amp;&amp; value.__ob__ instanceof Observer) {
    ob = value.__ob__
  } else if (
    shouldObserve &amp;&amp;
    !isServerRendering() &amp;&amp;
    (Array.isArray(value) || isPlainObject(value)) &amp;&amp;
    Object.isExtensible(value) &amp;&amp;
    !value._isVue
  ) {
    ob = new Observer(value)
  }
  if (asRootData &amp;&amp; ob) {
    ob.vmCount++
  }
  return ob
}
</code></pre><p><code>observe</code>æ–¹æ³•ï¼Œé¦–å…ˆå…ˆåˆ¤æ–­äº†ä¸€ä¸‹ä¼ å…¥çš„å¯¹è±¡æ˜¯ä¸æ˜¯<code>vnode</code>ï¼Œå¯¹äºé<code>VNODE</code>çš„å¯¹è±¡ç±»å‹æ‰æ·»åŠ ä¸€ä¸ª<code>Observer</code>ï¼Œnewå‡ºæ¥çš„å®ä¾‹ï¼Œé‚£è¿™ä¸ª<code>Observer</code>åˆæ˜¯å•¥ï¼Œç°åœ¨åˆæœ‰ä¸¤ä¸ªé—®é¢˜éœ€è¦è§£å†³äº†ã€‚</p>
<ol>
<li><code>Observer</code>æ–¹æ³•ï¼›</li>
<li><code>defineReactive</code>æ–¹æ³•ï¼›</li>
</ol>
<h4 id="Observer"><a href="#Observer" class="headerlink" title="Observer"></a>Observer</h4><ul>
<li>src\core\observer\index.js</li>
</ul>
<pre><code>export class Observer {
  // ...
  constructor (value: any) {
    this.value = value
    this.dep = new Dep()
    this.vmCount = 0
    def(value, &#39;__ob__&#39;, this)

    if (Array.isArray(value)) {
      // ...
      this.observeArray(value) // ä¾ç„¶ä¼šéå†æ•°ç»„ï¼Œç„¶åobserve
    } else {
      // ...
      this.walk(value)
    }
  }
  walk (obj: Object) {
    const keys = Object.keys(obj)
    for (let i = 0; i &lt; keys.length; i++) {
      defineReactive(obj, keys[i])
    }
  }

  observeArray (items: Array&lt;any&gt;) {
    for (let i = 0, l = items.length; i &lt; l; i++) {
      observe(items[i])
    }
  }
}
</code></pre><p><code>Observer</code>æ˜¯ä¸€ä¸ªç±»ï¼Œå…¶ä¸­ä¼¼ä¹åˆ›å»ºäº†ä¸€ä¸ªä»€ä¹ˆå®ä¾‹<code>new Dep</code>ï¼Œè¿™ä¸ªæˆ‘ä»¬å…ˆç•™ä¸‹è§‚å¯Ÿï¼Œç»§ç»­å‘ä¸‹ï¼Œç„¶åè°ƒç”¨äº†<code>def</code>è¿™ä¹ˆä¸€ä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯åšä»€ä¹ˆå‘¢ï¼Ÿ</p>
<ul>
<li><code>src\core\util\lang.js</code></li>
</ul>
<pre><code>export function def (obj: Object, key: string, val: any, enumerable?: boolean) {
  Object.defineProperty(obj, key, {
    value: val,
    enumerable: !!enumerable,
    writable: true,
    configurable: true
  })
}
</code></pre><pre><code>def(value, &#39;__ob__&#39;, this)
</code></pre><p>å…¶å®<code>def</code>å°è£…äº†definePropertyï¼Œè°ƒç”¨æ­¤æ–¹æ³•å¯ä»¥åœ¨ä¼ å…¥çš„<code>obj</code>ä¸Šç»‘å®šä¸€ä¸ª<code>value</code>çš„<code>key</code>ï¼Œåœ¨è¿™ä¸€å—ï¼Œå°±æ˜¯åœ¨æˆ‘ä»¬dataä¸Šç»‘å®šä¸€ä¸ª<strong>ob</strong>çš„å±æ€§ã€‚</p>
<p>ç„¶åç»§ç»­å‘ä¸‹èµ°ï¼Œä½¿ç”¨<code>isArray</code>åˆ¤æ–­valueæ˜¯ä¸æ˜¯æ•°ç»„ï¼Œå¦‚æœæ˜¯æ•°ç»„ï¼Œåˆ™è°ƒç”¨äº†<code>observeArray</code>ï¼Œå¦åˆ™åˆ™è°ƒç”¨<code>walk</code>æ–¹æ³•ã€‚</p>
<ul>
<li><code>observeArray</code></li>
</ul>
<pre><code>observeArray (items: Array&lt;any&gt;) {
    for (let i = 0, l = items.length; i &lt; l; i++) {
      observe(items[i])
    }
}
</code></pre><p>è¿™å°±æ˜¯éå†è°ƒç”¨observeæ–¹æ³•ã€‚</p>
<ul>
<li><code>walk</code><pre><code>walk (obj: Object) {
  const keys = Object.keys(obj)
  for (let i = 0; i &lt; keys.length; i++) {
    defineReactive(obj, keys[i])
  }
}
</code></pre><code>walk</code>æ˜¯åœ¨å¯¹è±¡çš„æƒ…å†µä¸‹ï¼Œéå†å¯¹è±¡ï¼Œå¯¹æ¯ä¸€ä¸ªkey-valueè°ƒç”¨<code>defineReactive</code>æ–¹æ³•ï¼Œå¥½å®¶ä¼™ï¼Œå…œå…œè½¬è½¬åˆå›æ¥äº†ã€‚</li>
</ul>
<p>å‰©ä½™è·Ÿè¸ªé—®é¢˜ï¼š</p>
<ol>
<li><code>defineReactive</code>æ–¹æ³•ï¼›</li>
</ol>
<h4 id="defineReactive"><a href="#defineReactive" class="headerlink" title="defineReactive"></a>defineReactive</h4><ul>
<li><code>src\core\observer\index.js</code></li>
</ul>
<pre><code>export function defineReactive (
  obj: Object,
  key: string,
  val: any,
  customSetter?: ?Function,
  shallow?: boolean // å¦‚æœ shallow  ä¸º true
) {
  // å¯¹æ¯ä¸€ä¸ªå±æ€§å¯¹newä¸€ä¸ªDepä¾èµ–
  const dep = new Dep()
  // ...
  const getter = property &amp;&amp; property.get
  const setter = property &amp;&amp; property.set

  if ((!getter || setter) &amp;&amp; arguments.length === 2) {
    val = obj[key]
  }
  // ...
  let childOb = !shallow &amp;&amp; observe(val)

  Object.defineProperty(obj, key, {
    enumerable: true,
    configurable: true,
    get: function reactiveGetter () {
      // ...
    },
    set: function reactiveSetter (newVal) {
      // ...
    }
  })
}
</code></pre><p>æ˜¯ä¸æ˜¯æœ‰ç‚¹ç†Ÿæ‚‰ï¼Œè¿™ä¸å°±æ˜¯æˆ‘ä»¬ç»å¸¸èƒŒçš„<code>Vue</code>å“åº”å¼åŸç†å—ï¼Ÿé€šè¿‡<code>defineProperty</code>è¿›è¡Œæ•°æ®åŠ«æŒå•¥å•¥å•¥çš„ï¼Œæœ€ç»ˆæˆ‘ä»¬è¿˜æ˜¯èµ°åˆ°äº†è¿™é‡Œã€‚<br>æ˜¯çš„ï¼Œåœ¨<code>defineProperty</code>ä¸­ï¼Œé€šè¿‡<code>defineProperty</code>è¿›è¡Œå¯¹å¯¹è±¡çš„å±æ€§æ·»åŠ <code>getter</code>å’Œ<code>setter</code>è¿›è¡Œæ•°æ®åŠ«æŒã€‚<br>è€Œè¿™é‡Œé¢å°±æ·±è—äº†æˆ‘ä»¬çš„åç»­åŠ¨ä½œï¼š<strong>æ”¶é›†ä¾èµ–</strong>ï¼Œ<strong>å‘å¸ƒæ›´æ–°</strong>ã€‚</p>
<h3 id="getæ”¶é›†ä¾èµ–"><a href="#getæ”¶é›†ä¾èµ–" class="headerlink" title="getæ”¶é›†ä¾èµ–"></a>getæ”¶é›†ä¾èµ–</h3><p>æˆ‘ä»¬ç»§ç»­çœ‹çœ‹<code>defineProperty</code>ä¸­çš„<code>get</code>æ€ä¹ˆåšçš„ä¾èµ–æ”¶é›†ï¼Ÿ</p>
<pre><code>export function defineReactive (
  obj: Object,
  key: string,
  val: any,
  customSetter?: ?Function,
  shallow?: boolean // å¦‚æœ shallow  ä¸º true
) {
  // å¯¹æ¯ä¸€ä¸ªå±æ€§å¯¹newä¸€ä¸ªDepä¾èµ–
  const dep = new Dep()

  const property = Object.getOwnPropertyDescriptor(obj, key)
  if (property &amp;&amp; property.configurable === false) {
    return
  }

  // æ‹¿åˆ°å…¶åŸæœ¬çš„getterä¸setteræ–¹æ³•
  const getter = property &amp;&amp; property.get
  const setter = property &amp;&amp; property.set

  if ((!getter || setter) &amp;&amp; arguments.length === 2) {
    val = obj[key]
  }
  // è¿­ä»£å…¶å­å±æ€§
  let childOb = !shallow &amp;&amp; observe(val)
  Object.defineProperty(obj, key, {
    enumerable: true,
    configurable: true,
    get: function reactiveGetter () {
      const value = getter ? getter.call(obj) : val
      if (Dep.target) {
        dep.depend()
        if (childOb) {
          childOb.dep.depend() 
          if (Array.isArray(value)) {
            dependArray(value)
          }
        }
      }
      return value
    },
    set: function reactiveSetter (newVal) {
      // ...
    }
  })
}
</code></pre><p>è¿™é‡Œé¢åˆ†åˆ«æœ‰è¿™ä¹ˆä¸‰æ­¥ï¼Œæ˜¯é‡è¦çš„ï¼š</p>
<ol>
<li>const dep = new Dep()ï¼›</li>
<li>dep.depend()ï¼›</li>
<li>childObçš„å¤„ç†ã€‚<pre><code>if (childOb) {
 childOb.dep.depend() 
 if (Array.isArray(value)) {
   dependArray(value)
 }
}
</code></pre></li>
</ol>
<p>åœ¨äº†è§£è¿™äº›ä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥éœ€è¦çœ‹çœ‹<code>new Dep</code>ï¼Œç©¶ç«Ÿåˆ›å»ºäº†ä¸ªå•¥ï¼Ÿ</p>
<h4 id="Dep"><a href="#Dep" class="headerlink" title="Dep"></a>Dep</h4><ul>
<li><code>src\core\observer\dep.js</code></li>
</ul>
<pre><code>export default class Dep {
  static target: ?Watcher;
  id: number;
  subs: Array&lt;Watcher&gt;;

  constructor () {
    this.id = uid++
    this.subs = []
  }
  addSub (sub: Watcher) {
    this.subs.push(sub)
  }
  removeSub (sub: Watcher) {
    remove(this.subs, sub)
  }
  depend () {
    if (Dep.target) {
      Dep.target.addDep(this)
    }
  }
  notify () {
    const subs = this.subs.slice()
    if (process.env.NODE_ENV !== &#39;production&#39; &amp;&amp; !config.async) {
      subs.sort((a, b) =&gt; a.id - b.id)
    }
    // å¾ªç¯æ›´æ–°
    for (let i = 0, l = subs.length; i &lt; l; i++) {
      subs[i].update()
    }
  }
}
</code></pre><p>å—¯ï¼Œå¾ˆçœ¼ç†Ÿæœ‰æ²¡æœ‰ï¼Œè¿™å°±æ˜¯ä¸€ä¸ª<code>addSub</code>ï¼Œ<code>removeSub</code>ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªå‘å¸ƒè®¢é˜…å‘€æœ‰æ²¡æœ‰ï¼Œå¥½å§ï¼Œæˆ‘ä»¬ç»§ç»­æ¥çœ‹ã€‚<br>è¿™ä¸ª<code>this.subs</code>æ˜¯ä¸€ä¸ª<code>Watcher</code>çš„æ•°ç»„ï¼Œé‚£å®ƒå‘å¸ƒè®¢é˜…ç®¡ç†çš„æ˜¯<code>Watcher</code>å—ï¼Ÿ</p>
<p>é‚£è¿™ä¸ª<code>Watcher</code>åˆæ˜¯å•¥ï¼Ÿ</p>
<h4 id="Watcher"><a href="#Watcher" class="headerlink" title="Watcher"></a>Watcher</h4><ul>
<li><code>src\core\observer\watcher.js</code></li>
</ul>
<pre><code>export default class Watcher {
  // ...
  constructor (
    vm: Component,
    expOrFn: string | Function,
    cb: Function,
    options?: ?Object,
    isRenderWatcher?: boolean
  ) {
    this.vm = vm
    if (isRenderWatcher) {
      vm._watcher = this
    }
    vm._watchers.push(this)
    // options
    if (options) {
      this.deep = !!options.deep
      this.user = !!options.user
      this.lazy = !!options.lazy
      this.sync = !!options.sync
      this.before = options.before
    } else {
      this.deep = this.user = this.lazy = this.sync = false
    }
    this.cb = cb
    this.id = ++uid // uid for batching
    this.active = true
    this.dirty = this.lazy // for lazy watchers
    this.deps = []
    this.newDeps = []
    this.depIds = new Set()
    this.newDepIds = new Set()
    this.expression = process.env.NODE_ENV !== &#39;production&#39;
      ? expOrFn.toString()
      : &#39;&#39;
    // parse expression for getter
    if (typeof expOrFn === &#39;function&#39;) {
      this.getter = expOrFn
    } else {
      this.getter = parsePath(expOrFn)
      if (!this.getter) {
        this.getter = noop
        process.env.NODE_ENV !== &#39;production&#39; &amp;&amp; warn(
          `Failed watching path: &quot;${expOrFn}&quot; ` +
          &#39;Watcher only accepts simple dot-delimited paths. &#39; +
          &#39;For full control, use a function instead.&#39;,
          vm
        )
      }
    }
    this.value = this.lazy
      ? undefined
      : this.get()
  }

  /**
   * Evaluate the getter, and re-collect dependencies.
   */
  get () {
    pushTarget(this)ï¼Œ
    let value
    const vm = this.vm
    try {
      value = this.getter.call(vm, vm)
    } catch (e) {
      if (this.user) {
        handleError(e, vm, `getter for watcher &quot;${this.expression}&quot;`)
      } else {
        throw e
      }
    } finally {
      if (this.deep) {
        traverse(value)
      }
      popTarget()
      this.cleanupDeps()
    }
    return value
  }
  addDep (dep: Dep) {
    const id = dep.id
    if (!this.newDepIds.has(id)) {
      this.newDepIds.add(id)
      this.newDeps.push(dep)
      if (!this.depIds.has(id)) {
        dep.addSub(this) //  addSub ä¸º sub é˜Ÿåˆ—ï¼Œæ·»åŠ ä¸€ä¸ªWatcher å®ä¾‹åŒ–å¯¹è±¡
      }
    }
  }
  // æ¸…ç†è§‚å¯Ÿè€…ä¾èµ–é¡¹é›†åˆ
  cleanupDeps () {
    let i = this.deps.length
    while (i--) {
      const dep = this.deps[i]
      if (!this.newDepIds.has(dep.id)) {
        dep.removeSub(this)
      }
    }
    let tmp = this.depIds
    this.depIds = this.newDepIds
    this.newDepIds = tmp
    this.newDepIds.clear()
    tmp = this.deps
    this.deps = this.newDeps
    this.newDeps = tmp
    this.newDeps.length = 0
  }
  update () {
    /* istanbul ignore else */
    if (this.lazy) {
      this.dirty = true
    } else if (this.sync) { 
      this.run()
    } else {
      queueWatcher(this)
    }
  }
  run () {
    if (this.active) {
      const value = this.get()
      if (
        value !== this.value ||
        isObject(value) ||
        this.deep
      ) {
        const oldValue = this.value
        this.value = value
        if (this.user) {
          try {
            this.cb.call(this.vm, value, oldValue)
          } catch (e) {
            handleError(e, this.vm, `callback for watcher &quot;${this.expression}&quot;`)
          }
        } else {
          this.cb.call(this.vm, value, oldValue)
        }
      }
    }
  }
  evaluate () {
    this.value = this.get()
    this.dirty = false
  }
  depend () {
    let i = this.deps.length
    while (i--) {
      this.deps[i].depend()
    }
  }
  teardown () {
    if (this.active) {
      // remove self from vm&#39;s watcher list
      // this is a somewhat expensive operation so we skip it
      // if the vm is being destroyed.
      if (!this.vm._isBeingDestroyed) {
        remove(this.vm._watchers, this)
      }
      let i = this.deps.length
      while (i--) {
        this.deps[i].removeSub(this)
      }
      this.active = false
    }
  }
}
</code></pre><pre><code>Dep.target = null
const targetStack = []

export function pushTarget (target: ?Watcher) {
  targetStack.push(target)
  Dep.target = target
}

export function popTarget () {
  targetStack.pop()
  Dep.ta
</code></pre><p><code>Watcher</code>ä¹Ÿæ˜¯ä¸€ä¸ªç±»ï¼Œå…¶ä¸­å®šä¹‰äº†</p>
<ol>
<li><code>this.deps</code>ï¼Œ<code>this.newDeps</code>ä¸¤æ•°ç»„ï¼Œçœ‹åå­—ï¼Œåƒæ˜¯ä¸Depå®ä¾‹æœ‰å…³çš„æ•°ç»„ï¼›</li>
<li><code>this.depIds</code>ï¼Œ<code>this.newDepIds</code>ä¸¤ä¸ª<code>set</code>ç»“æ„ï¼›</li>
<li><code>get()</code>æ–¹æ³•ï¼›</li>
<li><code>addDep()</code>æ–¹æ³•ï¼›</li>
<li><code>cleanupDeps</code>æ–¹æ³•ï¼›</li>
<li><code>update</code>æ–¹æ³•ï¼›</li>
<li><code>run</code>ã€<code>evaluate</code>ã€<code>depend</code>ã€<code>teardown</code>ç­‰æ–¹æ³•ã€‚</li>
</ol>
<p>åœ¨åˆå§‹åŒ–<code>Watcher</code>çš„æ—¶å€™ä¼šè§¦å‘è¿›å…¥<code>get</code>æ–¹æ³•ï¼Œ<code>get</code>æ–¹æ³•ä¸­è°ƒç”¨<code>pushTarget</code>ï¼Œè¿™ä¸ª<code>pushTarget</code>æ˜¯è°ƒç”¨äº†<code>dep</code>ä¸­<code>pushTargt</code>æ–¹æ³•ï¼Œå°†<code>this</code>pushè¿›<code>taegetStack</code>çš„å †æ ˆä¸­ï¼Œå¹¶ä¸”ï¼š</p>
<pre><code>Dep.target = target
</code></pre><pre><code>static target: ?Watcher;
</code></pre><p>å°†é™æ€å±æ€§<code>target</code>è®¾ç½®ä¸ºå½“å‰this(Watcher)ï¼Œæ­¤å¤„çš„<code>target</code>è®¾ç½®ç•™ä¸‹ç–‘é—®â‘ ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ç»§ç»­ï¼Œ</p>
<pre><code>try {
  value = this.getter.call(vm, vm)
} catch (e) {
  // ...
}
</code></pre><p>æ­¤å¤„çš„<code>this.getter</code>ï¼Œå°±æ˜¯åœ¨<code>constructor</code>ä¸­è®¾ç½®çš„<code>expOrFn</code>ã€‚</p>
<pre><code>// r: 88
if (typeof expOrFn === &#39;function&#39;) {
  this.getter = expOrFn
} 
</code></pre><p>é‚£ä¹ˆè¿™ä¸ª<code>expOrFn</code>æ˜¯ä¼ å…¥äº†ä»€ä¹ˆï¼Ÿæˆ‘ä»¬å¯ä»¥åœ¨å…¨å±€æœç´¢ä¸€ä¸‹åœ¨ä½•å¤„newäº†Watcherã€‚<br><img src="/2020/06/21/2020/Vueæ•°æ®åŒå‘ç»‘å®šåŸç†/NO1.png" alt="NO1" title="NO1"></p>
<p>åœ¨è¿™ä¸ª<code>mountComponent</code>ä¸­è°ƒç”¨çš„ï¼Œå¹¶ä¸”ä¼ å…¥äº†</p>
<pre><code>updateComponent = () =&gt; {
  vm._update(vm._render(), hydrating)// è°ƒç”¨ Vue.prototype._update
}
</code></pre><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºåœ¨è¿™é‡Œ<code>expOfFn = updateComponent</code>çš„ç»“è®ºï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥ä¾ç„¶æœç´¢ï¼Œåœ¨<code>src\platforms\web\runtime\index.js</code>ä¸­ï¼Œmountæ–¹æ³•æ­£æ˜¯å€Ÿç”¨äº†<code>updateComponent</code>ã€‚</p>
<p>å¥½äº†ï¼Œæˆ‘ä»¬å›æ¥ï¼Œåˆšåˆšæåˆ°<code>this.getter.call()</code>ï¼ŒæŒ‰ç…§ç°åœ¨çš„å¯»æ‰¾ï¼Œæ­£æ˜¯æ‰§è¡Œäº†<code>vm._update(vm._render(), hydrating)</code>ï¼Œåœ¨æ‰§è¡Œæ¸²æŸ“æ—¶è‡ªç„¶ä¼šè§¦å‘<code>VNODE</code>å¯¹äº<code>vm</code>ä¸Šæ•°æ®çš„è®¿é—®ï¼Œå°±ä¼šè§¦å‘æ•°æ®å¯¹è±¡ä¸Šè®¾ç½®çš„<code>getter</code>ã€‚</p>
<p>è§¦å‘äº†getä¹‹åå‘¢ï¼Ÿ<br>æˆ‘ä»¬é‡æ–°å›åˆ°<code>defineRecative</code>ï¼Œçœ‹çœ‹getä¸­è¿˜åšäº†å•¥ã€‚</p>
<pre><code>const value = getter ? getter.call(obj) : val
// åœ¨getä¸­æ‰‹æœºå±æ€§ä¾èµ–
if (Dep.target) {
  dep.depend()// æ­¤é‡Œé¢åšä¾èµ–æ”¶é›†ï¼Œè¿™ä¸ªDepæœ‰ä»€ä¹ˆä½œç”¨? --- src/core/observer/dep.js
  if (childOb) {
    childOb.dep.depend() 
    if (Array.isArray(value)) {
      dependArray(value)
    }
  }
}
</code></pre><p>å› ä¸ºåˆšåˆš<code>Dep.target</code>å·²ç»ä¿®æ”¹ä¸ºWatcheräº†ï¼Œå°±ä¼šæ‰§è¡Œ<code>dep.depend</code>æ–¹æ³•</p>
<pre><code>depend () {
  if (Dep.target) {
    Dep.target.addDep(this)
  }
}
</code></pre><p>è€Œè¿™ä¸ªè¿˜æ˜¯è½¬å¤´æ‰§è¡Œ<code>addDep</code>ï¼Œwatcherä¸­çš„addDep</p>
<pre><code>addDep (dep: Dep) {
  const id = dep.id
  if (!this.newDepIds.has(id)) {
    this.newDepIds.add(id)
    this.newDeps.push(dep)
    if (!this.depIds.has(id)) {
      dep.addSub(this);
    }
  }
}
</code></pre><p>è¿™é‡Œé¢åšäº†ä¸€äº›åˆ¤æ–­ï¼Œçœ‹æ ·å­æ˜¯å¯¹ä¸€ä¸‹åˆ¤æ–­æ˜¯å¦æœ‰é‡å¤çš„æƒ…å†µâ€¦ç„¶åæ‰§è¡Œ<code>addSub</code>ï¼Œå°†<code>watcher</code>æ·»åŠ è®¢é˜…åˆ°subsä¸­ã€‚</p>
<pre><code>addSub (sub: Watcher) {
  this.subs.push(sub)
}
</code></pre><p>è¿™æ ·ï¼Œåœ¨åç»­çš„<code>subs</code>popæ‰§è¡Œæ›´æ–°æ´¾å‘æ—¶å°±å¯ä»¥é€šçŸ¥åˆ°äº†ã€‚</p>
<h3 id="æ´¾å‘æ›´æ–°"><a href="#æ´¾å‘æ›´æ–°" class="headerlink" title="æ´¾å‘æ›´æ–°"></a>æ´¾å‘æ›´æ–°</h3><p>æ´¾å‘æ›´æ–°è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦çœ‹å›åŸæ¥çš„<code>defineReactive</code>ï¼Œçœ‹çœ‹é‡Œé¢çš„setåšäº†ä»€ä¹ˆã€‚</p>
<pre><code>export function defineReactive (
  obj: Object,
  key: string,
  val: any,
  customSetter?: ?Function,
  shallow?: boolean // å¦‚æœ shallow  ä¸º true
) {
  // ...
  Object.defineProperty(obj, key, {
    enumerable: true,
    configurable: true,
    get: function reactiveGetter () {
      // ...
    },
    set: function reactiveSetter (newVal) {
      const value = getter ? getter.call(obj) : val
      if (newVal === value || (newVal !== newVal &amp;&amp; value !== value)) {
        return
      }

      if (getter &amp;&amp; !setter) return
      if (setter) {
        setter.call(obj, newVal)
      } else {
        val = newVal
      }
      childOb = !shallow &amp;&amp; observe(newVal)

      dep.notify()
    }
  })
}
</code></pre><p><code>set</code>å†…å…ˆå¯¹æ–°å€¼æ—§å€¼åšäº†ä¸€äº›æ¯”è¾ƒï¼Œä»¥åŠè®¾ç½®ï¼Œç„¶åå°±æ¥åˆ°äº†è¿™ä¸¤è¡Œï¼š</p>
<pre><code>childOb = !shallow &amp;&amp; observe(newVal)

dep.notify()
</code></pre><p>çœ‹èµ·æ¥æ¯”è¾ƒé«˜æ·±ï¼Œ<code>dep.notify</code>æ•…åæ€æ„ï¼Œå°±æ˜¯é€šçŸ¥ï¼Œé‚£ä¹ˆåº”è¯¥å°±æ˜¯è¿™ä¸€æ­¥ï¼Œå¯¹æ‰€æœ‰è®¢é˜…è€…è¿›è¡Œäº†é€šçŸ¥ã€‚</p>
<p><code>!shallow &amp;&amp; observe(newVal)</code>å½“<code>shallow</code>æ˜¯<code>false</code>çš„æƒ…å†µä¸‹ï¼Œä¼šå†è°ƒç”¨<code>observe</code>å°†newValè®¾ç½®ä¸ºå“åº”å¼å¯¹è±¡(observeåœ¨æˆ‘ä»¬ä¹‹å‰çš„å†…å®¹ä¸­æœ‰è®²åˆ°)ã€‚</p>
<h4 id="dep-notify"><a href="#dep-notify" class="headerlink" title="dep.notify"></a>dep.notify</h4><p><code>dep.notify</code>åœ¨ç±»<code>Dep</code>ä¸­ï¼Œ<code>src\core\observer\dep.js</code>ï¼Œr: 44ï¼Œ</p>
<pre><code>notify () {
  const subs = this.subs.slice()
  if (process.env.NODE_ENV !== &#39;production&#39; &amp;&amp; !config.async) {
    subs.sort((a, b) =&gt; a.id - b.id)
  }
  // å¾ªç¯æ›´æ–°
  for (let i = 0, l = subs.length; i &lt; l; i++) {
    subs[i].update()
  }
}
</code></pre><p>å…¶ä¸­å…ˆå¯¹<code>subs</code>æ’äº†ä¸ªåºï¼Œå½“åšå…ˆæ¥ååˆ°ï¼Œæ­£ç¡®è§¦å‘ã€‚ç„¶ååœ¨éå†ï¼Œä¾æ¬¡æ‰§è¡Œ<code>update</code>æ–¹æ³•ï¼Œå› ä¸ºæˆ‘ä»¬æŒ‡å®š<code>subs</code>æ˜¯<code>watcher</code>çš„æ•°ç»„ï¼Œæ‰€æœ‰æ‰§è¡Œçš„ä¹Ÿæ˜¯<code>watcher</code>çš„<code>update</code>æ–¹æ³•ã€‚</p>
<h4 id="watcher-update"><a href="#watcher-update" class="headerlink" title="watcher.update"></a>watcher.update</h4><pre><code>update () {
  if (this.lazy) {
    this.dirty = true
  } else if (this.sync) {
    this.run()
  } else {
    queueWatcher(this)
  }
}
</code></pre><p>å…¶å®è¿™ä¸ª<code>lazy</code>ä¼šå¯¹åº”çš„<code>computed</code>ä¸­çš„å“åº”ï¼Œæˆ‘ä»¬åç»­æœ‰æœºä¼šå¯ä»¥äº†è§£ã€‚<code>sync</code>æ˜¯åŒæ­¥çš„æƒ…å†µä¸‹åˆ™ç›´æ¥æ”¹å˜ã€‚</p>
<p>æˆ‘ä»¬æ¥åˆ°äº†<code>queueWatcher</code>ï¼Œçœ‹çœ‹è¿™ä¸ªé‡Œé¢åšäº†ä»€ä¹ˆï¼Ÿ</p>
<h4 id="queueWatcher"><a href="#queueWatcher" class="headerlink" title="queueWatcher"></a>queueWatcher</h4><ul>
<li><code>src\core\observer\scheduler.js</code></li>
</ul>
<pre><code>export function queueWatcher (watcher: Watcher) {
  const id = watcher.id
  if (has[id] == null) {
    has[id] = true
    if (!flushing) {
      queue.push(watcher)
    } else {
      // if already flushing, splice the watcher based on its id
      // if already past its id, it will be run next immediately.
      let i = queue.length - 1
      while (i &gt; index &amp;&amp; queue[i].id &gt; watcher.id) {
        i--
      }
      queue.splice(i + 1, 0, watcher)
    }
    // queue the flush
    if (!waiting) {
      waiting = true

      if (process.env.NODE_ENV !== &#39;production&#39; &amp;&amp; !config.async) {
        flushSchedulerQueue()
        return
      }
      nextTick(flushSchedulerQueue)
    }
  }
}
</code></pre><p>å…ˆæ˜¯ä½¿ç”¨äº†<code>has</code>å¯¹è±¡åˆ¤æ–­äº†<code>watcher</code>ä¸èƒ½é‡å¤ï¼Œé‚£è¿™ä¸ª<code>flush</code>åˆæ˜¯åšå•¥çš„ï¼Ÿæš‚æ—¶çœ‹ä¸å‡ºæ¥ï¼Œæˆ‘ä»¬å…ˆç•™ä¸‹ç–‘é—®ã€‚<br>æ¥ä¸‹å»è°ƒç”¨<code>nextTick</code>æ‰§è¡Œ<code>flushSchedulerQueue</code>æ–¹æ³•ï¼Œè¿™æ ·å­ç»Ÿä¸€æ”¾è¿›ä¸€ä¸ªé˜Ÿåˆ—ä¸­è¿›è¡Œï¼Œè€Œä¸æ˜¯æ¯æ¬¡æ›´æ”¹éƒ½è§¦å‘ã€‚</p>
<pre><code>function flushSchedulerQueue () {
  currentFlushTimestamp = getNow()
  flushing = true
  let watcher, id

  queue.sort((a, b) =&gt; a.id - b.id) // æ ¹æ®idæ’åº

  for (index = 0; index &lt; queue.length; index++) {
    watcher = queue[index]
    if (watcher.before) {
      watcher.before()
    }
    id = watcher.id
    has[id] = null

    watcher.run()

    if (process.env.NODE_ENV !== &#39;production&#39; &amp;&amp; has[id] != null) {
      circular[id] = (circular[id] || 0) + 1
      if (circular[id] &gt; MAX_UPDATE_COUNT) {
        warn(
          &#39;You may have an infinite update loop &#39; + (
            watcher.user
              ? `in watcher with expression &quot;${watcher.expression}&quot;`
              : `in a component render function.`
          ),
          watcher.vm
        )
        break
      }
    }
  }

  // keep copies of post queues before resetting state
  const activatedQueue = activatedChildren.slice()
  const updatedQueue = queue.slice()

  resetSchedulerState()

  callActivatedHooks(activatedQueue)
  callUpdatedHooks(updatedQueue)

  if (devtools &amp;&amp; config.devtools) {
    devtools.emit(&#39;flush&#39;)
  }
}
</code></pre><ol>
<li><p><code>queue.sort</code>è¿›è¡Œäº†æ’åºï¼Œæºç å·²ç»æœ‰æ˜ç¡®çš„æ³¨é‡Šè¡¨æ˜å«ä¹‰äº†ï¼Œå¤§è‡´å°±æ˜¯ï¼šç»„ä»¶æ›´æ–°ä»çˆ¶åˆ°å­ï¼Œæ‰€ä»¥æ‰§è¡Œä¹Ÿéœ€è¦æŒ‰ç…§æ­¤é¡ºåºï¼›</p>
</li>
<li><p>éå†<code>queue</code>ï¼Œç„¶åæ‰§è¡Œ<code>watcher.run</code></p>
</li>
</ol>
<pre><code>run () {
  if (this.active) {
    const value = this.get()
    if (
      value !== this.value ||
      isObject(value) ||
      this.deep
    ) {

      const oldValue = this.value
      this.value = value
      if (this.user) {
        try {
          this.cb.call(this.vm, value, oldValue)
        } catch (e) {
          handleError(e, this.vm, `callback for watcher &quot;${this.expression}&quot;`)
        }
      } else {
        this.cb.call(this.vm, value, oldValue)
      }
    }
  }
}
</code></pre><p><code>run</code>æ–¹æ³•æ‰§è¡Œäº†<code>get</code>å»æ‹¿åˆ°å½“å‰çš„å€¼ï¼Œå¹¶ä¸”åˆ¤æ–­äº†æ–°å€¼æ—§å€¼æ˜¯å¦ç›¸ç­‰ï¼Œæ˜¯å¦æ˜¯å¯¹è±¡ï¼Œæ˜¯å¦deepä¸ºtrueï¼Œæœ‰ä¸€è€…æ»¡è¶³çš„æƒ…å†µä¸‹ä¼šæ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œå¹¶å°†æ–°å€¼ï¼Œæ—§å€¼åšä¸ºå‚æ•°ã€‚ä»¥åŠä¸€äº›æ“ä½œï¼Œæ¸…é™¤Schedulerå’Œè§¦å‘<code>update</code>é’©å­ç­‰æ“ä½œã€‚</p>
<p>æ‰§è¡Œ<code>get</code>æ–¹æ³•æ—¶ï¼Œä¼šè§¦å‘<code>getter</code>ï¼Œä¹Ÿæ˜¯å‰é¢æåˆ°çš„<code>expOrFn = updateComponent</code>é‡æ–°<code>render</code>ç»„ä»¶ã€‚</p>

      
       
    </div>
</article>







    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    Â©2019-2021 Jayant
</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="åˆ‡æ¢å…¨å± å¿«æ·é”® s"><span class="min "></span></button>
<a class id="rocket"></a>

    </div>
</div>

</body>
<script src="/js/jquery.pjax.js?v=1.1.0"></script>

<script src="/js/script.js?v=1.1.0"></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*æ¸²æŸ“å¯¹åº”çš„è¡¨æ ¼æ ·å¼*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*æ¸²æŸ“æ‰“èµæ ·å¼*/
        

        /*é«˜äº®ä»£ç å—è¡Œå·*/
        

        /*è®¿é—®æ•°é‡*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*ä»£ç é«˜äº®ï¼Œè¡Œå·å¯¹é½*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*æ‰“èµé¡µé¢éšè—ä¸å±•ç¤º*/
    

</script>

<!--åŠ å…¥è¡Œå·çš„é«˜äº®ä»£ç å—æ ·å¼-->

<!--è‡ªå®šä¹‰æ ·å¼è®¾ç½®-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*åˆ—è¡¨æ ·å¼*/
    

    /* èƒŒæ™¯å›¾æ ·å¼ */
    
    


    /*å¼•ç”¨å—æ ·å¼*/
    

    /*æ–‡ç« åˆ—è¡¨èƒŒæ™¯å›¾*/
    

    
</style>







</html>
