<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>leetCode-4-å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°</title>
      <link href="/2021/04/21/2021/leetCode-4-%E5%AF%BB%E6%89%BE%E4%B8%A4%E4%B8%AA%E6%AD%A3%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E4%B8%AD%E4%BD%8D%E6%95%B0/"/>
      <url>/2021/04/21/2021/leetCode-4-%E5%AF%BB%E6%89%BE%E4%B8%A4%E4%B8%AA%E6%AD%A3%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E4%B8%AD%E4%BD%8D%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<p><em>åŸé¢˜é“¾æ¥ï¼šğŸ‘‰ï¼š<a href="https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/" target="_blank" rel="noopener">æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</a></em></p><p>é¢˜ç›®æè¿°ï¼š</p><ol><li>ç»™å®šä¸¤ä¸ªå¤§å°åˆ†åˆ«ä¸º m å’Œ n çš„æ­£åºï¼ˆä»å°åˆ°å¤§ï¼‰æ•°ç»„ nums1 å’Œ nums2ã€‚</li><li>è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›è¿™ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ ä¸­ä½æ•° </li></ol><p>ç¤ºä¾‹ï¼š</p><pre><code>è¾“å…¥ï¼šnums1 = [1,3], nums2 = [2]è¾“å‡ºï¼š2.00000è§£é‡Šï¼šåˆå¹¶æ•°ç»„ = [1,2,3] ï¼Œä¸­ä½æ•° 2</code></pre><pre><code>è¾“å…¥ï¼šnums1 = [1,2], nums2 = [3,4]è¾“å‡ºï¼š2.50000è§£é‡Šï¼šåˆå¹¶æ•°ç»„ = [1,2,3,4] ï¼Œä¸­ä½æ•° (2 + 3) / 2 = 2.5</code></pre><a id="more"></a><p><em>æ€è·¯ï¼š</em></p><blockquote><p>ç¬¬ä¸€æ€è·¯ï¼Œå…ˆåˆå¹¶æˆä¸€ä¸ªæ•°ç»„ï¼å»ºç«‹ä¸¤ä¸ªæŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘<code>num1</code>ï¼Œ<code>num2</code>çš„ç¬¬ä¸€å…ƒç´ ä¸‹æ ‡ã€‚<br>éå†å¼€æ¥ï¼Œç„¶åæ¯”å¤§å°ï¼Œåˆå¹¶ï¼Œç„¶åå†è®¡ç®—ä¸­ä½æ•°ã€‚</p></blockquote><pre><code>var findMedianSortedArrays = function(nums1, nums2) {    let L = R = 0;    let nums1Len = nums1.length;    let nums2Len = nums2.length;    let newNumArr = Array();    while(L &lt; nums1Len &amp;&amp; R &lt; nums2Len) {        if(nums1[L] &lt; nums2[R] ) {            newNumArr.push(nums1[L]);            L++;        }        if(nums1[L] &gt;= nums2[R] ) {            newNumArr.push(nums2[R]);            R++;        }    }    while(L &lt; nums1Len) {        newNumArr.push(nums1[L]);        L++    }    while(R &lt; nums2Len) {        newNumArr.push(nums2[R]);        R++    }    let valA = 0;    let val1 = 0;    let val2 = 0    let idx = Math.floor(newNumArr.length / 2);    if(newNumArr.length % 2 === 0) {        val1 = newNumArr[idx];        val2 = newNumArr[idx - 1];        valA = (val1 + val2) / 2;    } else {        valA = newNumArr[idx];    }    return valA;};</code></pre><p>ä½†æ˜¯è¿™æ˜¯æš´åŠ›è§£ğŸ¤£</p><p>æ›´å¤šä¼˜è´¨ç­”æ¡ˆå¯ä»¥çœ‹åŸé¢˜é“¾æ¥ï¼šğŸ‘‰ï¼š<a href="https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/" target="_blank" rel="noopener">æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</a>*</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>leetCode-3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</title>
      <link href="/2021/04/19/2021/leetCode-3-%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/"/>
      <url>/2021/04/19/2021/leetCode-3-%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/</url>
      
        <content type="html"><![CDATA[<p><em>åŸé¢˜é“¾æ¥ï¼šğŸ‘‰ï¼š<a href="https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/" target="_blank" rel="noopener">æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</a></em></p><p>é¢˜ç›®æè¿°ï¼š</p><ol><li>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ æœ€é•¿å­ä¸² çš„é•¿åº¦ã€‚</li></ol><p>ç¤ºä¾‹ï¼š</p><pre><code>è¾“å…¥: s = &quot;abcabcbb&quot;è¾“å‡º: 3 è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;abc&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚</code></pre><a id="more"></a><blockquote><p>å¾ˆæ—©ä¹‹å‰å°±çœ‹è¿‡å‡ æ¬¡è¿™ä¸ªé¢˜ï¼Œé‡‡ç”¨æ»‘åŠ¨çª—å£</p></blockquote><p>æ„æ€æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬ç»´æŠ¤ä¸€ä¸ªçª—å£ï¼Œä»<code>idx=0</code>å¼€å§‹ï¼Œéå†æ•°ç»„ï¼Œæ¯æ¬¡éå†åˆ°çš„æ–°å€¼éƒ½è¦ä¸çª—å£å†…çš„å­—ç¬¦ç›¸æ¯”è¾ƒæ˜¯å¦å‡ºç°è¿‡</p><ol><li>å¦‚æœæ²¡ç”¨å‡ºç°è¿‡ï¼Œåˆ™æ­¤æ–°å­—ç¬¦å¯ä»¥å¢åŠ è¿›çª—å£ã€‚</li><li>å¦‚æœå‡ºç°è¿‡ï¼Œåˆ™éœ€è¦å°†çª—å£å†…å‡ºç°çš„ç´¢å¼•å€¼å‰çš„å­—ç¬¦ï¼Œå‡ç§»é™¤ã€‚</li></ol><pre><code>var lengthOfLongestSubstring = function(s) {    let index = 0, max = 0    for(let i = 0, j = 0; j &lt; s.length; j++) {        index = s.substring(i, j).indexOf(s[j])         if(index !== -1) {             i = i + index + 1         }         max = Math.max(max, j - i + 1)     }    return max};</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>leetCode-2-ä¸¤æ•°ç›¸åŠ </title>
      <link href="/2021/04/19/2021/leetCode-2-%E4%B8%A4%E6%95%B0%E7%9B%B8%E5%8A%A0/"/>
      <url>/2021/04/19/2021/leetCode-2-%E4%B8%A4%E6%95%B0%E7%9B%B8%E5%8A%A0/</url>
      
        <content type="html"><![CDATA[<p><em>åŸé¢˜é“¾æ¥ï¼šğŸ‘‰ï¼š<a href="https://leetcode-cn.com/problems/add-two-numbers/" target="_blank" rel="noopener">ä¸¤æ•°ç›¸åŠ </a></em></p><p>é¢˜ç›®æè¿°:</p><ol><li>ç»™ä½ ä¸¤ä¸ª éç©º çš„é“¾è¡¨ï¼Œè¡¨ç¤ºä¸¤ä¸ªéè´Ÿçš„æ•´æ•°ã€‚å®ƒä»¬æ¯ä½æ•°å­—éƒ½æ˜¯æŒ‰ç…§ é€†åº çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ ä¸€ä½ æ•°å­—ã€‚</li><li>è¯·ä½ å°†ä¸¤ä¸ªæ•°ç›¸åŠ ï¼Œå¹¶ä»¥ç›¸åŒå½¢å¼è¿”å›ä¸€ä¸ªè¡¨ç¤ºå’Œçš„é“¾è¡¨ã€‚</li><li>ä½ å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½ä¸ä¼šä»¥ 0 å¼€å¤´ã€‚</li></ol><p>ç¤ºä¾‹ï¼š</p><pre><code>è¾“å…¥ï¼šl1 = [2,4,3], l2 = [5,6,4]è¾“å‡ºï¼š[7,0,8]è§£é‡Šï¼š342 + 465 = 807</code></pre><p>æ€è·¯</p><blockquote><p>ä¸¤ä¸ªæŒ‡é’ˆï¼Œéå†é“¾è¡¨ï¼Œç„¶åæ¯ä¸€ä½ç›¸åŠ ï¼Œå¤§äº10çš„éƒ¨åˆ†ï¼Œè¿›ä¸€ä½ã€‚<br>å³ä¸ªä½æ•°ç›¸åŠ ï¼Œå¿…å®šæ˜¯æœ€å¤§ä¹Ÿå°±<code>9 + 9</code>çš„æƒ…å†µï¼Œä¾‹å¦‚<code>9 + 8 = 17</code>ï¼Œ17 % 10ï¼Œä½™<code>7</code>ï¼Œæ–°çš„ä¸ªæ•°ä¸º<code>7</code>ï¼Œå°†<code>1</code>è¿›ä¸€ä½ã€‚</p></blockquote><pre><code>var addTwoNumbers = function(l1, l2) {    let head = null;    let nodeIdx = null;    let lastCarry = 0;    while(l1 || l2) {        let nodeVal1 = l1 ? l1.val : 0;        let nodeVal2 = l2 ? l2.val : 0;        let nodeUnitSum = nodeVal1 + nodeVal2 + lastCarry;        lastCarry = nodeUnitSum % 10;        if(!head) {            tail = head = new ListNode(lastCarry);        } else {            tail.next = new ListNode(lastCarry);            tail = tail.next;        }        lastCarry = Math.floor(nodeUnitSum / 10);        if(l1) {            l1 = l1.next;        }        if(l2) {            l2 = l2.next;        }    }    // æœ€åçš„æœ€åå¦‚æœæœ‰å¤šä½™çš„ï¼Œéœ€è¦è®°ä½è¿›ä¸€ä½    if(lastCarry &gt; 0) {        tail.next = new ListNode(lastCarry);    }    return head;};</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°ç»„æ•°æ®ç»“æ„-trieæ ‘</title>
      <link href="/2021/04/18/2021/%E6%95%B0%E7%BB%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-trie%E6%A0%91/"/>
      <url>/2021/04/18/2021/%E6%95%B0%E7%BB%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-trie%E6%A0%91/</url>
      
        <content type="html"><![CDATA[<p><em>æ¥æºï¼šğŸ‘‰ <a href="https://github.com/LeuisKen/leuisken.github.io/issues/2" target="_blank" rel="noopener">Trie</a></em></p><p>ä¹‹æ‰€ä»¥ä¼šæ‰¾åˆ°è¿™ä¸ªï¼Œæ˜¯å› ä¸ºæˆ‘æœ€è¿‘ä¹Ÿé‡åˆ°è¿™æ ·çš„é¢˜äº†ã€‚</p><p>è¿™ä¸ªå¯¹äºå‰ç«¯æ¥è¯´æ˜¯æŒºå¸¸è§çš„ï¼Œå› ä¸ºåç«¯æ˜¯å…³ç³»å‹çš„æ•°æ®åº“ï¼Œè¿™æ ·çš„æ•°æ®ç»“æ„è¦ä¹ˆæ˜¯åå°åŒäº‹è½¬æ¢ï¼Œè¦ä¹ˆæ˜¯å‰ç«¯è¿™è¾¹è‡ªå·±è½¬ï¼Œå› æ­¤åœ¨è¿™ä¸ªè½¬æ¢ä¸Šï¼Œæˆ‘ä»¬æ˜¯éœ€è¦å»å­¦ä¹ çš„ã€‚</p><a id="more"></a><p>é¢˜ç›®æè¿°ï¼š</p><ol><li>ç»™å®šä¸€ä¸ª<code>data</code>æ•°ç»„ï¼Œä¾‹å¦‚ï¼š</li></ol><pre><code>var data = [{  &quot;province&quot;: &quot;æµ™æ±Ÿ&quot;,  &quot;city&quot;: &quot;æ­å·&quot;,  &quot;name&quot;: &quot;è¥¿æ¹–&quot;}, {  &quot;province&quot;: &quot;å››å·&quot;,  &quot;city&quot;: &quot;æˆéƒ½&quot;,  &quot;name&quot;: &quot;é”¦é‡Œ&quot;}, {  &quot;province&quot;: &quot;å››å·&quot;,  &quot;city&quot;: &quot;æˆéƒ½&quot;,  &quot;name&quot;: &quot;æ–¹æ‰€&quot;}, {  &quot;province&quot;: &quot;å››å·&quot;,  &quot;city&quot;: &quot;é˜¿å&quot;,  &quot;name&quot;: &quot;ä¹å¯¨æ²Ÿ&quot;}]</code></pre><ol start="2"><li>ç»™å®šä¸€ä¸ªå±‚çº§å…³ç³»<code>level</code>ï¼Œä¾‹å¦‚ï¼š</li></ol><pre><code>let keys = [&#39;province&#39;, &#39;city&#39;, &#39;name&#39;]</code></pre><ol start="3"><li>è¦æ±‚è¾“å‡ºä»¥ä¸‹ç¤ºä¾‹çš„æ•°æ®ç»“æ„ï¼š</li></ol><pre><code>var data = [{  &quot;value&quot;: &quot;æµ™æ±Ÿ&quot;,  &quot;children&quot;: [{    &quot;value&quot;: &quot;æ­å·&quot;,    &quot;children&quot;: [{      &quot;value&quot;: &quot;è¥¿æ¹–&quot;    }]  }]}, {  &quot;value&quot;: &quot;å››å·&quot;,  &quot;children&quot;: [{    &quot;value&quot;: &quot;æˆéƒ½&quot;,    &quot;children&quot;: [{      &quot;value&quot;: &quot;é”¦é‡Œ&quot;    }, {      &quot;value&quot;: &quot;æ–¹æ‰€&quot;    }]  }, {    &quot;value&quot;: &quot;é˜¿å&quot;,    &quot;children&quot;: [{      &quot;value&quot;: &quot;ä¹å¯¨æ²Ÿ&quot;    }]  }]}]</code></pre><p>èµ·åˆè®¤ä¸ºåŸºæœ¬ç»“æ„æ˜¯ç›¸åŒçš„ï¼Œéƒ½æ˜¯<code>value: xx, children: {}</code>çš„å½¢å¼ï¼Œæ‰€ä»¥ä»¥ä¸ºç”¨é€’å½’ä¹‹ç±»çš„å¯ä»¥å®Œæˆï¼Œåæ¥å®é™…ä¸Šç€æ‰‹å†™ä»£ç çš„æ—¶å€™æ‰å‘ç°too youngã€‚<br><em>æ­£è§£ï¼šæ„Ÿæ…¨æ•°æ®ç»“æ„çš„ç²¾å¦™</em></p><p>debuggerè·Ÿç€æµè§ˆå™¨æ‰§è¡Œä¸€é~</p><pre><code>var transObject = function(tableData, keys) {    let hashTable = {}, res = []; debugger      for (let i = 0; i &lt; tableData.length; i++) {        let arr = res, cur = hashTable        for (let j = 0; j &lt; keys.length; j++) {          let key = keys[j], filed = tableData[i][key]          if (!cur[filed]) {            let pusher = {              value: filed            }, tmp            if (j !== (keys.length - 1)) {              tmp = []              pusher.children = tmp            }            cur[filed] = { $$pos: arr.push(pusher) - 1 }            cur = cur[filed]            arr = tmp          } else {            cur = cur[filed]            arr = arr[cur.$$pos].children          }        }    }    console.log(res);    console.log(hashTable);    return res;}</code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>leetCode.1.ä¸¤æ•°ä¹‹å’Œ</title>
      <link href="/2021/04/17/2021/leetCode-1-%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C/"/>
      <url>/2021/04/17/2021/leetCode-1-%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C/</url>
      
        <content type="html"><![CDATA[<p><em>åŸé¢˜é“¾æ¥ï¼šğŸ‘‰ï¼š<a href="https://leetcode-cn.com/problems/two-sum/" target="_blank" rel="noopener">ä¸¤æ•°ä¹‹å’Œ</a></em></p><p>é¢˜ç›®æè¿°ï¼š</p><ol><li>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º å’Œä¸ºç›®æ ‡å€¼ çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚</li><li>ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ åœ¨ç­”æ¡ˆé‡Œä¸èƒ½é‡å¤å‡ºç°ã€‚</li><li>ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆ</li></ol><p>ç¤ºä¾‹ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [2,7,11,15], target = 9è¾“å‡ºï¼š[0,1]è§£é‡Šï¼šå› ä¸º nums[0] + nums[1] == 9 ï¼Œè¿”å› [0, 1] ã€‚</code></pre><pre><code>è¾“å…¥ï¼šnums = [3,2,4], target = 6è¾“å‡ºï¼š[1,2]</code></pre><a id="more"></a><p>ç¬¬ä¸€æ„Ÿè§‰ï¼Œç”¨æ˜ å°„</p><blockquote><p>ä½¿ç”¨mapçš„ç‰¹æ®Šç»“æ„ï¼Œæˆ‘ä»¬å°†éå†æ•°ç»„ï¼Œæ¯ä¸€ä¸ªå€¼ä½œä¸ºmapçš„keyï¼Œç´¢å¼•ä½œä¸ºvalueï¼Œå½“æˆ‘ä»¬å¯»æ‰¾ç›¸åŠ ç­‰äºç›®æ ‡æ•°çš„æ—¶å€™ï¼Œå³å¯ä»¥å¾—åˆ°ç´¢å¼•</p></blockquote><pre><code>var twoSum = function(nums, target) {    let idxMap = new Map();    let startIdx = &#39;&#39;, count = 0;    for(let iTem of nums) {        let diff = target - iTem;        if(idxMap.has(diff)) {            startIdx = idxMap.get(diff);        } else {            idxMap.set(iTem, count);            count++;        }        if(startIdx !== &#39;&#39;) {            return [startIdx, count]        }    }};</code></pre><p>æ‰§è¡Œç»“æœï¼š<code>é€šè¿‡</code>ã€‚ä½†æ˜¯ç”¨æ—¶å’Œå†…å­˜æœ‰ç‚¹æƒ¨ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®ç°å¯¹è±¡ç»™for...oféå†</title>
      <link href="/2021/04/14/2021/%E5%AE%9E%E7%8E%B0%E5%AF%B9%E8%B1%A1%E7%BB%99for-of%E9%81%8D%E5%8E%86/"/>
      <url>/2021/04/14/2021/%E5%AE%9E%E7%8E%B0%E5%AF%B9%E8%B1%A1%E7%BB%99for-of%E9%81%8D%E5%8E%86/</url>
      
        <content type="html"><![CDATA[<p><em>å¯¹è±¡ï¼Ÿforâ€¦ofï¼Ÿ</em></p><p>åˆšå¼€å§‹çœ‹åˆ°é¢˜ç›®çš„æ—¶å€™æœ‰ç‚¹æ‡µï¼Œä¸çŸ¥é“æ˜¯æœŸæœ›å®ç°ä»€ä¹ˆã€‚</p><p>æŸ¥èµ„æ–™åå¾—çŸ¥ï¼ŒåŸæ¥ ES6 ä¸­å¼•å…¥äº† Iteratorï¼Œåªæœ‰æä¾›äº† Iterator æ¥å£çš„æ•°æ®ç±»å‹æ‰å¯ä»¥ä½¿ç”¨ for-of æ¥å¾ªç¯éå†ã€‚</p><p>æç„¶å¤§æ‚Ÿï¼Œå…¶å®æ˜¯å˜ç›¸çš„<br><a id="more"></a></p><p>æç„¶å¤§æ‚Ÿï¼Œå…¶å®æ˜¯å˜ç›¸çš„æœŸæœ›å®ç°å¯¹è±¡çš„iTeratoræ¥å£ã€‚</p><p>é‚£ä¹ˆå¦‚ä½•æä¾›iteratoræ¥å£å‘¢ï¼ŸES6å…¶å®æä¾›äº†<code>Symbol.iterator</code>å±æ€§ï¼Œåªè¦æ•°æ®ç»“æ„æœ‰è¿™ä¸ªå±æ€§ï¼Œå°±ä¼šè§†ä¸ºæœ‰iteratoræ¥å£ã€‚</p><p>å³ï¼š</p><pre><code>newObj[Symbol.iterator] = function *() {    let keyArr = Object.keys(this);    for(let i = 0; i &lt; keyArr.length; i++) {        yield {            key: keyArr[i],            value: this[keyArr[i]]        }    }}</code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµè§ˆå™¨çš„å¤šçº¿ç¨‹</title>
      <link href="/2021/04/12/2021/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
      <url>/2021/04/12/2021/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%A4%9A%E7%BA%BF%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h4 id="è¿›ç¨‹ï¼Œçº¿ç¨‹"><a href="#è¿›ç¨‹ï¼Œçº¿ç¨‹" class="headerlink" title="è¿›ç¨‹ï¼Œçº¿ç¨‹"></a>è¿›ç¨‹ï¼Œçº¿ç¨‹</h4><p>é¦–å…ˆæˆ‘ä»¬æ€è€ƒä¸€ä¸‹è¿›ç¨‹ä¸çº¿ç¨‹çš„å…³ç³»ä¸åŒºåˆ«ï¼š</p><ol><li>ä¸€ä¸ªè¿›ç¨‹ç”±ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ç»„æˆï¼Œå¤šä¸ªçº¿ç¨‹å¯ä»¥ååŒå·¥ä½œã€‚</li><li>è¿›ç¨‹ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼ŒåŒä¸€è¿›ç¨‹ä¸‹å„ä¸ªçº¿ç¨‹å…±äº«ç¨‹åºçš„å†…å­˜åŠä¸€äº›è¿›ç¨‹çº§çš„èµ„æºã€‚</li><li>çº¿ç¨‹ä¹‹é—´çš„åˆ‡æ¢æ¯”è¿›ç¨‹é—´çš„åˆ‡æ¢æ›´å¿«ã€‚</li></ol><h4 id="æµè§ˆå™¨"><a href="#æµè§ˆå™¨" class="headerlink" title="æµè§ˆå™¨"></a>æµè§ˆå™¨</h4><a id="more"></a><p>æµè§ˆå™¨æ˜¯å¤šè¿›ç¨‹çš„ã€‚</p><p><img src="/2021/04/12/2021/æµè§ˆå™¨çš„å¤šçº¿ç¨‹/NO1.png" alt="NO1" title="NO1"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹çš„ä»–ä»¬åˆ†åˆ«æ‹¥æœ‰ä¸åŒçš„è¿›ç¨‹IDã€‚</p><ol><li>æµè§ˆå™¨è¿›ç¨‹(Browser è¿›ç¨‹):æµè§ˆå™¨è¿›ç¨‹åªæœ‰ä¸€ä¸ªï¼Œç”¨äºç®¡ç†æ ‡ç­¾é¡µã€çª—å£å’Œæµè§ˆå™¨æœ¬èº«ã€‚è¿™ä¸ªè¿›ç¨‹åŒæ—¶è´Ÿè´£å¤„ç†æ‰€æœ‰è·Ÿç£ç›˜ã€ç½‘ç»œã€ç”¨æˆ·è¾“å…¥å’Œæ˜¾ç¤ºçš„äº¤äº’ï¼Œç„¶è€Œå®ƒä¸åˆ†æå’Œæ¸²æŸ“ä»»ä½•ç½‘é¡µå†…å®¹ã€‚</li><li>ç¬¬ä¸‰æ–¹æ’ä»¶è¿›ç¨‹:è§ˆå™¨è¿›ç¨‹åŒæ ·ä¸ºå¤„äºä½¿ç”¨çŠ¶æ€çš„æ¯ç§ç±»å‹çš„æ’ä»¶åˆ›å»ºä¸€ä¸ªè¿›ç¨‹ï¼Œå¦‚:Flashã€Quicktime æˆ– Adobe readerã€‚è¿™äº›è¿›ç¨‹ä»…ä»…åŒ…å«æ’ä»¶æœ¬èº«ä»¥åŠå’Œæµè§ˆå™¨è¿›ç¨‹ã€æ¸²æŸ“å™¨è¿›ç¨‹äº¤äº’çš„èƒ¶æ°´ä»£ç ã€‚</li><li>GPU è¿›ç¨‹:æœ€å¤šä¸€ä¸ªï¼Œç”¨äº 3D ç»˜åˆ¶ç­‰</li><li>æµè§ˆå™¨æ¸²æŸ“è¿›ç¨‹(æµè§ˆå™¨å†…æ ¸)(Renderer è¿›ç¨‹ï¼Œå†…éƒ¨æ˜¯å¤šçº¿ç¨‹çš„):æ¸²æŸ“å™¨è¿›ç¨‹ä¼šå­˜åœ¨å¤šä¸ªï¼Œæ¯ä¸ªéƒ½è´Ÿè´£æ¸²æŸ“ç½‘é¡µã€‚æ¸²æŸ“å™¨è¿›ç¨‹ä¸­åŒ…å«ç”¨äºæ“ä½œ HTMLï¼ŒJavaScriptï¼ŒCSSï¼Œå›¾ç‰‡å’Œå…¶ä»–å†…å®¹çš„å¤æ‚çš„é€»è¾‘ã€‚æˆ‘ä»¬ä½¿ç”¨äº†ä¹ŸåŒæ ·è¢« Apple Safari æµè§ˆå™¨ä½¿ç”¨çš„å¼€æºçš„ WebKit æ¸²æŸ“å¼•æ“å®ç°ä»¥ä¸ŠåŠŸèƒ½ã€‚æ¯ä¸ªæ¸²æŸ“è¿›ç¨‹éƒ½è¿è¡Œåœ¨æ²™ç®±å†…ï¼Œè¿™æ„å‘³ç€å®ƒå¯¹ç£ç›˜ã€ç½‘ç»œå’Œæ˜¾ç¤ºå™¨æ²¡æœ‰ç›´æ¥çš„è®¿é—®æƒé™ã€‚æ‰€æœ‰è·Ÿç½‘ç»œåº”ç”¨çš„äº¤äº’ï¼ŒåŒ…æ‹¬ç”¨æˆ·è¾“å…¥äº‹ä»¶å’Œå±å¹•ç»˜åˆ¶éƒ½å¿…é¡»é€šè¿‡æµè§ˆå™¨è¿›ç¨‹ã€‚è¿™å¯ä»¥è®©æµè§ˆå™¨è¿›ç¨‹ç›‘è§†æ¸²æŸ“å™¨çš„å¯ç–‘è¡Œä¸ºï¼Œä¸€æ—¦å‘ç°å…¶ä»äº‹ç ´åæ´»åŠ¨å°±å°†å…¶ç»ˆæ­¢ã€‚</li></ol><p>å½“ç„¶ä½œä¸ºå¼€å‘ï¼Œæˆ‘ä»¬æœ€å…³å¿ƒçš„æ›´æ˜¯æ¸²æŸ“è¿›ç¨‹ï¼Œé¡µé¢æ¸²æŸ“ï¼ŒJSæ‰§è¡Œï¼Œäº‹ä»¶éƒ½åœ¨æ­¤ä¹‹ä¸Šå®Œæˆã€‚</p><h4 id="æ¸²æŸ“è¿›ç¨‹"><a href="#æ¸²æŸ“è¿›ç¨‹" class="headerlink" title="æ¸²æŸ“è¿›ç¨‹"></a>æ¸²æŸ“è¿›ç¨‹</h4><p>åŒ…å«äº†ä»¥ä¸‹<em>çº¿ç¨‹</em>ï¼š</p><ol><li><p>GUIæ¸²æŸ“çº¿ç¨‹è´Ÿè´£æ¸²æŸ“æµè§ˆå™¨ç•Œé¢ï¼Œè§£æHTMLï¼ŒCSSï¼Œrenderæ ‘ï¼Œå¸ƒå±€ç»˜åˆ¶ç­‰ï¼Œå½“ç•Œé¢é‡ç»˜æˆ–è€…å›æµæ—¶ï¼Œè¯¥çº¿ç¨‹ä¼šæ‰§è¡Œã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒGUIæ¸²æŸ“çº¿ç¨‹ä¸JSå¼•æ“çº¿ç¨‹æ˜¯äº’æ–¥çš„ï¼Œå½“JSå¼•æ“æ‰§è¡Œæ—¶GUIçº¿ç¨‹ä¼šè¢«æŒ‚èµ·ï¼ŒGUIæ›´æ–°ä¼šä¿å­˜ç­‰å¾…JSå¼•æ“ç©ºé—²æ—¶æ‰§è¡Œã€‚<br>æ³¨ï¼šğŸ‘‰ <a href="/2020/02/03/2020/é‡ç»˜å›æµ">é‡ç»˜å›æµçŸ¥è¯†ç‚¹å¤ä¹ </a></p></li><li><p>JSå¼•æ“çº¿ç¨‹ä¹Ÿè¢«ç§°ä¸ºJSå†…æ ¸ï¼Œè´Ÿè´£JSè„šæœ¬ï¼ŒJSå¼•æ“ä¸€ç›´ç­‰å¾…ä»»åŠ¡é˜Ÿåˆ—çš„ä»»åŠ¡ï¼Œç„¶åè¿›è¡Œå¤„ç†ï¼Œä¸€ä¸ªTabé¡µä¸­ï¼Œæ— è®ºå¦‚ä½•åªæœ‰ä¸€ä¸ªJSçº¿ç¨‹åœ¨è¿è¡Œï¼Œå¦‚æœJSçº¿ç¨‹è¿è¡Œæ—¶é—´è¿‡é•¿ï¼Œä¼šé€ æˆé¡µé¢æ¸²æŸ“å¡é¡¿é˜»å¡ï¼Œè¿™ä¸ªåœ¨debuggeræ–­ç‚¹æ—¶ï¼Œå°±å¯ä»¥å¾ˆæ˜æ˜¾å¯Ÿè§‰ã€‚</p></li><li>äº‹ä»¶è§¦å‘çº¿ç¨‹å±äºæµè§ˆå™¨è€Œä¸æ˜¯JSå¼•æ“ï¼Œç”¨äºæ§åˆ¶äº‹ä»¶å¾ªç¯ï¼Œä¾‹å¦‚ï¼Œå®ä»»åŠ¡ï¼Œå¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚<br>æ³¨ï¼šğŸ‘‰ <a href="/2020/06/12/2020/EventLoop">ä»»åŠ¡é˜Ÿåˆ—EventLoopå¤ä¹ </a></li><li>å®šæ—¶è§¦å‘å™¨çº¿ç¨‹ï¼ŒsetIntervalä¸setTimeoutæ‰€åœ¨çš„çº¿ç¨‹å®šæ—¶è®¡æ•°å™¨ä¸æ˜¯ç”±JSå¼•æ“å†è®¡æ•°çš„ï¼Œå› æ­¤æ˜¯æœ‰å•ç‹¬çº¿ç¨‹æ¥è®¡æ—¶ï¼Œå¹¶ä¸”è§¦å‘ï¼ˆè®¡æ—¶å®Œæ¯•åï¼Œæ·»åŠ åˆ°äº‹ä»¶é˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…JSå¼•æ“æ‰§è¡Œï¼‰ï¼Œæ³¨ï¼šsetTimeoutä½äº4msäº‹ä»¶é—´éš”éƒ½ç®—ä¸º4msã€‚</li><li>å¼‚æ­¥HTTPçº¿ç¨‹ï¼ŒXMLHTTPè¿æ¥åï¼Œä¼šé€šè¿‡æµè§ˆå™¨å¼€ä¸€ä¸ªçº¿ç¨‹è¯·æ±‚ï¼Œæ£€æŸ¥åˆ°çŠ¶æ€å˜æ›´åï¼Œä¼šè°ƒç”¨å›è°ƒå‡½æ•°ï¼Œå°†å›è°ƒåŠ å…¥äº‹ä»¶é˜Ÿåˆ—ä¸­ï¼Œç”±JSå¼•æ“æ‰§è¡Œã€‚</li></ol><h4 id="çº¿ç¨‹ä¸­çš„å…³ç³»"><a href="#çº¿ç¨‹ä¸­çš„å…³ç³»" class="headerlink" title="çº¿ç¨‹ä¸­çš„å…³ç³»"></a>çº¿ç¨‹ä¸­çš„å…³ç³»</h4><h5 id="GUIçº¿ç¨‹ä¸JSå¼•æ“çº¿ç¨‹çš„äº’æ–¥"><a href="#GUIçº¿ç¨‹ä¸JSå¼•æ“çº¿ç¨‹çš„äº’æ–¥" class="headerlink" title="GUIçº¿ç¨‹ä¸JSå¼•æ“çº¿ç¨‹çš„äº’æ–¥"></a>GUIçº¿ç¨‹ä¸JSå¼•æ“çº¿ç¨‹çš„äº’æ–¥</h5><p>å¦‚æœä¸¤è€…ä¸äº’èµ¤ï¼Œç”±äºJSå¯æ“ä½œDOMï¼Œå¦‚æœä¸¤è€…åŒæ—¶è¿è¡Œï¼Œä¼šé€ æˆçº¿ç¨‹å‰åè·å¾—çš„å…ƒç´ æ•°æ®å¯èƒ½ä¸ä¸€è‡´ã€‚</p><h5 id="webWorker"><a href="#webWorker" class="headerlink" title="webWorker"></a>webWorker</h5><ol><li>åˆ›å»ºWorkeræ—¶ï¼ŒJSå¼•æ“å‘æµè§ˆå™¨ç”³è¯·å¼€ä¸€ä¸ªå­çº¿ç¨‹ï¼ˆæµè§ˆå™¨å¼€çš„ï¼‰ï¼ŒJSçº¿ç¨‹ä¸workerçº¿ç¨‹é—´é€šè¿‡ç‰¹å®šæ–¹å¼é€šä¿¡ï¼ŒpostMessageï¼ŒonMessageï¼Œéœ€è¦é€šè¿‡åºåˆ—åŒ–å¯¹è±¡ä¸çº¿ç¨‹äº¤äº’ã€‚</li></ol><h5 id="sharedWorker"><a href="#sharedWorker" class="headerlink" title="sharedWorker"></a>sharedWorker</h5><ol><li>WebWorker åªå±äºæŸä¸ªé¡µé¢ï¼Œä¸ä¼šå’Œå…¶ä»–é¡µé¢çš„ Render è¿›ç¨‹(æµè§ˆå™¨å†…æ ¸è¿›ç¨‹)å…±äº«</li><li>æœ¬è´¨ä¸Šå°±æ˜¯è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ã€‚SharedWorker ç”±ç‹¬ç«‹çš„è¿›ç¨‹ç®¡ç†ï¼ŒWebWorker åªæ˜¯å±äº render è¿›ç¨‹ä¸‹çš„ä¸€ä¸ªçº¿ç¨‹ã€‚</li></ol><h4 id="æµè§ˆå™¨æ¸²æŸ“æµç¨‹"><a href="#æµè§ˆå™¨æ¸²æŸ“æµç¨‹" class="headerlink" title="æµè§ˆå™¨æ¸²æŸ“æµç¨‹"></a>æµè§ˆå™¨æ¸²æŸ“æµç¨‹</h4><p><em>ä»ä½ è¾“å…¥URLåˆ°é¡µé¢ç”Ÿæˆï¼Œç»å†äº†ä»€ä¹ˆ ï¼Ÿ</em><br>å¤§è‡´è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li>è¾“å…¥url</li><li>æµè§ˆå™¨ä¸»çº¿ç¨‹æ¥ç®¡</li><li>dnsæŸ¥è¯¢IPï¼Œä¼šé€šè¿‡ç¼“å­˜æŸ¥ï¼ŒæŸ¥æµè§ˆå™¨ç¼“å­˜ï¼Œç³»ç»Ÿç¼“å­˜ï¼Œè·¯ç”±å™¨ç¼“å­˜ç›´è‡³è¯·æ±‚åˆ°</li><li>å‘é€httpè¯·æ±‚</li><li>ä¸‰æ¬¡ç¡®ç«‹æ¡æ‰‹</li><li>å››æ¬¡æŒ¥æ‰‹æ–­å¼€è¿æ¥</li><li>å°†è¿”å›å†…å®¹äº¤ç»™Renderè¿›ç¨‹</li><li>å¼€å§‹æ¸²æŸ“</li><li>è§£æhtmlæ„å»ºdomæ ‘ï¼Œæ„å»ºCSSæ ‘ï¼Œä¸¤è€…åˆä¸ºrenderæ ‘</li><li>ç»˜åˆ¶renderæ ‘</li></ol><p>æ³¨ï¼šğŸ‘‰ <a href="/2020/07/09/2020/ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹">ä¸‰æ¬¡æ¡æ‰‹ï¼Œå››æ¬¡æŒ¥æ‰‹å¤ä¹ </a></p><p>å‡ ä¸ªæ¦‚å¿µï¼š</p><ul><li>DOM Tree: æµè§ˆå™¨å°† HTML è§£ææˆæ ‘å½¢çš„æ•°æ®ç»“æ„</li><li>CSS Rule Tree: æµè§ˆå™¨å°† CSS è§£ææˆæ ‘å½¢çš„æ•°æ®ç»“æ„</li><li>Render Tree: DOM å’Œ CSSOM åˆå¹¶åç”Ÿæˆ Render Tree</li></ul><h4 id="CSSåŠ è½½"><a href="#CSSåŠ è½½" class="headerlink" title="CSSåŠ è½½"></a>CSSåŠ è½½</h4><p>CSSæ˜¯ç”±å•ç‹¬çš„ä¸‹è½½çº¿ç¨‹å¼‚æ­¥ä¸‹è½½çš„ã€‚<br>æ‰€æœ‰CSSä¸ä¼šé˜»å¡DOMæ ‘è§£æï¼Œä½†ä¼šé˜»å¡Renderæ ‘æ¸²æŸ“ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> HTTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœ€é•¿å›æ–‡å­ä¸²</title>
      <link href="/2021/04/12/2021/%E6%9C%80%E9%95%BF%E5%9B%9E%E6%96%87%E5%AD%90%E4%B8%B2/"/>
      <url>/2021/04/12/2021/%E6%9C%80%E9%95%BF%E5%9B%9E%E6%96%87%E5%AD%90%E4%B8%B2/</url>
      
        <content type="html"><![CDATA[<p><em>åŸé¢˜é“¾æ¥ï¼šğŸ‘‰ï¼š<a href="https://leetcode-cn.com/problems/longest-palindromic-substring/" target="_blank" rel="noopener">æœ€é•¿å›æ–‡å­ä¸²</a></em></p><p>é¢˜ç›®æè¿°ï¼šç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²<code>s</code>ï¼Œæ‰¾åˆ°<code>s</code>çš„æœ€é•¿å›æ–‡å­ä¸²ã€‚</p><p>ç¤ºä¾‹ï¼š</p><pre><code>è¾“å…¥ï¼šs = &quot;babad&quot;è¾“å‡ºï¼š&quot;bab&quot;è§£é‡Šï¼š&quot;aba&quot; åŒæ ·æ˜¯ç¬¦åˆé¢˜æ„çš„ç­”æ¡ˆã€‚</code></pre><p>æœ¬ç¯‡æä¾›äº†ä¸‰ç§è§£æ³•ï¼š</p><ol><li>æš´åŠ›è§£æ³•</li><li>ä¸­å¿ƒæ‰©å±•</li><li>åŠ¨æ€è§„åˆ’</li></ol><a id="more"></a><h4 id="æš´åŠ›è§£æ³•"><a href="#æš´åŠ›è§£æ³•" class="headerlink" title="æš´åŠ›è§£æ³•"></a>æš´åŠ›è§£æ³•</h4><p>é¦–å…ˆï¼Œé¢˜ç›®æ˜¯å¯ä»¥å°è¯•ä½¿ç”¨æš´åŠ›è§£çš„ã€‚</p><blockquote><p>æ€è·¯ï¼šæš´åŠ›è§£çš„æ€è·¯æ˜¯å®¹æ˜“æƒ³åˆ°çš„ï¼Œæˆ‘ä»¬é‡‡ç”¨éå†ä¸æ–­å–å‡ºå­—ç¬¦ä¸²<code>s</code>çš„å­ä¸²ï¼Œå¯¹å–å‡ºçš„å­ä¸²è¿›è¡Œå›æ–‡åˆ¤æ–­ï¼Œæ€ä¹ˆåˆ¤æ–­å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥è®²å–å‡ºçš„å­ä¸²å¯¹åŠåˆ‡ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ ä¸æœ€åä¸€ä¸ªå¯¹æ¯”ï¼Œç¬¬äºŒä¸ªä¸å€’æ•°ç¬¬äºŒä¸ªå¯¹æ¯”â€¦</p></blockquote><ol><li>å¾ªç¯å–å‡ºå­ä¸²</li></ol><pre><code>const longestPalindrome = (s) =&gt; {    let max = 0; // è®°å½•æœ€é•¿çš„å›æ–‡å­ä¸²é•¿åº¦    let maxStr = &#39;&#39;; // è®°å½•æœ€é•¿çš„å›æ–‡å­ä¸²    let sLen = s.length; // å­—ç¬¦ä¸²çš„é•¿åº¦    for(let i = 0; i &lt; sLen; i++ ) {        for(let j = i+1; j &lt;= sLen; j++) {            let sonStr = s.slice(i, j);            if(sonStr.length &gt; max &amp;&amp; isPalindrome(sonStr)) {                 /**                * isPalindromeæ–¹æ³•ç”¨äºåˆ¤æ–­æ˜¯å¦å›æ–‡å­ä¸²ï¼Œå¹¶ä¸”é•¿åº¦å¤§äºmaxçš„æƒ…å†µä¸‹æ‰§è¡Œ                * æœ‰å¿…è¦å…ˆå¯¹æ¯”é•¿åº¦ï¼Œå¦‚æœå­ä¸²é•¿åº¦éƒ½ä¸å¦‚æœ€é•¿å›æ–‡ï¼Œåˆ™å‹æ ¹æ²¡å¿…è¦è¿›å…¥å›æ–‡çš„åˆ¤æ–­æ–¹æ³•ğŸŒŸ                */                 max = sonStr.length;                 maxStr = sonStr;            }        }    }    return maxStr;}</code></pre><ol start="2"><li>åˆ¤æ–­æ˜¯å¦å›æ–‡</li></ol><pre><code>let isPalindrome = (sonStr) =&gt; {    let enmuLen = sonStr.length; // å¯¹åŠåˆ‡     for(let i = 0; i &lt; enmuLen / 2; i++) {        if(sonStr.charAt(i) !== sonStr.charAt(enmuLen-1-i)) {            return false;        }    }    return true;}</code></pre><h4 id="ä¸­å¿ƒæ‰©å±•æ³•"><a href="#ä¸­å¿ƒæ‰©å±•æ³•" class="headerlink" title="ä¸­å¿ƒæ‰©å±•æ³•"></a>ä¸­å¿ƒæ‰©å±•æ³•</h4><blockquote><p>æ€è·¯ï¼šæˆ‘ä»¬åªè¦éå†ï¼Œæ¯æ¬¡å–å‡ºä¸€ä¸ªä¸­å¿ƒï¼Œä»ä¸­å¿ƒèµ·å§‹å‰åå¯»æ‰¾ï¼Œå¯¹æ¯”å­—ç¬¦æƒ…å†µã€‚</p></blockquote><p><img src="/2021/04/12/2021/æœ€é•¿å›æ–‡å­ä¸²/NO1.png" alt="NO1" title="NO1"></p><ol><li>ä¸­å¿ƒå–å€¼</li></ol><pre><code>let longestPalindrome = (str) =&gt; {    if(str === &#39;&#39;) {        return &#39;&#39;;    }    if(str.length === 2 &amp;&amp; str.charAt(0) === str.charAt(1)) {        return str;    }    let start = 0, end = 0; // è®°å½•æœ€é•¿å›æ–‡çš„å¼€å¤´ä½ç½®ï¼Œç»“æŸä½ç½®    for(let i = 0; i &lt; str.length; i++ ) {        let len = centerExpand(str, i, i);        if(len &gt; end - start) {            start = i - (len - 1) / 2;             end = i + len / 2;         }    }    return str.slice(start, end + 1);}</code></pre><ol start="2"><li>ä¸­å¿ƒæ‰©å±•æ³•å¯¹æ¯”</li></ol><pre><code>let centerExpand = (str, left, right) =&gt; {    let L = left, R = right;    while( L &gt;= 0 &amp;&amp; R &lt; str.length &amp;&amp; str.charAt(L) === str.charAt(R) ) {        L--;        R++;    }    return R - L - 1;}</code></pre><h4 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h4><ol><li>å®šä¹‰çŠ¶æ€<ul><li>dp[i,j]ï¼šå­—ç¬¦ä¸²sä»ç´¢å¼•iåˆ°jçš„å­ä¸²æ˜¯å¦æ˜¯å›æ–‡ä¸²<ul><li>trueï¼š s[i,j] æ˜¯å›æ–‡ä¸²</li><li>falseï¼šs[i,j] ä¸æ˜¯å›æ–‡ä¸²</li></ul></li></ul></li><li>è½¬ç§»æ–¹ç¨‹<ul><li>dp[i][j] = dp[i+1][j-1] &amp;&amp; s[i] === s[j]<ul><li>s[i] === s[j]ï¼šè¡¨æ˜å½“å‰ä¸­å¿ƒå¯ä»¥ç»§ç»­æ‰©å¼ </li><li>d[i+1][j-1]ï¼š true<ul><li>è¯´æ˜å­ä¸²<code>s[i+1][j-1]</code>ä¹Ÿæ˜¯å›æ–‡ä¸²</li></ul></li></ul></li></ul></li><li>è¯´æ˜ï¼šiä»æœ€å¤§å€¼å¼€å§‹éå†ï¼Œjä»æœ€å°å€¼å¼€å§‹éå†ã€‚</li><li>æ€»ç»“ï¼š<ul><li>dp[i][j] = s[i] == s[j] &amp;&amp; ( dp[i+1][j-1] || j - i &lt; 2)</li></ul></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTP1-HTTP1.1-HTTP2-HTTPS-HTTP3çš„åŒºåˆ«ç‰¹å®š</title>
      <link href="/2021/04/07/2021/HTTP1-HTTP1-1-HTTP2-HTTPS-HTTP3%E7%9A%84%E5%8C%BA%E5%88%AB%E7%89%B9%E7%82%B9/"/>
      <url>/2021/04/07/2021/HTTP1-HTTP1-1-HTTP2-HTTPS-HTTP3%E7%9A%84%E5%8C%BA%E5%88%AB%E7%89%B9%E7%82%B9/</url>
      
        <content type="html"><![CDATA[<p>è¿™æ˜¯åœ¨ç½‘ç»œè¯·æ±‚ï¼ŒHTTPé—®é¢˜ä¸Šéœ€è¦çŸ¥é“çš„ä¸€äº›åŒºåˆ«ç‰¹å®šï¼Œä»¥åŠç›¸å¯¹åº”æ”¹è¿›äº†çš„éƒ¨åˆ†ã€‚</p><p>å¯èƒ½æ”¶é›†æ€»ç»“çš„ä¸å…¨ï¼Œæƒå½“äº†è§£ã€‚</p><a id="more"></a><h4 id="HTTP1-0ä¸HTTP1-1"><a href="#HTTP1-0ä¸HTTP1-1" class="headerlink" title="HTTP1.0ä¸HTTP1.1"></a>HTTP1.0ä¸HTTP1.1</h4><ol><li><p>é•¿è¿æ¥<br>åœ¨HTTP1.1ä¸­é»˜è®¤å¼€å¯é•¿è¿æ¥<code>connection: keep-alive</code>ï¼Œåœ¨ä¸€ä¸ªTCPè¿æ¥ä¸Šå¯ä»¥ä¼ é€å¤šä¸ªè¯·æ±‚å’Œå“åº”ï¼Œå‡å°‘äº†å»ºç«‹è¯·æ±‚å’Œå…³é—­è¿æ¥çš„æ¶ˆè€—å’Œå»¶è¿Ÿã€‚</p></li><li><p>ç¼“å­˜å¤„ç†</p><ul><li>åœ¨<code>HTTP1.0</code>ä¸»è¦æ˜¯ä½¿ç”¨äº†headerçš„<code>Exprires</code>ï¼Œ<code>if-Modified-Since</code>æ¥åšç¼“å­˜åˆ¤æ–­çš„æ ‡å‡†ï¼›</li><li>åœ¨<code>HTTP1.1</code>ä¸­åˆ™æœ‰æ›´å¤šé€‰æ‹©ï¼Œ<code>Entity Tag</code>ï¼Œ<code>IF-Unmodified-Since</code>ï¼Œ<code>IF-Match</code>ï¼Œ<code>If-none-Match</code>ç­‰ç¼“å­˜å¤´è¿›è¡Œç¼“å­˜æ§åˆ¶ç­–ç•¥ã€‚</li></ul></li><li><p>å¸¦å®½ä¼˜åŒ–ï¼ŒåŠç½‘ç»œè¿æ¥<br><code>HTTP1.0</code>ä¸­ï¼Œå¦‚æœåªéœ€è¦æŸä¸ªå¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼ŒæœåŠ¡å™¨ä¼šå°†æ•´ä¸ªå¯¹è±¡é€è¿‡æ¥ï¼Œå¹¶ä¸”ä¸æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œè€Œ<code>HTTP1.1</code>ä¸­åˆ™å¯ä»¥åœ¨è¯·æ±‚å¤´ä¸­å¼•å…¥rangeå¤´éƒ¨ï¼Œåªå…è®¸è¯·æ±‚èµ„æºçš„æŸä¸ªéƒ¨åˆ†ï¼Œå³è¿”å›ç æ˜¯<code>206</code>ï¼›</p></li></ol><p><em>HTTPçŠ¶æ€ç å¤ä¹ ï¼šğŸ‘‰ <a href="/2020/10/28/2020/HTTPå¸¸è§çŠ¶æ€ç ">HTTPå¸¸è§çŠ¶æ€ç </a></em></p><h4 id="HTTP1-Xä¸HTTP2-0"><a href="#HTTP1-Xä¸HTTP2-0" class="headerlink" title="HTTP1.Xä¸HTTP2.0"></a>HTTP1.Xä¸HTTP2.0</h4><p><em>HTTP1.Xå­˜åœ¨çš„é—®é¢˜ï¼š</em></p><ol><li>TCPè¿æ¥é™åˆ¶ï¼šå¯¹äºåŒä¸€ä¸ªåŸŸåï¼Œæµè§ˆå™¨åªèƒ½åŒæ—¶åˆ›å»º6~8ä¸ªTCPè¿æ¥ã€‚</li><li>é˜Ÿå¤´é˜»å¡ï¼šå½“<code>HTTPå¼€å¯é•¿è¿æ¥</code>æ—¶ï¼Œå…±ç”¨ä¸€ä¸ªTCPè¿æ¥ï¼ŒåŒä¸€æ—¶åˆ»åªèƒ½å¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼Œå¦‚æœä¸Šä¸€ä¸ªè¯·æ±‚æ²¡æœ‰è¿”å›ï¼Œåˆ™åç»­çš„è¯·æ±‚ä¸å“åº”éƒ½ä¼šå—é˜»ï¼Œå³ï¼š<br>è¯·æ±‚1 â€“&gt;  å“åº”1<br>è¯·æ±‚2 â€”&gt; å“åº”2<br>è¯·æ±‚3 â€”&gt; (!!å¡é¡¿)<br>[ä»¥ä¸‹éƒ¨åˆ†å°†é˜»å¡]<br>è¯·æ±‚4 â€”&gt;<br>è¯·æ±‚5 â€”&gt;</li><li>headerå†…å®¹å¤šï¼Œæ¯æ¬¡è¯·æ±‚çš„headeræ²¡æœ‰å‹ç¼©ä¼˜åŒ–çš„æ–¹æ¡ˆï¼›</li><li>ä¸ºäº†å‡å°‘è¯·æ±‚æ•°ï¼Œéœ€è¦åšåˆå¹¶æ–‡ä»¶ã€é›ªç¢§å›¾ã€ç­‰ä¼˜åŒ–å·¥ä½œï¼Œä½†æ˜¯ä¹Ÿæ— ç–‘å¢å¤§äº†è¯·æ±‚çš„å†…å®¹å˜å¤§ï¼›</li><li>æ˜æ–‡ä¼ è¾“ã€‚</li></ol><p><em>HTTP2.0</em></p><ol><li>äºŒè¿›åˆ¶ä¼ è¾“ï¼ŒHTTP2é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼ä¼ è¾“æ•°æ®ï¼Œè€ŒéHTTP1.Xçš„çº¯æ–‡æœ¬å½¢å¼ï¼ŒäºŒè¿›åˆ¶è§£æèµ·æ¥æ›´é«˜æ•ˆï¼›</li><li>å¤šè·¯å¤ç”¨ï¼Œåœ¨ä¸€ä¸ªTCPè¿æ¥ä¸Šï¼Œæˆ‘ä»¬å‘å¯¹æ–¹ä¸æ–­å‘é€å¸§ï¼Œæ¯å¸§çš„<code>stream identifier</code>æ ‡æ˜å±äºå“ªä¸ªæµï¼Œæ¥æ”¶æ—¶ï¼Œå°†æ¯ä¸ªæµæ‰€æœ‰å¸§æ‹¼æ¥èµ·æ¥ç»„æˆå®Œæ•´æ•°æ®ï¼›</li><li>headerå‹ç¼©ï¼Œä½¿ç”¨<code>HPACK</code>ç®—æ³•æ¥å‹ç¼©é¦–éƒ¨å†…å®¹ï¼›</li><li>æœåŠ¡ç«¯æ¨é€ï¼Œæµè§ˆå™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼ŒæœåŠ¡å™¨ä¸»åŠ¨å‘æµè§ˆå™¨æ¨é€ä¸è¿™ä¸ªè¯·æ±‚ç›¸å…³çš„èµ„æºï¼Œè¿™æ ·æµè§ˆå™¨å°±ä¸ç”¨å‘èµ·åç»­è¯·æ±‚ã€‚</li></ol><p><em>ä¸ºä»€ä¹ˆHTTP1.1ä¸èƒ½å®ç°å¤šè·¯å¤ç”¨ï¼Ÿ</em><br><code>HTTP1.X</code>ä¸æ˜¯äºŒè¿›åˆ¶ä¼ è¾“ï¼Œé€šè¿‡æ–‡æœ¬ä¼ è¾“ï¼Œæ²¡æœ‰æµçš„æ¦‚å¿µï¼Œæ— æ³•å°†å¤šä¸ªå“åº”æ‹†åˆ†é‡ç»„ï¼Œå› æ­¤å®ç°ä¸äº†å¤šè·¯å¤ç”¨ã€‚</p><p><em>å¤šè·¯å¤ç”¨ä¸keep-aliveçš„åŒºåˆ«ï¼Ÿ</em></p><p><img src="/2021/04/07/2021/HTTP1-HTTP1-1-HTTP2-HTTPS-HTTP3çš„åŒºåˆ«ç‰¹ç‚¹/NO1.png" alt="NO1" title="NO1"></p><h4 id="HTTP3"><a href="#HTTP3" class="headerlink" title="HTTP3"></a>HTTP3</h4><p><em>HTTP2çš„ç¼ºç‚¹</em></p><p>å°½ç®¡<code>HTTP/2</code>è§£å†³äº†å¾ˆå¤š1.1çš„é—®é¢˜ï¼Œä½†<code>HTTP/2</code>ä»ç„¶å­˜åœ¨ä¸€äº›ç¼ºé™·ï¼Œè¿™äº›ç¼ºé™·å¹¶ä¸æ˜¯æ¥è‡ªäº<code>HTTP/2</code>åè®®æœ¬èº«ï¼Œè€Œæ˜¯æ¥æºäºåº•å±‚çš„TCPåè®®ï¼Œæˆ‘ä»¬çŸ¥é“TCPé“¾æ¥æ˜¯å¯é çš„è¿æ¥ï¼Œå¦‚æœå‡ºç°äº†ä¸¢åŒ…ï¼Œé‚£ä¹ˆæ•´ä¸ªè¿æ¥éƒ½è¦ç­‰å¾…é‡ä¼ ï¼Œ<code>HTTP/1.1</code>å¯ä»¥åŒæ—¶ä½¿ç”¨6ä¸ªTCPè¿æ¥ï¼Œä¸€ä¸ªé˜»å¡å¦å¤–äº”ä¸ªè¿˜èƒ½å·¥ä½œï¼Œä½†<code>HTTP/2</code>åªæœ‰ä¸€ä¸ªTCPè¿æ¥ï¼Œé˜»å¡çš„é—®é¢˜ä¾¿è¢«æ”¾å¤§äº†ã€‚</p><p>HTTP3é‡‡ç”¨äº†UDPåè®®ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP </tag>
            
            <tag> Web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœ‰è¶£-githubçš„3Dæ‰“å°</title>
      <link href="/2021/04/05/2021/github%E7%9A%843D%E6%89%93%E5%8D%B0/"/>
      <url>/2021/04/05/2021/github%E7%9A%843D%E6%89%93%E5%8D%B0/</url>
      
        <content type="html"><![CDATA[<p>githubå¼€æ”¾äº†ä¸€ä¸ªå¹³å°ï¼Œæ”¯æŒå¯¼å‡ºè‡ªå·±githubè´¦æˆ·çš„å¹´åº¦æäº¤é‡ï¼Œç”Ÿæˆä¸€ä¸ª3Dæ¨¡å‹æ–‡ä»¶</p><p>å°è¯•äº†ä¸€ä¸‹ï¼Œå¯¼å‡ºè‡ªå·±2020å¹´çš„æ•°æ®ï¼ŒğŸ˜‚è¿˜å¥½ä¸æ˜¯åªæ˜¯ä¸€ä¸ªå¹³åº•åº§â€¦<br>æ·˜å®ä¸‹å•æ‰“å°äº†ï¼Œæ”¾åœ¨æ¡Œå­ä¸Šï¼Œæé†’è‡ªå·±å§ã€‚</p><p><img src="/2021/04/05/2021/githubçš„3Dæ‰“å°/NO1.png" alt="NO1" title="NO1"></p>]]></content>
      
      
      <categories>
          
          <category> è¯»ä¹¦Vç”Ÿæ´» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ—¥å¸¸ç¢ç¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åå¤§æ’åº</title>
      <link href="/2021/04/02/2021/%E5%8D%81%E5%A4%A7%E6%8E%92%E5%BA%8F/"/>
      <url>/2021/04/02/2021/%E5%8D%81%E5%A4%A7%E6%8E%92%E5%BA%8F/</url>
      
        <content type="html"><![CDATA[<p>å›é¡¾æ’åº</p><p>åå¤§æ’åºåˆ†åˆ«ä¸ºï¼šå†’æ³¡æ’åºã€é€‰æ‹©æ’åºã€æ’å…¥æ’åºã€å¿«é€Ÿæ’åºã€å¸Œå°”æ’åºã€å½’å¹¶æ’åºã€å †æ’åºã€è®¡æ•°æ’åºã€æ¡¶æ’åºã€åŸºæ•°æ’åºã€‚<br>æ¥ä¸‹æ¥æˆ‘ä»¬ä¸€èµ·å›é¡¾ä¸€ä¸‹è¿™åå¤§æ’åºå§ã€‚</p><a id="more"></a><h4 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h4><p><em>ä»‹ç»ï¼š</em></p><blockquote><p>å†’æ³¡æ’åºæ˜¯ä¸€ç§ç®€å•çš„æ’åºï¼Œå®ƒé‡å¤èµ°è®¿è¦æ’åºçš„æ•°ç»„ï¼Œä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ ï¼Œæ ¹æ®è¦æ±‚æ¯”è¾ƒç›¸åº”çš„å¤§å°ï¼Œå¹¶ä¸”æœ‰éœ€è¦çš„è¯å°†å®ƒä»¬äº¤æ¢ï¼Œé‡å¤çš„è¿›è¡Œç›´åˆ°æ²¡ç”¨éœ€è¦å†äº¤æ¢ã€‚</p></blockquote><p><em>æè¿°ï¼š</em></p><ol><li>æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢å®ƒä»¬ï¼›</li><li>å¯¹æ¯ä¸€ä¸ªç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œç›´åˆ°æœ€åä¸€å¯¹ï¼›</li><li>é’ˆå¯¹æ‰€æœ‰å…ƒç´ åšä»¥ä¸Šæ­¥éª¤ã€‚</li></ol><p><img src="/2021/04/02/2021/åå¤§æ’åº/NO1.gif" alt="NO1" title="NO1"></p><p><em>ä»£ç å®ç°</em></p><pre><code>function bubbleSOrt(arr) {    let len = arr.length;    for(let i = 0; i &lt; len - 1; i++) {        for(let j = 0; i &lt; len - 1 - i; j++) { // åœ¨`i`éå†çš„è¿‡ç¨‹ä¸­ï¼Œåé¢çš„`i`ä¸ªæ•°å·²ç»æ˜¯å†’äº†æ³¡çš„äº†            if(arr[j] &gt; arr[j+1]) {                let tmp = arr[j+1];                arr[j+1] = arr[j];                arr[j] = tmp;            }        }    }    return arr;}</code></pre><p><em>é—®é¢˜ï¼š</em></p><ol><li><p>ä»€ä¹ˆæ—¶å€™æœ€å¿«ï¼Ÿ</p><blockquote><p>Qï¼šå·²ç»æ˜¯æœ‰åºçš„æƒ…å†µä¸‹ï¼Œæœ€å¿«äº†ã€‚</p></blockquote></li><li><p>ä»€ä¹ˆæ—¶å€™æœ€æ…¢ï¼Ÿ</p><blockquote><p>Qï¼šå€’åºçš„æ—¶å€™æœ€æ…¢ã€‚</p></blockquote></li><li><p>æ—¶ç©ºå¤æ‚åº¦ï¼Ÿ<br>| æ–¹æ³• | æ—¶é—´å¤æ‚åº¦(å¹³å‡) | æ—¶é—´å¤æ‚åº¦(æœ€å) | æ—¶é—´å¤æ‚åº¦(æœ€å¥½) | ç©ºé—´å¤æ‚åº¦ | ç¨³å®šæ€§ |<br>| â€” | â€” | â€” | â€” | â€” | â€” |<br>| å†’æ³¡æ’åº | O(n^2) | O(n^2) | O(n) | O(1) | ç¨³å®š |</p></li><li><p>ä¸ºä»€ä¹ˆæœ€å¥½æ˜¯O(n)ï¼Ÿ</p><blockquote><p>Qï¼šO(n)æ˜¯åœ¨è¿›è¡Œäº†ç®—æ³•ä¼˜åŒ–çš„æƒ…å†µä¸‹ã€‚</p></blockquote></li></ol><h4 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h4><p><em>ä»‹ç»ï¼š</em></p><blockquote><p>é€‰æ‹©æ’åºæ˜¯ç®€å•ç›´è§‚çš„æ’åºï¼Œå®ƒçš„å·¥ä½œåŸç†ï¼šé¦–å…ˆåœ¨æœªæ’åºçš„åºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰çš„å…ƒç´ ï¼Œå­˜æ”¾åœ¨æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç„¶åå†ä»æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶åæ”¾åœ¨å·²æ’åºåºåˆ—çš„æœ«å°¾ï¼Œç›´åˆ°æ’åºå®Œæ¯•ã€‚</p></blockquote><p><em>æè¿°ï¼š</em></p><ol><li>åˆå§‹çŠ¶æ€ï¼šæ— åºæ•°æ®R[1â€¦n]ï¼Œæœ‰åºåŒºä¸ºç©ºï¼›</li><li>ç¬¬ièººæ’åºï¼ˆi=1ï¼Œ2ï¼Œ3â€¦n-1ï¼‰ï¼Œå½“å‰æœ‰åºåŒºå’Œæ— åºåŒºåˆ†åˆ«ä¸ºR[1â€¦i-1]å’ŒR[i,â€¦n]ã€‚è¯¥èººæ’åºä»æ— åºåŒºé€‰ä¸­å…³é”®å­—R[k]ï¼Œå°†å®ƒä¸æ— åºåŒºç¬¬ä¸€ä¸ªè®°å½•<code>i</code>äº¤æ¢ï¼Œä½¿å¾—R[1â€¦i]å’ŒR[i+1,â€¦n]åˆ’åˆ†ä¸ºæ–°çš„æœ‰åºä¸æ— åºåŒºï¼›</li><li>ç›´åˆ°ç»“æŸ</li></ol><p><img src="/2021/04/02/2021/åå¤§æ’åº/NO2.gif" alt="NO2" title="NO2"></p><p><em>ä»£ç å®ç°ï¼š</em></p><pre><code>function selectSort(arr) {    let arrLen = arr.length - 1;    let tmp;    for(let i = 0; i &lt; arrLen - 1; i++) {        let nowIdx = i;        for(let j = i + 1; j &lt; arrLen; j++) {            if(arr[j] &lt; arr[nowIdx]) {                nowIdx = j;            }        }        tmp = arr[i];        arr[i] = arr[nowIdx];        arr[nowIdx] = tmp;    }    return arr;}</code></pre><p><em>é—®é¢˜ï¼š</em></p><ol><li><p>é€‰æ‹©æ’åºæ— è®ºä»€ä¹ˆæ•°æ®éƒ½æ˜¯O(n^2)çš„å¤æ‚åº¦ã€‚</p></li><li><p>æ—¶ç©ºå¤æ‚åº¦ï¼Ÿ<br>| æ–¹æ³• | æ—¶é—´å¤æ‚åº¦(å¹³å‡) | æ—¶é—´å¤æ‚åº¦(æœ€å) | æ—¶é—´å¤æ‚åº¦(æœ€å¥½) | ç©ºé—´å¤æ‚åº¦ | ç¨³å®šæ€§ |<br>| â€” | â€” | â€” | â€” | â€” | â€” |<br>| å†’æ³¡æ’åº | O(n^2) | O(n^2) | O(n) | O(1) | ç¨³å®š |</p></li></ol><h4 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h4><p><em>ä»‹ç»ï¼š</em></p><blockquote><p>æ„å»ºæœ‰åºåºåˆ—ï¼Œå¯¹äºæœªæ’åºæ•°æ®ï¼Œåœ¨å·²æ’åºåºåˆ—ä¸­ä»åå¾€å‰æ‰«æï¼Œæ‰¾åˆ°ç›¸åº”ä½ç½®æ’å…¥ã€‚</p></blockquote><p><em>æè¿°ï¼š</em></p><ol><li>ç¬¬ä¸€ä¸ªå…ƒç´ å¯ä»¥è®¤ä¸ºæ˜¯å·²ç»æ’åºçš„ï¼›</li><li>å–å‡ºä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œåœ¨å·²æ’åºçš„å…ƒç´ ä¸­ä»åå‘å‰æ‰«æï¼›</li><li>å¦‚æœè¯¥å…ƒç´ å¤§äºæ–°å…ƒç´ ï¼Œåˆ™å°†è¯¥å…ƒç´ ä¸€é“ä¸‹ä¸€ä½ç½®ï¼›</li><li>ä¸æ–­é‡å¤</li></ol><p><img src="/2021/04/02/2021/åå¤§æ’åº/NO3.gif" alt="NO3" title="NO3"></p><p><em>ä»£ç å®ç°ï¼š</em></p><pre><code>function insertSort(arr) {    let arrLen = arr.length;    let prevIdx, curVal;    for(let i = 1; i &lt; arrLen; i++ ) {        prevIdx = i - 1;        curVal = arr[i];        while(prevIdx &gt;=0 &amp;&amp; arr[prevIdx] &gt; curVal ) {            arr[prevIdx + 1] = arr[prevIdx];            prevIdx--;        }        arr[prevIdx + 1] = curVal;    }    return arr;}</code></pre><p><em>é—®é¢˜ï¼š</em></p><ol><li>æ—¶ç©ºå¤æ‚åº¦ï¼Ÿ</li></ol><table><thead><tr><th>æ–¹æ³•</th><th>æ—¶é—´å¤æ‚åº¦(å¹³å‡)</th><th>æ—¶é—´å¤æ‚åº¦(æœ€å)</th><th>æ—¶é—´å¤æ‚åº¦(æœ€å¥½)</th><th>ç©ºé—´å¤æ‚åº¦</th><th>ç¨³å®šæ€§</th></tr></thead><tbody><tr><td>å†’æ³¡æ’åº</td><td>O(n^2)</td><td>O(n^2)</td><td>O(n)</td><td>O(1)</td><td>ç¨³å®š</td></tr></tbody></table><h4 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h4><p><em>å›¾è§£å½¢è±¡</em><br>ğŸ‘‰ï¼š <a href="https://zhuanlan.zhihu.com/p/350934702" target="_blank" rel="noopener">å¿«é€Ÿæ’åº</a> </p><p><em>ä»£ç å®ç°ï¼š</em></p><pre><code>function quickSort (arr, L, R) {    if(L &gt;= R) {        return;    }    if(!L) L = begin = 0;                           // å·¦æŒ‡é’ˆ    if(!R) R = end = arr.length - 1;                //å³æŒ‡é’ˆ    let temp = arr[L];                              //åŸºå‡†æ•°ï¼Œè¿™é‡Œå–æ•°ç»„ç¬¬ä¸€ä¸ªæ•°    while(L &lt; R) {                                  //å·¦å³æŒ‡é’ˆç›¸é‡çš„æ—¶å€™é€€å‡ºæ‰«æå¾ªç¯        while(L &lt; R &amp;&amp; arr[R] &gt;= temp ) {           //å³æŒ‡é’ˆä»å³å‘å·¦æ‰«æï¼Œç¢°åˆ°ç¬¬ä¸€ä¸ªå°äºåŸºå‡†æ•°çš„æ—¶å€™åœä½            R--;        }        while(L &lt; R &amp;&amp; arr[L] &lt; temp ){             //å·¦æŒ‡é’ˆä»å·¦å‘å³æ‰«æï¼Œç¢°åˆ°ç¬¬ä¸€ä¸ªå¤§äºåŸºå‡†æ•°çš„æ—¶å€™åœä½            L++;        }        [arr[L], arr[R]] = [arr[R], arr[L]];        //äº¤æ¢å·¦å³æŒ‡é’ˆæ‰€åœä½ç½®çš„æ•°    }    [arr[L], arr[begin]] = [arr[begin], arr[L]];    //æœ€åäº¤æ¢åŸºå‡†æ•°ä¸æŒ‡é’ˆç›¸é‡ä½ç½®çš„æ•°    //é€’å½’å¤„ç†å·¦å³æ•°ç»„    quickSort(arr, begin, L - 1);    quickSort(arr, R + 1, end);}</code></pre><p><em>é—®é¢˜ï¼š</em></p><ol><li>æ—¶ç©ºå¤æ‚åº¦ï¼Ÿ</li></ol><table><thead><tr><th>æ–¹æ³•</th><th>æ—¶é—´å¤æ‚åº¦(å¹³å‡)</th><th>æ—¶é—´å¤æ‚åº¦(æœ€å)</th><th>æ—¶é—´å¤æ‚åº¦(æœ€å¥½)</th><th>ç©ºé—´å¤æ‚åº¦</th><th>ç¨³å®šæ€§</th></tr></thead><tbody><tr><td>å†’æ³¡æ’åº</td><td>O(nLog2n)</td><td>O(n^2)</td><td>O(nLog2n)</td><td>O(nLog2n)</td><td>ä¸ç¨³å®š</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSæ‰‹å†™Promise</title>
      <link href="/2021/04/01/2021/JS%E6%89%8B%E5%86%99Promise/"/>
      <url>/2021/04/01/2021/JS%E6%89%8B%E5%86%99Promise/</url>
      
        <content type="html"><![CDATA[<p><em>è½¬è½½è‡³æ˜é‡‘æ–‡ç« ï¼Œæ¨èæŸ¥çœ‹åŸæ–‡</em></p><ol><li>ğŸ‘‰ï¼š<a href="https://juejin.cn/post/6844903625769091079" target="_blank" rel="noopener">BATå‰ç«¯ç»å…¸é¢è¯•é—®é¢˜ï¼šå²ä¸Šæœ€æœ€æœ€è¯¦ç»†çš„æ‰‹å†™Promiseæ•™ç¨‹</a></li><li>ğŸ‘‰ï¼š<a href="https://juejin.cn/post/6945319439772434469" target="_blank" rel="noopener">ä»ä¸€é“è®©æˆ‘å¤±çœ çš„ Promise é¢è¯•é¢˜å¼€å§‹ï¼Œæ·±å…¥åˆ†æ Promise å®ç°ç»†èŠ‚</a></li></ol><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><h4 id="å®šä¹‰Promise"><a href="#å®šä¹‰Promise" class="headerlink" title="å®šä¹‰Promise"></a>å®šä¹‰Promise</h4><p>ä¸€èˆ¬ä½¿ç”¨</p><pre><code>new Promise((resolve, reject) =&gt; {    xxx})</code></pre><p><em>so</em></p><pre><code>class Promise {    constructor(executor) {        executor(this.resolve, this.reject)    }    resolve = () =&gt; {};    reject = () =&gt; {};}</code></pre><a id="more"></a><h4 id="è§£å†³åŸºæœ¬çŠ¶æ€"><a href="#è§£å†³åŸºæœ¬çŠ¶æ€" class="headerlink" title="è§£å†³åŸºæœ¬çŠ¶æ€"></a>è§£å†³åŸºæœ¬çŠ¶æ€</h4><ol><li>pendingï¼Œ fulfilledï¼Œ rejected</li><li>pending -&gt; fulfilled / rejected</li><li>å…¶ä»–ä¸å¯äº’è½¬</li><li>new Promise((resolve, reject) =&gt; {resolve(value)})ï¼ŒresolveæˆåŠŸæ—¶ï¼Œæ¥å—å‚æ•°valueï¼ŒçŠ¶æ€æ”¹ä¸ºfulfilledï¼Œä¸”ä¸å¯å˜ã€‚</li><li>new Promise((resolve, reject) =&gt; {reject(reason)})ï¼Œrejectå¤±è´¥æ—¶ï¼Œæ¥æ”¶reasonï¼ŒçŠ¶æ€ä¸ºrejectedï¼Œä¸”ä¸å¯å†å˜ã€‚</li><li>è‹¥executoræŠ¥é”™ï¼Œåˆ™ç›´æ¥rejectedã€‚</li></ol><p><em>so</em></p><pre><code>const PENDING = &#39;pending&#39;;const FULFILLED = &#39;fulfilled&#39;;const REJECTED = &#39;rejected&#39;;class Promise {    constructor(executor) {        executor(this.resolve, this.reject);    }    state = PENDING    value = undefined; // å­˜å‚¨æˆåŠŸå€¼    reason = null; // å­˜å‚¨å¤±è´¥å€¼    resolve = (value) =&gt; {        // åªæœ‰çŠ¶æ€æ˜¯ç­‰å¾…ï¼Œæ‰æ‰§è¡ŒçŠ¶æ€ä¿®æ”¹        if (this.status === PENDING) {        // çŠ¶æ€ä¿®æ”¹ä¸ºæˆåŠŸ        this.status = FULFILLED;        // ä¿å­˜æˆåŠŸä¹‹åçš„å€¼        this.value = value;        }    }     reject = (reason) =&gt; {        // åªæœ‰çŠ¶æ€æ˜¯ç­‰å¾…ï¼Œæ‰æ‰§è¡ŒçŠ¶æ€ä¿®æ”¹        if (this.status === PENDING) {        // çŠ¶æ€æˆåŠŸä¸ºå¤±è´¥        this.status = REJECTED;        // ä¿å­˜å¤±è´¥åçš„åŸå›         this.reason = reason;        }    }}</code></pre><h4 id="then"><a href="#then" class="headerlink" title="then"></a>then</h4><ol><li>Promiseæœ‰ä¸€ä¸ªthenï¼Œé‡Œé¢æœ‰ä¸¤ä¸ªå‚æ•°ï¼ŒonFulfilledï¼ŒonRejectedï¼›</li><li>å½“stateä¸ºfulfilledï¼Œåˆ™æ‰§è¡ŒonFulfilledï¼Œå¹¶ä¼ å…¥this.valueï¼›</li><li>å½“stateä¸ºrejectedï¼Œåˆ™æ‰§è¡ŒonRejectedï¼Œå¹¶ä¼ å…¥this.reasonã€‚</li></ol><pre><code>class Promise{     constructor(executor) {        ...    }    then(onFulfilled, onRejected) {        if(this.state === &#39;fulfilled&#39;) {            onFulfilled(this.value); // ä¼ å…¥ï¼Œå¹¶æ‰§è¡ŒonFulfilled        }        if(this.state === &#39;rejected&#39;) {            onRejected(this.reason); // ä¼ å…¥ï¼Œå¹¶æ‰§è¡ŒonRejected        }    }}</code></pre><h4 id="æš´éœ²Promise"><a href="#æš´éœ²Promise" class="headerlink" title="æš´éœ²Promise"></a>æš´éœ²Promise</h4><pre><code>module.export = Promise;</code></pre><h2 id="åŠ å…¥å¼‚æ­¥"><a href="#åŠ å…¥å¼‚æ­¥" class="headerlink" title="åŠ å…¥å¼‚æ­¥"></a>åŠ å…¥å¼‚æ­¥</h2><h4 id="ç¼“å­˜æˆåŠŸå¤±è´¥å›è°ƒ"><a href="#ç¼“å­˜æˆåŠŸå¤±è´¥å›è°ƒ" class="headerlink" title="ç¼“å­˜æˆåŠŸå¤±è´¥å›è°ƒ"></a>ç¼“å­˜æˆåŠŸå¤±è´¥å›è°ƒ</h4><p>onFulfilledCallback = null;<br>onRejectedCallback = null;</p><h4 id="thenä¸­å¢åŠ PENDINGçš„å¤„ç†"><a href="#thenä¸­å¢åŠ PENDINGçš„å¤„ç†" class="headerlink" title="thenä¸­å¢åŠ PENDINGçš„å¤„ç†"></a>thenä¸­å¢åŠ PENDINGçš„å¤„ç†</h4><pre><code>then(onFulfilled, onRejected) {    if(this.state === FULFILLED) {        onFulfilled(this.value); // ä¼ å…¥ï¼Œå¹¶æ‰§è¡ŒonFulfilled    }    if(this.state === REJECTED) {        onRejected(this.reason); // ä¼ å…¥ï¼Œå¹¶æ‰§è¡ŒonRejected    }    if(this.state === PENDING) {        // å…ˆç¼“å­˜ï¼Œç­‰ç­‰åç»­çŠ¶æ€å˜åŒ–åæ‰§è¡Œ        this.onFulfilledCallback = onFulfilled;        this.onRejectedCallback  = onRejected;    }}</code></pre><h4 id="resolve-rejectè°ƒç”¨å›è°ƒ"><a href="#resolve-rejectè°ƒç”¨å›è°ƒ" class="headerlink" title="resolve\rejectè°ƒç”¨å›è°ƒ"></a>resolve\rejectè°ƒç”¨å›è°ƒ</h4><pre><code>resolve = value =&gt; {    if(this.state === PENDING) {        this.state = FULFILLED;        this.value = value;        this.onFulfilledCallback &amp;&amp; this.onFulfilledCallback(this.value)    }}reject = reason =&gt; {    if(this.state === PENDING) {        this.reason =reason;        this.state = REJECTED;        this.onRejectedCallback &amp;&amp; this.onFulfilledCallback(this.reason)    }}</code></pre><h2 id="thenå›è°ƒ"><a href="#thenå›è°ƒ" class="headerlink" title="thenå›è°ƒ"></a>thenå›è°ƒ</h2><p>å¤šä¸ªthenå›è°ƒçš„è¯ï¼Œéœ€è¦ä¿å­˜ä¸åŒçš„å€¼ï¼Œå› ä¸ºäº’ä¸ç›¸åŒã€‚</p><ol><li><p>Promiseä¸­å›è°ƒå¤„ç†ä¸ºæ•°ç»„ã€‚</p><pre><code>onFulfilledCallbacks = [];onnRejectedCallbacks = [];</code></pre></li><li><p>å›è°ƒå‡½æ•°å­˜å…¥æ•°ç»„<br><code>`</code><br>then(onFulfilled, onRejected) {</p><p> if(this.status === FULFILLED){</p><pre><code> onFulfilled(this.value);</code></pre><p> } else if (this.status === REJECTED) {</p><pre><code> onRejected(this.reason);</code></pre><p> } else if (this.status === PENDING) {</p><pre><code> this.onFulfilledCallbacks.push(onFulfilled); this.onRejectedCallbacks.push(onRejected);</code></pre><p> }<br>}</p></li></ol><pre><code></code></pre><p>resolve = (value) =&gt; {<br>     if (this.status === PENDING) {<br>         this.status = FULFILLED;<br>         this.value = value;<br>         // resolveé‡Œé¢å°†æ‰€æœ‰æˆåŠŸçš„å›è°ƒæ‹¿å‡ºæ¥æ‰§è¡Œ<br>         while (this.onFulfilledCallbacks.length) {<br>             // Array.shift() å–å‡ºæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åï¼ˆï¼‰è°ƒç”¨ï¼Œshiftä¸æ˜¯çº¯å‡½æ•°ï¼Œå–å‡ºåï¼Œæ•°ç»„å°†å¤±å»è¯¥å…ƒç´ ï¼Œç›´åˆ°æ•°ç»„ä¸ºç©º<br>             this.onFulfilledCallbacks.shift()(value)<br>        }<br>    }<br>}</p><pre><code></code></pre><p>reject = reason =&gt; {<br>    if(this.status === PENDING) {<br>        this.status = REJECTED;<br>        this.reason = reason;<br>        while(this.onRejectedCallbacks.length) {<br>            this.onRejectedCallbacks.shift()(reason);<br>        }<br>    }<br>}</p><pre><code>*soï¼Œæˆªè‡³ç›®å‰æˆ‘ä»¬çš„Promiseæ˜¯è¿™æ ·çš„*</code></pre><p>const PENDING = â€˜pendingâ€™;<br>const FULFILLED = â€˜fulfilledâ€™;<br>const REJECTED = â€˜rejectedâ€™;<br>onFulfilledCallbacks = [];<br>onnRejectedCallbacks = [];<br>class Promise {<br>    constructor(executor) {<br>        executor(this.resolve, this.reject);<br>    }</p><pre><code>state = PENDINGvalue = undefined; // å­˜å‚¨æˆåŠŸå€¼reason = null; // å­˜å‚¨å¤±è´¥å€¼resolve = (value) =&gt; {          if (this.status === PENDING) {                  this.status = FULFILLED;                   this.value = value;                 // resolveé‡Œé¢å°†æ‰€æœ‰æˆåŠŸçš„å›è°ƒæ‹¿å‡ºæ¥æ‰§è¡Œ              while (this.onFulfilledCallbacks.length) {                    // Array.shift() å–å‡ºæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åï¼ˆï¼‰è°ƒç”¨ï¼Œshiftä¸æ˜¯çº¯å‡½æ•°ï¼Œå–å‡ºåï¼Œæ•°ç»„å°†å¤±å»è¯¥å…ƒç´ ï¼Œç›´åˆ°æ•°ç»„ä¸ºç©º                    this.onFulfilledCallbacks.shift()(value)            }       } }reject = reason =&gt; {    if(this.status === PENDING) {        this.status = REJECTED;        this.reason = reason;        while(this.onRejectedCallbacks.length) {            this.onRejectedCallbacks.shift()(reason);        }    }}then(onFulfilled, onRejected) {    if(this.status === FULFILLED){        onFulfilled(this.value);    } else if (this.status === REJECTED) {        onRejected(this.reason);    } else if (this.status === PENDING) {        this.onFulfilledCallbacks.push(onFulfilled);        this.onRejectedCallbacks.push(onRejected);    }}</code></pre><p>}<br>module.export = Promise;</p><pre><code>#### thençš„é“¾å¼è°ƒç”¨å¦‚ä½•å®ç°thençš„é“¾å¼è°ƒç”¨å‘¢ï¼Ÿåœ¨thené‡Œé¢è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡å—</code></pre><p>class Promise() {<br>    // â€¦<br>    then(onFulfilled, onRejected) {<br>        const promise2 = new Promise((resolve, reject) =&gt; {<br>            if(this.status === PENDING ) {<br>                this.onFulfilledCallbacks.push(onFulfilled);<br>                this.onRejectedCallbacks.push(onRejected);<br>            } else if (this.status === REJECTED) {<br>                onRejected(this.reason);<br>            } else if (this.status === FULFILLED) {<br>                const x = onFulfilled(this.value);<br>                resolvePromise(x, resolve, reject);<br>            }<br>        });<br>        return promise2;<br>    }<br>}</p><p>function resolvePromise(x, resolve, reject) {<br>    // åˆ¤æ–­æ˜¯ä¸æ˜¯Promiseçš„å®ä¾‹<br>    if(x instanceof Promise) {<br>        // æ˜¯çš„è¯ï¼Œæ‰§è¡Œthen<br>        x.then(resolve, reject)<br>    } else {<br>        // å¦åˆ™resolve<br>        resolve(x);<br>    }<br>}</p><pre><code>å¦‚æœxæ˜¯è‡ªå·±çš„è¯ï¼Œåˆ™åº”è¯¥æœ‰é”™è¯¯å¤„ç†</code></pre><p>class Promise {<br>  â€¦â€¦<br>  then(onFulfilled, onRejected) {<br>    const promise2 = new MyPromise((resolve, reject) =&gt; {<br>      if (this.status === FULFILLED) {<br>        // åˆ›å»ºä¸€ä¸ªå¾®ä»»åŠ¡ç­‰å¾… promise2 å®Œæˆåˆå§‹åŒ–<br>        queueMicrotask(() =&gt; {<br>            const x = onFulfilled(this.value);<br>            resolvePromise(promise2, x, resolve, reject);<br>        })<br>      } else if (this.status === REJECTED) {<br>      â€¦â€¦<br>    }) </p><pre><code>return promise2;</code></pre><p>  }<br>}</p><p>function resolvePromise(promise2, x, resolve, reject) {<br>    if(promise2 === x) {<br>        return reject(â€˜â€¦â€™)<br>    }<br>    //â€¦<br>}</p><pre><code>## é”™è¯¯æ•è·tryï¼Œcatchå°±å¯ä»¥äº†#### æ•è·æ‰§è¡Œå™¨é”™è¯¯</code></pre><p>constructor(executor) {<br>    try{<br>        executor(this.resolve, this.reject);<br>    } catch(e) {<br>        this.reject(e)<br>    }<br>}</p><pre><code>#### thenæ‰§è¡Œé”™è¯¯</code></pre><p>then(onFulfilled, onRejected) {<br>    const proimise2 = new Promise((resolve, reject) =&gt; {<br>        if(this.status === PENDING) {<br>            this.onFulfilledCallbacks.push(onFulfilled)<br>            this.onRejectedCallbacks.push(onRejected)<br>        } else if (this.status === REJECTED) {<br>            onRejected(this.reason);<br>        } else if (this.status === FULFILLED) {<br>            queueMicrotask(() =&gt; {<br>                // å¢åŠ  try å¤„ç†<br>                try {<br>                    const x = onFulfilled(this.value);<br>                    resolvePromise(promise2, x, resolve, reject);<br>                } catch(e) {<br>                    reject(e);<br>                }<br>            })<br>        }<br>    });<br>    return promise2;<br>}</p><pre><code>æ•´ç†ä¸€ä¸‹ï¼š</code></pre><p>then(onFulfilled, onRejected) {<br>  // ä¸ºäº†é“¾å¼è°ƒç”¨è¿™é‡Œç›´æ¥åˆ›å»ºä¸€ä¸ª MyPromiseï¼Œå¹¶åœ¨åé¢ return å‡ºå»<br>  const promise2 = new Promise((resolve, reject) =&gt; {<br>    // åˆ¤æ–­çŠ¶æ€<br>    if (this.status === FULFILLED) {<br>      // åˆ›å»ºä¸€ä¸ªå¾®ä»»åŠ¡ç­‰å¾… promise2 å®Œæˆåˆå§‹åŒ–<br>      queueMicrotask(() =&gt; {<br>        try {<br>          // è·å–æˆåŠŸå›è°ƒå‡½æ•°çš„æ‰§è¡Œç»“æœ<br>          const x = onFulfilled(this.value);<br>          // ä¼ å…¥ resolvePromise é›†ä¸­å¤„ç†<br>          resolvePromise(promise2, x, resolve, reject);<br>        } catch (error) {<br>          reject(error)<br>        }<br>      })<br>    } else if (this.status === REJECTED) {<br>      // ==== æ–°å¢ ====<br>      // åˆ›å»ºä¸€ä¸ªå¾®ä»»åŠ¡ç­‰å¾… promise2 å®Œæˆåˆå§‹åŒ–<br>      queueMicrotask(() =&gt; {<br>        try {<br>          // è°ƒç”¨å¤±è´¥å›è°ƒï¼Œå¹¶ä¸”æŠŠåŸå› è¿”å›<br>          const x = onRejected(this.reason);<br>          // ä¼ å…¥ resolvePromise é›†ä¸­å¤„ç†<br>          resolvePromise(promise2, x, resolve, reject);<br>        } catch (error) {<br>          reject(error)<br>        }<br>      })<br>    } else if (this.status === PENDING) {<br>      // ç­‰å¾…<br>      // å› ä¸ºä¸çŸ¥é“åé¢çŠ¶æ€çš„å˜åŒ–æƒ…å†µï¼Œæ‰€ä»¥å°†æˆåŠŸå›è°ƒå’Œå¤±è´¥å›è°ƒå­˜å‚¨èµ·æ¥<br>      // ç­‰åˆ°æ‰§è¡ŒæˆåŠŸå¤±è´¥å‡½æ•°çš„æ—¶å€™å†ä¼ é€’<br>      this.onFulfilledCallbacks.push(() =&gt; {<br>        // ==== æ–°å¢ ====<br>        queueMicrotask(() =&gt; {<br>          try {<br>            // è·å–æˆåŠŸå›è°ƒå‡½æ•°çš„æ‰§è¡Œç»“æœ<br>            const x = onFulfilled(this.value);<br>            // ä¼ å…¥ resolvePromise é›†ä¸­å¤„ç†<br>            resolvePromise(promise2, x, resolve, reject);<br>          } catch (error) {<br>            reject(error)<br>          }<br>        })<br>      });<br>      this.onRejectedCallbacks.push(() =&gt; {<br>        // ==== æ–°å¢ ====<br>        queueMicrotask(() =&gt; {<br>          try {<br>            // è°ƒç”¨å¤±è´¥å›è°ƒï¼Œå¹¶ä¸”æŠŠåŸå› è¿”å›<br>            const x = onRejected(this.reason);<br>            // ä¼ å…¥ resolvePromise é›†ä¸­å¤„ç†<br>            resolvePromise(promise2, x, resolve, reject);<br>          } catch (error) {<br>            reject(error)<br>          }<br>        })<br>      });<br>    }<br>  }) </p><p>  return promise2;<br>}</p><pre><code>## å…¶ä½™ä¼˜åŒ–#### å®ç°resolveï¼Œrejectçš„é™æ€è°ƒç”¨Promiseæ”¯æŒå¦‚ä¸‹æ‰§è¡Œï¼š</code></pre><p>Promise.resolve().then(value =&gt; {<br>    xxx<br>});</p><pre><code>å› æ­¤è¿˜éœ€è¦ä¿®æ”¹ä¸€ä¸‹ï¼Œå¢åŠ é™æ€æ–¹æ³•</code></pre><p>static resolve(param) {<br>    if(param instanceof Promise) {<br>        return param;<br>    }<br>    return new Promise(resolve =&gt; {<br>        resolve(param)<br>    })<br>}<br>static reject (reason) {<br>    return new MyPromise((resolve, reject) =&gt; {<br>      reject(reason);<br>    });<br>}</p><pre><code>## æœ€ç»ˆ</code></pre><p>// Promise.js</p><p>// å…ˆå®šä¹‰ä¸‰ä¸ªå¸¸é‡è¡¨ç¤ºçŠ¶æ€<br>const PENDING = â€˜pendingâ€™;<br>const FULFILLED = â€˜fulfilledâ€™;<br>const REJECTED = â€˜rejectedâ€™;</p><p>// æ–°å»º Promise ç±»<br>class Promise {<br>  constructor(executor){<br>    // executor æ˜¯ä¸€ä¸ªæ‰§è¡Œå™¨ï¼Œè¿›å…¥ä¼šç«‹å³æ‰§è¡Œ<br>    // å¹¶ä¼ å…¥resolveå’Œrejectæ–¹æ³•<br>    try {<br>      executor(this.resolve, this.reject)<br>    } catch (error) {<br>      this.reject(error)<br>    }<br>  }</p><p>  // å‚¨å­˜çŠ¶æ€çš„å˜é‡ï¼Œåˆå§‹å€¼æ˜¯ pending<br>  status = PENDING;<br>  // æˆåŠŸä¹‹åçš„å€¼<br>  value = null;<br>  // å¤±è´¥ä¹‹åçš„åŸå› <br>  reason = null;</p><p>  // å­˜å‚¨æˆåŠŸå›è°ƒå‡½æ•°<br>  onFulfilledCallbacks = [];<br>  // å­˜å‚¨å¤±è´¥å›è°ƒå‡½æ•°<br>  onRejectedCallbacks = [];</p><p>  // æ›´æ”¹æˆåŠŸåçš„çŠ¶æ€<br>  resolve = (value) =&gt; {<br>    // åªæœ‰çŠ¶æ€æ˜¯ç­‰å¾…ï¼Œæ‰æ‰§è¡ŒçŠ¶æ€ä¿®æ”¹<br>    if (this.status === PENDING) {<br>      // çŠ¶æ€ä¿®æ”¹ä¸ºæˆåŠŸ<br>      this.status = FULFILLED;<br>      // ä¿å­˜æˆåŠŸä¹‹åçš„å€¼<br>      this.value = value;<br>      // resolveé‡Œé¢å°†æ‰€æœ‰æˆåŠŸçš„å›è°ƒæ‹¿å‡ºæ¥æ‰§è¡Œ<br>      while (this.onFulfilledCallbacks.length) {<br>        // Array.shift() å–å‡ºæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åï¼ˆï¼‰è°ƒç”¨ï¼Œshiftä¸æ˜¯çº¯å‡½æ•°ï¼Œå–å‡ºåï¼Œæ•°ç»„å°†å¤±å»è¯¥å…ƒç´ ï¼Œç›´åˆ°æ•°ç»„ä¸ºç©º<br>        this.onFulfilledCallbacks.shift()(value)<br>      }<br>    }<br>  }</p><p>  // æ›´æ”¹å¤±è´¥åçš„çŠ¶æ€<br>  reject = (reason) =&gt; {<br>    // åªæœ‰çŠ¶æ€æ˜¯ç­‰å¾…ï¼Œæ‰æ‰§è¡ŒçŠ¶æ€ä¿®æ”¹<br>    if (this.status === PENDING) {<br>      // çŠ¶æ€æˆåŠŸä¸ºå¤±è´¥<br>      this.status = REJECTED;<br>      // ä¿å­˜å¤±è´¥åçš„åŸå› <br>      this.reason = reason;<br>      // resolveé‡Œé¢å°†æ‰€æœ‰å¤±è´¥çš„å›è°ƒæ‹¿å‡ºæ¥æ‰§è¡Œ<br>      while (this.onRejectedCallbacks.length) {<br>        this.onRejectedCallbacks.shift()(reason)<br>      }<br>    }<br>  }</p><p>  then(onFulfilled, onRejected) {<br>    const realOnFulfilled = typeof onFulfilled === â€˜functionâ€™ ? onFulfilled : value =&gt; value;<br>    const realOnRejected = typeof onRejected === â€˜functionâ€™ ? onRejected : reason =&gt; {throw reason};</p><pre><code>// ä¸ºäº†é“¾å¼è°ƒç”¨è¿™é‡Œç›´æ¥åˆ›å»ºä¸€ä¸ª MyPromiseï¼Œå¹¶åœ¨åé¢ return å‡ºå»const promise2 = new Promise((resolve, reject) =&gt; {  const fulfilledMicrotask = () =&gt;  {    // åˆ›å»ºä¸€ä¸ªå¾®ä»»åŠ¡ç­‰å¾… promise2 å®Œæˆåˆå§‹åŒ–    queueMicrotask(() =&gt; {      try {        // è·å–æˆåŠŸå›è°ƒå‡½æ•°çš„æ‰§è¡Œç»“æœ        const x = realOnFulfilled(this.value);        // ä¼ å…¥ resolvePromise é›†ä¸­å¤„ç†        resolvePromise(promise2, x, resolve, reject);      } catch (error) {        reject(error)      }     })    }  const rejectedMicrotask = () =&gt; {     // åˆ›å»ºä¸€ä¸ªå¾®ä»»åŠ¡ç­‰å¾… promise2 å®Œæˆåˆå§‹åŒ–    queueMicrotask(() =&gt; {      try {        // è°ƒç”¨å¤±è´¥å›è°ƒï¼Œå¹¶ä¸”æŠŠåŸå› è¿”å›        const x = realOnRejected(this.reason);        // ä¼ å…¥ resolvePromise é›†ä¸­å¤„ç†        resolvePromise(promise2, x, resolve, reject);      } catch (error) {        reject(error)      }     })   }  // åˆ¤æ–­çŠ¶æ€  if (this.status === FULFILLED) {    fulfilledMicrotask()   } else if (this.status === REJECTED) {     rejectedMicrotask()  } else if (this.status === PENDING) {    // ç­‰å¾…    // å› ä¸ºä¸çŸ¥é“åé¢çŠ¶æ€çš„å˜åŒ–æƒ…å†µï¼Œæ‰€ä»¥å°†æˆåŠŸå›è°ƒå’Œå¤±è´¥å›è°ƒå­˜å‚¨èµ·æ¥    // ç­‰åˆ°æ‰§è¡ŒæˆåŠŸå¤±è´¥å‡½æ•°çš„æ—¶å€™å†ä¼ é€’    this.onFulfilledCallbacks.push(fulfilledMicrotask);    this.onRejectedCallbacks.push(rejectedMicrotask);  }}) return promise2;</code></pre><p>  }</p><p>  // resolve é™æ€æ–¹æ³•<br>  static resolve (parameter) {<br>    // å¦‚æœä¼ å…¥ Promise å°±ç›´æ¥è¿”å›<br>    if (parameter instanceof Promise) {<br>      return parameter;<br>    }</p><pre><code>// è½¬æˆå¸¸è§„æ–¹å¼return new Promise(resolve =&gt;  {  resolve(parameter);});</code></pre><p>  }</p><p>  // reject é™æ€æ–¹æ³•<br>  static reject (reason) {<br>    return new Promise((resolve, reject) =&gt; {<br>      reject(reason);<br>    });<br>  }<br>}</p><p>function resolvePromise(promise2, x, resolve, reject) {<br>  // å¦‚æœç›¸ç­‰äº†ï¼Œè¯´æ˜returnçš„æ˜¯è‡ªå·±ï¼ŒæŠ›å‡ºç±»å‹é”™è¯¯å¹¶è¿”å›<br>  if (promise2 === x) {<br>    return reject(new TypeError(â€˜Chaining cycle detected for promise #<promise>â€˜))<br>  }<br>  // åˆ¤æ–­xæ˜¯ä¸æ˜¯ Promise å®ä¾‹å¯¹è±¡<br>  if(x instanceof Promise) {<br>    // æ‰§è¡Œ xï¼Œè°ƒç”¨ then æ–¹æ³•ï¼Œç›®çš„æ˜¯å°†å…¶çŠ¶æ€å˜ä¸º fulfilled æˆ–è€… rejected<br>    // x.then(value =&gt; resolve(value), reason =&gt; reject(reason))<br>    // ç®€åŒ–ä¹‹å<br>    x.then(resolve, reject)<br>  } else{<br>    // æ™®é€šå€¼<br>    resolve(x)<br>  }<br>}</promise></p><p>module.exports = Promise;</p><p><code>`</code></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> è½¬è½½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>column-countæè¿°å…ƒç´ çš„åˆ—æ•°</title>
      <link href="/2021/03/01/2021/column-count%E6%8F%8F%E8%BF%B0%E5%85%83%E7%B4%A0%E7%9A%84%E5%88%97%E6%95%B0/"/>
      <url>/2021/03/01/2021/column-count%E6%8F%8F%E8%BF%B0%E5%85%83%E7%B4%A0%E7%9A%84%E5%88%97%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/column-count" target="_blank" rel="noopener">column-count</a><br>å°†å…ƒç´ åˆ’åˆ†å‡ åˆ—</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTPç¼“å­˜</title>
      <link href="/2021/02/26/2021/HTTP%E7%BC%93%E5%AD%98/"/>
      <url>/2021/02/26/2021/HTTP%E7%BC%93%E5%AD%98/</url>
      
        <content type="html"><![CDATA[<h3 id="HTTPç¼“å­˜"><a href="#HTTPç¼“å­˜" class="headerlink" title="HTTPç¼“å­˜"></a>HTTPç¼“å­˜</h3><p>Httpç¼“å­˜çš„ä¸»è¦ä¸‰ä¸ªè§’è‰²ï¼šæµè§ˆå™¨ã€æµè§ˆå™¨ç¼“å­˜æ•°æ®åº“ã€æœåŠ¡å™¨ï¼›</p><p>ç¼“å­˜ç±»å‹ï¼š<code>å¼ºç¼“å­˜</code>ã€<code>åå•†ç¼“å­˜</code>ã€‚</p><a id="more"></a><h3 id="å¼ºåˆ¶ç¼“å­˜"><a href="#å¼ºåˆ¶ç¼“å­˜" class="headerlink" title="å¼ºåˆ¶ç¼“å­˜"></a>å¼ºåˆ¶ç¼“å­˜</h3><p>ä¸¤ä¸ªè§„åˆ™å­—æ®µï¼ŒåŸºæœ¬åŸç†ï¼šæ‰€è¯·æ±‚çš„æ•°æ®åœ¨ç¼“å­˜æ•°æ®åº“ä¸­å°šæœªè¿‡æœŸæ—¶ï¼Œä¸ä¸æœåŠ¡å™¨è¿›è¡Œäº¤äº’ï¼Œç›´æ¥ä½¿ç”¨ç¼“å­˜æ•°æ®åº“ä¸­çš„æ•°æ®ã€‚</p><p>å½“ç¼“å­˜æœªè¿‡æœŸæ—¶åŸºæœ¬æµç¨‹å¦‚ä¸‹</p><ol><li>Expire(http1.0å­—æ®µ)</li><li>Cache-Control(é€šç”¨æ¶ˆæ¯å¤´ï¼Œé€šè¿‡æŒ‡å®šæŒ‡ä»¤å®ç°ç¼“å­˜æœºåˆ¶)<ul><li>privateï¼šå®¢æˆ·ç«¯å¯ä»¥ç¼“å­˜ï¼›</li><li>publicï¼šå®¢æˆ·ç«¯å’Œä»£ç†æœåŠ¡å™¨éƒ½å¯ä»¥ç¼“å­˜ï¼›</li><li>max-age=xxxï¼šç¼“å­˜å†…å®¹å°†åœ¨XXXç§’åå¤±æ•ˆï¼›</li><li>s-max-age=xxxï¼šä»…é€‚ç”¨å…±äº«ç¼“å­˜ï¼Œå¹¶ä¸”ç§æœ‰ç¼“å­˜ä¸­å¿½ç•¥ï¼›</li><li>no-cacheï¼šéœ€è¦ä½¿ç”¨åå•†ç¼“å­˜æ¥éªŒè¯ç¼“å­˜æ•°æ®ï¼›</li><li>no-storeï¼šæ‰€æœ‰å†…å®¹éƒ½ä¸ç¼“å­˜ï¼Œå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜éƒ½ä¸ç”Ÿæ•ˆï¼›</li><li>must-revalidateï¼šç¼“å­˜å¿…é¡»åœ¨ä½¿ç”¨ä¹‹å‰éªŒè¯æ—§èµ„æºçš„çŠ¶æ€ï¼Œå¹¶ä¸”ä¸å¯ä½¿ç”¨è¿‡æœŸèµ„æºã€‚</li></ul></li></ol><h3 id="åå•†ç¼“å­˜"><a href="#åå•†ç¼“å­˜" class="headerlink" title="åå•†ç¼“å­˜"></a>åå•†ç¼“å­˜</h3><p>åŸºæœ¬åŸç†ï¼š</p><ol><li>æµè§ˆå™¨ç¬¬ä¸€æ¬¡è¯·æ±‚æ•°æ®æ—¶ï¼ŒæœåŠ¡å™¨ä¼šå°†ç¼“å­˜æ ‡è¯†ä¸æ•°æ®ä¸€èµ·è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å°†ä¸¤è€…å¤‡ä»½è‡³ç¼“å­˜æ•°æ®åº“ä¸­ï¼›</li><li>å†æ¬¡è¯·æ±‚æ•°æ®æ—¶ï¼Œå®¢æˆ·ç«¯å°†å¤‡ä»½çš„ç¼“å­˜æ ‡è¯†å‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ ¹æ®ç¼“å­˜æ ‡è¯†è¿›è¡Œåˆ¤æ–­ï¼Œåˆ¤æ–­æˆåŠŸè¿”å›304çŠ¶æ€ç ï¼Œé€šçŸ¥å®¢æˆ·ç«¯ä½¿ç”¨ç¼“å­˜æ•°æ®ã€‚</li></ol><p><em>è§„åˆ™å­—æ®µï¼š</em></p><ol><li>Last-Modified</li></ol><ul><li>æœåŠ¡å™¨åœ¨å“åº”è¯·æ±‚æ—¶ï¼Œå‘Šè¯‰æµè§ˆå™¨çš„æœ€åä¿®æ”¹æ—¶é—´ã€‚</li></ul><ol start="2"><li>If-Modified-Sinceè§„åˆ™ï¼š</li></ol><ul><li>å†æ¬¡è¯·æ±‚æœåŠ¡å™¨æ—¶ï¼Œé€šè¿‡æ­¤å­—æ®µé€šçŸ¥æœåŠ¡å™¨ä¸Šæ¬¡è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨è¿”å›çš„èµ„æºæœ€åä¿®æ”¹æ—¶é—´ã€‚</li><li>æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åå‘ç°æœ‰å¤´If-Modified-Since åˆ™ä¸è¢«è¯·æ±‚èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´è¿›è¡Œæ¯”å¯¹ã€‚</li><li>è‹¥èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´å¤§äºIf-Modified-Sinceï¼Œè¯´æ˜èµ„æºåˆè¢«æ”¹åŠ¨è¿‡ï¼Œåˆ™å“åº”æ•´ç‰‡èµ„æºå†…å®¹ï¼Œè¿”å›çŠ¶æ€ç 200ï¼›</li><li>è‹¥èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´å°äºæˆ–ç­‰äºIf-Modified-Sinceï¼Œè¯´æ˜èµ„æºæ— æ–°ä¿®æ”¹ï¼Œåˆ™å“åº”HTTP 304ï¼Œå‘ŠçŸ¥æµè§ˆå™¨ç»§ç»­ä½¿ç”¨æ‰€ä¿å­˜çš„cacheã€‚</li></ul><p><em>ä»¥ä¸‹ä¼˜å…ˆçº§é«˜äºä¸Šé¢ä¸¤è€…ï¼</em></p><ol><li>Etagï¼š</li></ol><ul><li>æœåŠ¡å™¨èµ„æºçš„å”¯ä¸€æ ‡è¯†ç¬¦, æµè§ˆå™¨å¯ä»¥æ ¹æ®ETagå€¼ç¼“å­˜æ•°æ®, èŠ‚çœå¸¦å®½. å¦‚æœèµ„æºå·²ç»æ”¹å˜, etagå¯ä»¥å¸®åŠ©é˜²æ­¢åŒæ­¥æ›´æ–°èµ„æºçš„ç›¸äº’è¦†ç›–. ETag ä¼˜å…ˆçº§æ¯” Last-Modified é«˜.</li></ul><ol start="2"><li>If-None-Match</li></ol><ul><li>å†æ¬¡è¯·æ±‚æœåŠ¡å™¨æ—¶ï¼Œé€šè¿‡æ­¤å­—æ®µé€šçŸ¥æœåŠ¡å™¨å®¢æˆ·æ®µç¼“å­˜æ•°æ®çš„å”¯ä¸€æ ‡è¯†ã€‚</li><li>æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åå‘ç°æœ‰å¤´If-None-Match åˆ™ä¸è¢«è¯·æ±‚èµ„æºçš„å”¯ä¸€æ ‡è¯†è¿›è¡Œæ¯”å¯¹ï¼Œ</li><li>ä¸åŒï¼Œè¯´æ˜èµ„æºåˆè¢«æ”¹åŠ¨è¿‡ï¼Œåˆ™å“åº”æ•´ç‰‡èµ„æºå†…å®¹ï¼Œè¿”å›çŠ¶æ€ç 200ï¼›</li><li>ç›¸åŒï¼Œè¯´æ˜èµ„æºæ— æ–°ä¿®æ”¹ï¼Œåˆ™å“åº”HTTP 304ï¼Œå‘ŠçŸ¥æµè§ˆå™¨ç»§ç»­ä½¿ç”¨æ‰€ä¿å­˜çš„cacheã€‚</li></ul><p><img src="/2021/02/26/2021/HTTPç¼“å­˜/NO1.png" alt="NO1" title="NO1"></p><h3 id="Qï¼Ÿ"><a href="#Qï¼Ÿ" class="headerlink" title="Qï¼Ÿ"></a>Qï¼Ÿ</h3><ul><li>å“ªäº›ä¸èƒ½ç¼“å­˜ï¼Ÿ<ol><li>ä¸èƒ½è¢«ç¼“å­˜çš„è¯·æ±‚HTTP ä¿¡æ¯å¤´ä¸­åŒ…å«Cache-Control:no-cacheï¼Œpragma:no-cacheï¼Œæˆ–Cache-Control:max-age=0 ç­‰å‘Šè¯‰æµè§ˆå™¨ä¸ç”¨ç¼“å­˜çš„è¯·æ±‚</li><li>éœ€è¦æ ¹æ®Cookieï¼Œè®¤è¯ä¿¡æ¯ç­‰å†³å®šè¾“å…¥å†…å®¹çš„åŠ¨æ€è¯·æ±‚æ˜¯ä¸èƒ½è¢«ç¼“å­˜çš„</li><li>ç»è¿‡HTTPSå®‰å…¨åŠ å¯†çš„è¯·æ±‚ï¼ˆæœ‰äººä¹Ÿç»è¿‡æµ‹è¯•å‘ç°ï¼Œie å…¶å®åœ¨å¤´éƒ¨åŠ å…¥ Cache-Controlï¼šmax-age ä¿¡æ¯ï¼Œfirefox åœ¨å¤´éƒ¨åŠ å…¥ Cache-Control:Public ä¹‹åï¼Œèƒ½å¤Ÿå¯¹HTTPSçš„èµ„æºè¿›è¡Œç¼“å­˜ï¼‰</li><li>HTTP å“åº”å¤´ä¸­ä¸åŒ…å« Last-Modified/Etagï¼Œä¹Ÿä¸åŒ…å« Cache-Control/Expires çš„è¯·æ±‚æ— æ³•è¢«ç¼“å­˜</li><li>ç›®å‰æµè§ˆå™¨çš„å®ç°æ˜¯ä¸ä¼šå¯¹POSTè¯·æ±‚çš„å“åº”åšç¼“å­˜çš„ï¼ˆä»è¯­ä¹‰ä¸Šæ¥è¯´ä¹Ÿä¸åº”è¯¥ï¼‰ï¼Œå¹¶ä¸”è§„èŒƒä¸­ä¹Ÿè§„å®šäº†è¿”å›çŠ¶æ€ç ä¸å…è®¸æ˜¯304ã€‚ä¸è¿‡è¿™å¹¶ä¸è¡¨ç¤ºPOSTçš„å“åº”ä¸èƒ½è¢«ç¼“å­˜ï¼Œæ ¹æ®RFC 7231 - Hypertext Transfer Protocol (HTTP/1.1): Semantics and Contentä¸­æè¿°çš„ï¼Œå¦‚æœåœ¨POSTè¯·æ±‚å¯¹åº”çš„å“åº”ä¸­åŒ…å«Freshnessç›¸å…³ä¿¡æ¯çš„è¯ï¼Œè¿™æ¬¡å“åº”ä¹Ÿæ˜¯å¯ä»¥è¢«ç¼“å­˜ï¼Œå…·ä½“å¯ä»¥å‚è€ƒä¸Šé¢çš„é‚£ä¸ªé“¾æ¥</li></ol></li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TCPä¸UDPçš„åŒºåˆ«</title>
      <link href="/2021/02/21/2021/TCP%E4%B8%8EUDP%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
      <url>/2021/02/21/2021/TCP%E4%B8%8EUDP%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<h4 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h4><p>TCPï¼ˆTransmission Control Protocolï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼‰æ˜¯é¢å‘è¿æ¥çš„åè®®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ”¶å‘æ•°æ®å‰ï¼Œå¿…é¡»å’Œå¯¹æ–¹å»ºç«‹å¯é çš„è¿æ¥ã€‚<br>ä¸€ä¸ªTCPè¿æ¥å¿…é¡»è¦ç»è¿‡ä¸‰æ¬¡â€œå¯¹è¯â€æ‰èƒ½å»ºç«‹èµ·æ¥ï¼Œå…¶ä¸­çš„è¿‡ç¨‹éå¸¸å¤æ‚ï¼Œ åªç®€å•çš„æè¿°ä¸‹è¿™ä¸‰æ¬¡å¯¹è¯çš„ç®€å•è¿‡ç¨‹ï¼š</p><p>ğŸ‘‰ï¼š <a href="/2020/07/09/2020/ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹">ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹å¤ä¹ </a> </p><a id="more"></a><h4 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h4><ol><li>UDPæ˜¯ä¸€ä¸ªéè¿æ¥çš„åè®®ï¼Œä¼ è¾“æ•°æ®ä¹‹å‰æºå¤´ä¸ç»ˆç«¯ä¸å»ºç«‹è¿æ¥ï¼Œå½“å®ƒæƒ³ä¼ é€æ—¶å°±ç®€å•çš„æŠ“å–æ¥è‡ªåº”ç”¨çš„ç¨‹åºçš„æ•°æ®ï¼Œå¹¶å°½å¯èƒ½å¿«çš„æ‰”å‘ç½‘ç»œï¼›</li><li>åœ¨å‘é€ç«¯ï¼ŒUDPä¼ é€æ•°æ®çš„é€Ÿåº¦ä»…ä»…æ˜¯å—ç¨‹åºç”Ÿæˆæ•°æ®çš„é€Ÿåº¦ï¼Œè®¡ç®—æœºèƒ½åŠ›åŠå¸¦å®½çš„é™åˆ¶ï¼Œåœ¨æ¥æ”¶ç«¯ï¼ŒUDPå°†æ¶ˆæ¯æ”¾åœ¨é˜Ÿåˆ—ä¸­ï¼Œå¹¶æ¯æ¬¡ä»é˜Ÿåˆ—ä¸­è¯»ä¸€ä¸ªæ¶ˆæ¯æ®µï¼›</li><li>UDPä¿¡æ¯åŒ…æ ‡é¢˜å¾ˆçŸ­ï¼Œåªæœ‰8ä¸ªå­—èŠ‚ï¼Œç›¸å¯¹äºTCPçš„20ä¸ªå­—èŠ‚ï¼Œå¼€é”€å°ï¼›</li><li>UDPå°½æœ€å¤§åŠªåŠ›äº¤ä»˜ï¼Œä¸ä¿è¯å¯é äº¤ä»˜ï¼Œå› æ­¤ä¸»æœºä¸éœ€è¦ç»´æŒå¤åˆ¶çš„è¿æ¥çŠ¶æ€ï¼›</li><li>UDPé¢å‘æŠ¥æ–‡ï¼Œå‘é€æ–¹çš„åº”ç”¨ç¨‹åºäº¤ä¸‹æ¥çš„æŠ¥æ–‡ï¼Œæ·»åŠ é¦–éƒ¨åå°±äº¤ä»˜ç»™IPå±‚ï¼Œä¸æ‹†åˆ†ä¹Ÿä¸åˆå¹¶ã€‚</li></ol><p><em>æˆ‘ä»¬æ—¶å¸¸ä½¿ç”¨ï¼špingå‘½ä»¤ï¼Œå°±æ˜¯å‘å¯¹æ–¹å‘é€UDPæ•°æ®åŒ…ï¼Œç„¶åç¡®è®¤å¯¹æ–¹æ˜¯å¦æ¥æ”¶åˆ°æ•°æ®åŒ…ï¼Œæ¥ç¡®è®¤ç½‘ç»œæ˜¯å¦è”é€šã€‚</em></p><h4 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h4><ol><li>TCPæ˜¯åŸºäºè¿æ¥çš„ï¼Œè€ŒUDPåˆ™æ˜¯æ— è¿æ¥çš„ã€‚</li><li>å¯¹ç³»ç»Ÿèµ„æºçš„è¦æ±‚ï¼ŒTCPè¾ƒå¤šï¼ŒUDPè¾ƒå°‘ã€‚</li><li>UDPç¨‹åºç®€å•ã€‚</li><li>TCPä¿è¯æ•°æ®æ­£ç¡®å®šï¼ŒUDPå¯èƒ½ä¸¢åŒ…ã€‚</li><li>TCPä¿è¯æ•°æ®é¡ºåºï¼ŒUDPä¸ä¿è¯ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP </tag>
            
            <tag> Web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSä¸stylusä¸CSSVarçš„ç›¸äº’ä½œç”¨</title>
      <link href="/2021/01/08/2021/JS%E4%B8%8Estylus%E4%B8%8ECSSVar%E7%9A%84%E7%9B%B8%E4%BA%92%E4%BD%9C%E7%94%A8/"/>
      <url>/2021/01/08/2021/JS%E4%B8%8Estylus%E4%B8%8ECSSVar%E7%9A%84%E7%9B%B8%E4%BA%92%E4%BD%9C%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<p>åœºæ™¯æ˜¯è¿™æ ·çš„ï¼š<br>ä½¿ç”¨stylusç»™æ‰€æœ‰çš„stylusæ–‡ä»¶æ··å…¥ä¸€ä¸ªâ€æ˜¯å¦é€‚é…â€çš„å˜é‡ï¼Œ<br>ä»è€Œè¾¾åˆ°æ”¹å˜è¿™ä¸ªCSSå˜é‡ï¼ŒåŒæ—¶å¯ä»¥å½±å“JSä¸­çš„remè®¾å®šï¼Œä»¥åŠSylusçš„å“åº”ã€‚</p><p><em>stylusVariableMixin.styl</em></p><pre><code>$mediaVersion = false;</code></pre><a id="more"></a><p>è€Œæœ¬èº«åœ¨JSä¸­éœ€è¦è®¾ç½®font-size<br><em>mixin.ts</em></p><pre><code>/** èœå•å®šä¹‰ç­‰åº”ç”¨ä¼šè®¾ç½®font-size,æ•…éœ€è¦é‡ç½®ä¸€ä¸‹,ä¸èƒ½åœ¨ç›®å½•ç›´æ¥ä¸€æ¬¡è®¾ç½® */import { Vue, Component, Watch } from &#39;vue-property-decorator&#39;;@Componentexport default class fontSizeMixin extends Vue {    // è®¡ç®—rem    private setFontSize() {        let htmlDOM = document.documentElement,        clientWidth = htmlDOM.offsetWidth;        if (!clientWidth) {            return;        }         htmlDOM.style.fontSize = 10 * (clientWidth / 1366) + &#39;px&#39;;// ...    }    private created() {        this.setFontSize();    }    private activated() {        this.setFontSize();    }}</code></pre><p>æ‰€ä»¥æ€è€ƒç€èƒ½ä¸èƒ½å°†stylusä¸­çš„â€é€‚é…æ ‡è¯†â€œè®©JSèƒ½æ“ä½œåˆ°</p><p>åæ¥æŸ¥é˜…å¤šé‡èµ„æ–™å‘ç°ï¼ŒJSå¹¶ä¸èƒ½å¯¹stylusé¢„å¤„ç†å™¨åšä»€ä¹ˆæ“ä½œ</p><p>å†åæ¥ï¼Œå¸Œæœ›å€Ÿç”±  CSS,è¾¾åˆ°è¿™ä¸ªç›®çš„</p><p>stylus â€” css â€” JS</p><p>å€ŸåŠ©CSSä¹‹æ‰‹ï¼Œè®©JSå®ç°è¯»å–è¿™ä¸€å˜é‡</p><p>å®ç°å¦‚ä¸‹ï¼š<br>â‘ å®šä¹‰å…¨å±€å˜é‡<br><em>stylusVariableMixin.styl</em></p><pre><code>$mediaVersion = false;</code></pre><p>â‘¡åœ¨æ‰“åŒ…æ—¶æ··å…¥ï¼Œï¼ˆè¿™ä¸€æ­¥è¿˜æœ‰ç»™å…¶ä»–stylusæ–‡ä»¶ä½¿ç”¨çš„åŸå› ï¼‰</p><p><em>webpack_dev_xxx.config.js</em></p><pre><code>{      test: /\.styl(us)?$/,      use: [&quot;style-loader&quot;, &quot;vue-style-loader&quot;, &quot;css-loader&quot;, &quot;stylus-loader&quot;,          {              loader: &#39;style-resources-loader&#39;,              options: {                  patterns: [                      path.resolve(__dirname, &#39;./css/stylusVariableMixin.styl&#39;)                  ]              }          }      ]  },</code></pre><p>â‘¢è‡ªå®šä¹‰CSSå˜é‡æ¥æ”¶å…¨å±€å˜é‡<br><em>common.stylus</em></p><pre><code>:root {    --global-bool: $mediaVersion;}</code></pre><p>â‘£JSè¯»å–<br><em>mixin.ts</em></p><pre><code>private setFontSize() {        let htmlDOM = document.documentElement,        clientWidth = htmlDOM.offsetWidth;        if (!clientWidth) {            return;        }        // æ ¹æ®  stylusVariableMixin.styl åŠ common.stylus æ··å…¥çš„å˜é‡è¿›è¡Œçš„é€‚é…åˆ¤æ–­        let rootStyle = getComputedStyle(document.documentElement);         let judgeBool = rootStyle.getPropertyValue(&#39;--global-bool&#39;).trim();        if(judgeBool === &#39;true&#39;) {            htmlDOM.style.fontSize = 10 * (clientWidth / 1366) + &#39;px&#39;;        } else {            htmlDOM.style.fontSize = 10  + &#39;px&#39;;        }    }</code></pre><p>â€”-ç»“æŸâ€”<br>å†™çš„åŒ†å¿™ï¼Œå¯èƒ½æè¿°ä¸å¤Ÿç»†è‡´ï¼Œè§è°…ã€‚</p><p>è¯»å–CSSä¸­è‡ªå®šä¹‰å˜é‡çš„æ–¹æ³•</p><pre><code>let rootStyle = getComputedStyle(document.documentElement);         let judgeBool = rootStyle.getPropertyValue(&#39;--global-bool&#39;).trim();</code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> CSS </tag>
            
            <tag> Stylus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS&amp;HTML</title>
      <link href="/2021/01/01/web/CSS/"/>
      <url>/2021/01/01/web/CSS/</url>
      
        <content type="html"><![CDATA[<h4 id="é‡ç»˜å›æµ"><a href="#é‡ç»˜å›æµ" class="headerlink" title="é‡ç»˜å›æµ"></a>é‡ç»˜å›æµ</h4><p>ğŸ‘‰ï¼š <a href="/2020/02/03/2020/é‡ç»˜å›æµ">æµè§ˆå™¨é‡ç»˜å›æµå¤ä¹ </a> </p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> Web </tag>
            
            <tag> Interview </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTP</title>
      <link href="/2021/01/01/web/HTTP/"/>
      <url>/2021/01/01/web/HTTP/</url>
      
        <content type="html"><![CDATA[<h4 id="ä¸‰æ¬¡æ¡æ‰‹-amp-å››æ¬¡æŒ¥æ‰‹"><a href="#ä¸‰æ¬¡æ¡æ‰‹-amp-å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹&amp;å››æ¬¡æŒ¥æ‰‹"></a>ä¸‰æ¬¡æ¡æ‰‹&amp;å››æ¬¡æŒ¥æ‰‹</h4><p>ğŸ‘‰ï¼š <a href="/2020/07/09/2020/ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹">ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹å¤ä¹ </a> </p><h4 id="å¸¸è§çŠ¶æ€ç "><a href="#å¸¸è§çŠ¶æ€ç " class="headerlink" title="å¸¸è§çŠ¶æ€ç "></a>å¸¸è§çŠ¶æ€ç </h4><p>ğŸ‘‰ï¼š <a href="/2020/10/28/2020/HTTPå¸¸è§çŠ¶æ€ç ">HTTPå¸¸è§çŠ¶æ€ç </a> </p><h4 id="è¾“å…¥URLåˆ°é¡µé¢æ„å»º"><a href="#è¾“å…¥URLåˆ°é¡µé¢æ„å»º" class="headerlink" title="è¾“å…¥URLåˆ°é¡µé¢æ„å»º"></a>è¾“å…¥URLåˆ°é¡µé¢æ„å»º</h4><p>ğŸ‘‰ï¼š <a href="/2021/04/12/2021/æµè§ˆå™¨çš„å¤šçº¿ç¨‹">è¾“å…¥URLåˆ°é¡µé¢æ„å»ºï¼Œå‘åç¿»ä¸€ç‚¹</a> </p><h4 id="HTTPSè¿æ¥è¿‡ç¨‹"><a href="#HTTPSè¿æ¥è¿‡ç¨‹" class="headerlink" title="HTTPSè¿æ¥è¿‡ç¨‹"></a>HTTPSè¿æ¥è¿‡ç¨‹</h4><p>ğŸ‘‰ï¼š <a href="/2020/07/09/2020/HTTPSè¿æ¥è¿‡ç¨‹">HTTPSè¿æ¥è¿‡ç¨‹</a> </p><h4 id="HTTPç¼“å­˜æœºåˆ¶"><a href="#HTTPç¼“å­˜æœºåˆ¶" class="headerlink" title="HTTPç¼“å­˜æœºåˆ¶"></a>HTTPç¼“å­˜æœºåˆ¶</h4><p>ğŸ‘‰ï¼š <a href="/2021/02/26/2021/HTTPç¼“å­˜">HTTPç¼“å­˜æœºåˆ¶</a> </p><h4 id="HTTP1ã€HTTP1-1ã€HTTP2ã€HTTPSã€HTTP3çš„åŒºåˆ«åŠç‰¹å®š"><a href="#HTTP1ã€HTTP1-1ã€HTTP2ã€HTTPSã€HTTP3çš„åŒºåˆ«åŠç‰¹å®š" class="headerlink" title="HTTP1ã€HTTP1.1ã€HTTP2ã€HTTPSã€HTTP3çš„åŒºåˆ«åŠç‰¹å®š"></a>HTTP1ã€HTTP1.1ã€HTTP2ã€HTTPSã€HTTP3çš„åŒºåˆ«åŠç‰¹å®š</h4><p>ğŸ‘‰ï¼š <a href="/2021/04/07/2021/HTTP1-HTTP1-1-HTTP2-HTTPS-HTTP3çš„åŒºåˆ«ç‰¹ç‚¹">HTTP</a> </p><h4 id="TCPä¸UDPçš„åŒºåˆ«"><a href="#TCPä¸UDPçš„åŒºåˆ«" class="headerlink" title="TCPä¸UDPçš„åŒºåˆ«"></a>TCPä¸UDPçš„åŒºåˆ«</h4><p>ğŸ‘‰ï¼š <a href="/2021/02/21/2021/TCPä¸UDPçš„åŒºåˆ«">TCPä¸UDPçš„åŒºåˆ«</a> </p><h4 id="ç½‘ç»œçš„ä¸ƒå±‚ç»“æ„"><a href="#ç½‘ç»œçš„ä¸ƒå±‚ç»“æ„" class="headerlink" title="ç½‘ç»œçš„ä¸ƒå±‚ç»“æ„"></a>ç½‘ç»œçš„ä¸ƒå±‚ç»“æ„</h4><p>ğŸ‘‰ï¼š <a href="/2020/11/05/2020/ç½‘ç»œä¸ƒå±‚ç»“æ„">ç½‘ç»œçš„ä¸ƒå±‚ç»“æ„</a> </p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP </tag>
            
            <tag> Web </tag>
            
            <tag> Interview </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>interview</title>
      <link href="/2021/01/01/web/interview/"/>
      <url>/2021/01/01/web/interview/</url>
      
        <content type="html"><![CDATA[<p>æ”¶é›†æ•´ç†çš„å‰ç«¯é¢è¯•ç›¸å…³â€¦</p><p><img src="/2021/01/01/web/interview/MO1.png" alt="NO1" title="NO1"></p><a id="more"></a><h2 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h2><p>ğŸ‘‰ï¼š <a href="/2021/01/01/web/JS">JSé¢è¯•ç›¸å…³</a></p><h2 id="CSS-amp-HTML"><a href="#CSS-amp-HTML" class="headerlink" title="CSS&amp;HTML"></a>CSS&amp;HTML</h2><p>ğŸ‘‰ï¼š <a href="/2021/01/01/web/CSS">CSSã€HTMLé¢è¯•ç›¸å…³</a></p><h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><p>ğŸ‘‰ï¼š <a href="/2021/01/01/web/HTTP">HTTPé¢è¯•ç›¸å…³</a></p><h2 id="æ¯æ—¥ä¸€é¢˜"><a href="#æ¯æ—¥ä¸€é¢˜" class="headerlink" title="æ¯æ—¥ä¸€é¢˜"></a>æ¯æ—¥ä¸€é¢˜</h2><p>ğŸ‘‰ï¼š <a href="/2021/01/01/web/æ¯æ—¥ä¸€é¢˜">æ¯æ—¥ä¸€é¢˜ï¼ŒåŒ…å«ç®—æ³•åŠWebçš„å„æ–¹é¢</a></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> Interview </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¯æ—¥ä¸€é¢˜</title>
      <link href="/2021/01/01/web/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"/>
      <url>/2021/01/01/web/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>æ‰“ç®—å¼€å¤šä¸€ä¸ªç›®å½•ï¼Œæ”¶å½•é‡åˆ°çš„é¢˜ç›®ï¼ŒåŒ…å«ç®—æ³•æˆ–è€…æ•°æ®ç»“æ„æˆ–è€…Webçš„å„æ–¹é¢</p><p>åŠ æ²¹å§ï¼Œå°‘å¹´ï¼</p><p>å½“ç„¶ä¸æ˜¯ä¸¥æ ¼ä¸Šçš„æ¯æ—¥ä¸€é¢˜ğŸ¤£ï¼Œç§¯å°‘æˆå¤šå§</p><p><img src="/2021/01/01/web/æ¯æ—¥ä¸€é¢˜/learning.jpg" alt="NO2" title="NO2"></p><a id="more"></a><h4 id="æœ€é•¿å›æ–‡å­ä¸²"><a href="#æœ€é•¿å›æ–‡å­ä¸²" class="headerlink" title="æœ€é•¿å›æ–‡å­ä¸²"></a>æœ€é•¿å›æ–‡å­ä¸²</h4><p>ğŸ‘‰ï¼š <a href="/2021/04/12/2021/æœ€é•¿å›æ–‡å­ä¸²">æœ€é•¿å›æ–‡å­ä¸²</a> </p><h4 id="leetCode-1-ä¸¤æ•°ä¹‹å’Œ"><a href="#leetCode-1-ä¸¤æ•°ä¹‹å’Œ" class="headerlink" title="leetCode.1.ä¸¤æ•°ä¹‹å’Œ"></a>leetCode.1.ä¸¤æ•°ä¹‹å’Œ</h4><p>ğŸ‘‰ï¼š <a href="/2021/04/17/2021/leetCode-1-ä¸¤æ•°ä¹‹å’Œ">leetCode.1.ä¸¤æ•°ä¹‹å’Œ</a> </p><h4 id="æ•°ç»„æ•°æ®ç»“æ„è½¬æ¢-trieæ ‘"><a href="#æ•°ç»„æ•°æ®ç»“æ„è½¬æ¢-trieæ ‘" class="headerlink" title="æ•°ç»„æ•°æ®ç»“æ„è½¬æ¢-trieæ ‘"></a>æ•°ç»„æ•°æ®ç»“æ„è½¬æ¢-trieæ ‘</h4><p>ğŸ‘‰ï¼š <a href="/2021/04/18/2021/æ•°ç»„æ•°æ®ç»“æ„-trieæ ‘">Trieæ ‘</a> </p><h4 id="leetCode-2-ä¸¤æ•°ç›¸åŠ "><a href="#leetCode-2-ä¸¤æ•°ç›¸åŠ " class="headerlink" title="leetCode.2.ä¸¤æ•°ç›¸åŠ "></a>leetCode.2.ä¸¤æ•°ç›¸åŠ </h4><p>ğŸ‘‰ï¼š <a href="/2021/04/19/2021/leetCode-2-ä¸¤æ•°ç›¸åŠ ">leetCode.2.ä¸¤æ•°ç›¸å’Œ</a> </p><h4 id="leetCode-3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"><a href="#leetCode-3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²" class="headerlink" title="leetCode.3.æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"></a>leetCode.3.æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</h4><p>ğŸ‘‰ï¼š <a href="/2021/04/19/2021/leetCode-3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²">leetCode-3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</a> </p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> Web </tag>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS</title>
      <link href="/2021/01/01/web/JS/"/>
      <url>/2021/01/01/web/JS/</url>
      
        <content type="html"><![CDATA[<h4 id="callã€applyã€bindã€newå‡½æ•°æ¨¡æ‹Ÿ"><a href="#callã€applyã€bindã€newå‡½æ•°æ¨¡æ‹Ÿ" class="headerlink" title="callã€applyã€bindã€newå‡½æ•°æ¨¡æ‹Ÿ"></a>callã€applyã€bindã€newå‡½æ•°æ¨¡æ‹Ÿ</h4><p>ğŸ‘‰ï¼š <a href="/2019/01/24/2019/æ‰‹å†™new-call-apply-bind">å‡½æ•°æ¨¡æ‹Ÿ</a></p><a id="more"></a><h4 id="æŸ¯é‡ŒåŒ–å‡½æ•°"><a href="#æŸ¯é‡ŒåŒ–å‡½æ•°" class="headerlink" title="æŸ¯é‡ŒåŒ–å‡½æ•°"></a>æŸ¯é‡ŒåŒ–å‡½æ•°</h4><pre><code>function curry(fn, args) {    var length = fn.length; // function.lengthå³å‚æ•°ä¸ªæ•°, æ­¤å¤„ä¸º3    var args_ = args || [];    return function() {        var _args = args_.slice(0), args, i;        for(i = 0; i &lt; arguments.length; i++) {            args = arguments[i];            _args.push(args);        }        if(_args.length &lt; length) { // ä¸é¢„è®¾å‚æ•°ä¸ªæ•°çš„æ¯”è¾ƒ            return curry.call(this, fn, _args);        } else {            return fn.apply(this, _args);        }    }}var fn = curry(function(a, b, c) {    console.log([a, b, c]);})fn(2, 3, 4, 5);fn(2)(3)(4);</code></pre><h4 id="å‡½æ•°åˆæˆCompose"><a href="#å‡½æ•°åˆæˆCompose" class="headerlink" title="å‡½æ•°åˆæˆCompose"></a>å‡½æ•°åˆæˆCompose</h4><blockquote><p>ç¤ºä¾‹ï¼š</p><pre><code>var add = function (x) { return x + 5; }  //åŠ æ³•å…è®¸var mul= function (x) { return x * 5; }  //ä¹˜æ³•è¿ç®—var sub= function (x) { return x - 5; }  //å‡æ³•è¿ç®—var div = function (x) { return x / 5; }  //é™¤æ³•è¿ç®—var fn = compose(add, mul, sub, div);</code></pre></blockquote><p><em>è§£ç­”ï¼š</em></p><pre><code>var compose = function () {    var _arguments = arguments;  //ç¼“å­˜å¤–å±‚å‡½æ•°    var length = _arguments.length;  //ç¼“å­˜é•¿åº¦    var index = length;  //å®šä¹‰æ¸¸æ ‡å˜é‡    //æ£€æµ‹å‡½æ•°ï¼Œå¦‚æœå­˜åœ¨éå‡½æ•°å‚æ•°ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸    while (index --) {        if (typeof _arguments[index] !== &#39;function&#39;) {            throw new TypeError(&#39;å‚æ•°å¿…é¡»ä¸ºå‡½æ•°ï¼&#39;);        }    }    return function () {        var index = length - 1;  //å®šä½åˆ°æœ€åä¸€ä¸ªå‚æ•°ä¸‹æ ‡        //å¦‚æœå­˜åœ¨ä¸¤ä¸ªåŠä»¥ä¸Šå‚æ•°ï¼Œåˆ™è°ƒç”¨æœ€åä¸€ä¸ªå‚æ•°å‡½æ•°ï¼Œå¹¶ä¼ å…¥å†…å±‚å‡½æ•°ï¼›å¦åˆ™ç›´æ¥è¿”å›ç¬¬ 1 ä¸ªå‚æ•°å‡½æ•°ã€‚        var result = length ? _arguments[index].apply(this, arguments) : arguments[0];        //è¿­ä»£å‚æ•°å‡½æ•°        while (index -- ) {            //æŠŠå³ä¾§å‡½æ•°çš„æ‰§è¡Œç»“æœä½œä¸ºå‚æ•°ä¼ ç»™å·¦ä¾§å‚æ•°å‡½æ•°ï¼Œå¹¶è°ƒç”¨ã€‚            result = _arguments[index].call(this, result);        }        return result;  //è¿”å›æœ€å·¦ä¾§å‚æ•°å‡½æ•°çš„æ‰§è¡Œç»“æœ    }}</code></pre><h4 id="JS-EventLoop"><a href="#JS-EventLoop" class="headerlink" title="JS EventLoop"></a>JS EventLoop</h4><p>ğŸ‘‰ï¼š<a href="/2020/06/12/2020/EventLoop">EventLoop</a></p><h4 id="èŠ‚æµ-é˜²æŠ–"><a href="#èŠ‚æµ-é˜²æŠ–" class="headerlink" title="èŠ‚æµ? é˜²æŠ–?"></a>èŠ‚æµ? é˜²æŠ–?</h4><p>é˜²æŠ–: åœ¨äº‹ä»¶è¢«è§¦å‘nç§’å†…å†æ‰§è¡Œå›è°ƒï¼Œè‹¥nç§’å†…å†æ¬¡è§¦å‘ï¼Œåˆ™é‡æ–°å¼€å§‹è®¡æ—¶ã€‚<br>èŠ‚æµ: æ¯éš”ä¸€æ®µæ—¶é—´ï¼Œåªæ‰§è¡Œä¸€æ¬¡å‡½æ•°ã€‚<br>åŒºåˆ«ï¼š</p><ul><li>åœ¨timerå­˜åœ¨æ—¶ï¼Œå¤„ç†æ–¹å¼ä¸åŒ</li><li>æ‰§è¡Œç»“æŸåï¼ŒèŠ‚æµä¼šä½¿timer = null;</li></ul><p>é˜²æŠ–ï¼š</p><pre><code>function debounce(fn, delay) {    var timer;    return funtion() {        var _this = this;        var args = arguments;        if(timer) {            clearTimeout(timer);        }        timer = setTimeout(function() {            fn.apply(_this, args);        }, delay);    }}</code></pre><p>èŠ‚æµï¼š</p><pre><code>function throttle(fn, delay) {    var timer;    return function() {        var _this = this;        var args = arguments;        if(timer) {            return; // return         }        timer = setTimeout(function() {            fn.apply(_this, args);            timer = null;        }, delay);    }}</code></pre><h4 id="asyncå‡½æ•°åŸç†"><a href="#asyncå‡½æ•°åŸç†" class="headerlink" title="asyncå‡½æ•°åŸç†"></a>asyncå‡½æ•°åŸç†</h4><p>ğŸ‘‰ï¼š<a href="/2020/06/30/2020/async-awaitåŸç†">Async/awaitåŸç†</a></p><h4 id="è·¨åŸŸè¯·æ±‚"><a href="#è·¨åŸŸè¯·æ±‚" class="headerlink" title="è·¨åŸŸè¯·æ±‚"></a>è·¨åŸŸè¯·æ±‚</h4><p>ğŸ‘‰ï¼š<a href="/2020/05/11/2020/corsè·¨åŸŸ">è·¨åŸŸè¯·æ±‚</a></p><h4 id="XSSã€CSRF"><a href="#XSSã€CSRF" class="headerlink" title="XSSã€CSRF"></a>XSSã€CSRF</h4><p>ğŸ‘‰ï¼š<a href="/2020/08/11/2020/XSS-CSRF">XSSã€CSRFç›¸å…³</a></p><h4 id="JSç±»å‹åˆ¤æ–­"><a href="#JSç±»å‹åˆ¤æ–­" class="headerlink" title="JSç±»å‹åˆ¤æ–­"></a>JSç±»å‹åˆ¤æ–­</h4><ol><li><p>typeof</p><pre><code>tyepof &#39;&#39;; // stringtypeof 1; // numbertypeof Symbol(); // Symboltypeof true; // booleantypeof undefined; // undefinedtypeof null; // object(æ— æ•ˆ)typeof []; // object(æ— æ•ˆ)typeof new Function(); // object(æ— æ•ˆ)typeof new Date(); // object(æ— æ•ˆ) </code></pre></li><li><p>instanceof<br>instanceofçš„æœºåˆ¶æ˜¯æ£€æµ‹æ„é€ å‡½æ•°çš„prototypeå±æ€§æ˜¯å¦å‡ºç°åœ¨æŸä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹é“¾ä¸Šï¼Œæ˜¯åˆ™è¿”å›trueï¼Œå¦åˆ™falseã€‚</p></li><li><p>constructor<br>å‡½æ•°çš„constructoræ˜¯ä¸ç¨³å®šçš„ï¼Œè¿™ä¸ªä¸»è¦æ˜¯å¦‚æœæ˜¯è‡ªå®šä¹‰å¯¹è±¡ï¼Œé‡å†™prototypeä¹‹åï¼ŒåŸæœ‰çš„constructorä¼šä¸¢å¤±ã€‚</p><pre><code>&#39;&#39;.constructor == String // truenew Number(1).constructor == Number // truetrue.constructor == Boolean // truenew Function().constructor == Function // truenew Date().constructor == Date // truenew Error().constructor == Error // true[].constructor == Array // true</code></pre></li><li>toString<br>toString()æ˜¯è°ƒç”¨Objectçš„åŸå‹æ–¹æ³•ï¼Œè°ƒç”¨è¯¥æ–¹æ³•ï¼Œä½†ä¼šå½“å‰å¯¹è±¡Class</li></ol><pre><code>Object.prototype,toString.call(&#39;&#39;); // [object String]Object.prototype,toString.call(1); // [object Number]Object.prototype,toString.call(true); // [object Boolean]Object.prototype,toString.call(Symbol()); // [object Symbol]Object.prototype,toString.call(undefined); // [object Undefined]Object.prototype,toString.call(null); // [object Null]Object.prototype,toString.call(new Function()); // [object Function]Object.prototype,toString.call(new Date()); // [object Date]Object.prototype,toString.call([]); // [object Array]Object.prototype,toString.call(new Error()); // [object Error]Object.prototype,toString.call(document); // [object HTMLDocument]</code></pre><h4 id="thisæŒ‡å‘"><a href="#thisæŒ‡å‘" class="headerlink" title="thisæŒ‡å‘"></a>thisæŒ‡å‘</h4><p>ğŸ‘‰ï¼š<a href="/2019/10/17/2019/thisæŒ‡å‘">thisæŒ‡å‘</a></p><h4 id="JSåƒåœ¾å›æ”¶æœºåˆ¶"><a href="#JSåƒåœ¾å›æ”¶æœºåˆ¶" class="headerlink" title="JSåƒåœ¾å›æ”¶æœºåˆ¶"></a>JSåƒåœ¾å›æ”¶æœºåˆ¶</h4><p>ğŸ‘‰ï¼š<a href="/2020/09/23/2020/åƒåœ¾å›æ”¶æœºåˆ¶">åƒåœ¾å›æ”¶æœºåˆ¶</a></p><h4 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h4><p>ä¸€ä¸ªå‡½æ•°å’Œå¯¹å…¶å‘¨å›´çŠ¶æ€ï¼ˆlexical environmentï¼Œè¯æ³•ç¯å¢ƒï¼‰çš„å¼•ç”¨æ†ç»‘åœ¨ä¸€èµ·ï¼ˆæˆ–è€…è¯´å‡½æ•°è¢«å¼•ç”¨åŒ…å›´ï¼‰ï¼Œè¿™æ ·çš„ç»„åˆå°±æ˜¯é—­åŒ…ï¼ˆclosureï¼‰ã€‚<br>å…¶å®ç®€å•äº†è®²å°±æ˜¯ï¼šåœ¨å‡½æ•°å¤–æ‹¿åˆ°äº†å‡½æ•°å†…çš„å˜é‡(ä¸ªäººç†è§£)ã€‚</p><pre><code>function makeFun() {    var name = &#39;haveFun&#39;;    function displayName() {        console.log(name);    }    return displayName;}var test = makeFun();test();</code></pre><h4 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="headerlink" title="åŸå‹é“¾"></a>åŸå‹é“¾</h4><p>ğŸ‘‰ï¼š<a href="/2019/12/15/2019/JSåŸå‹é“¾">åŸå‹é“¾</a></p><h4 id="JSæ¨¡å—åŒ–æ¼”è¿›"><a href="#JSæ¨¡å—åŒ–æ¼”è¿›" class="headerlink" title="JSæ¨¡å—åŒ–æ¼”è¿›"></a>JSæ¨¡å—åŒ–æ¼”è¿›</h4><p>ğŸ‘‰ï¼š<a href="/2020/09/28/2020/JSæ¨¡å—åŒ–æ¼”è¿›">æ¨¡å—åŒ–</a></p><h4 id="JSç»§æ‰¿"><a href="#JSç»§æ‰¿" class="headerlink" title="JSç»§æ‰¿"></a>JSç»§æ‰¿</h4><p>ğŸ‘‰ï¼š<a href="/2019/01/23/2019/JavaScriptç»§æ‰¿">JSç»§æ‰¿</a></p><h4 id="JSæ‰‹å†™Promise"><a href="#JSæ‰‹å†™Promise" class="headerlink" title="JSæ‰‹å†™Promise"></a>JSæ‰‹å†™Promise</h4><p>ğŸ‘‰ï¼š<a href="/2021/04/01/2021/JSæ‰‹å†™Promise">JSæ‰‹å†™Promise</a></p><h4 id="æµè§ˆå™¨è¿›ç¨‹ç›¸å…³"><a href="#æµè§ˆå™¨è¿›ç¨‹ç›¸å…³" class="headerlink" title="æµè§ˆå™¨è¿›ç¨‹ç›¸å…³"></a>æµè§ˆå™¨è¿›ç¨‹ç›¸å…³</h4><p>ğŸ‘‰ï¼š<a href="/2021/04/12/2021/æµè§ˆå™¨çš„å¤šçº¿ç¨‹">æµè§ˆå™¨çš„å¤šçº¿ç¨‹</a></p><h4 id="JSè®¾è®¡æ¨¡å¼ç›¸å…³"><a href="#JSè®¾è®¡æ¨¡å¼ç›¸å…³" class="headerlink" title="JSè®¾è®¡æ¨¡å¼ç›¸å…³"></a>JSè®¾è®¡æ¨¡å¼ç›¸å…³</h4><p>ğŸ‘‰ï¼š<a href="/2020/09/29/2020/JSè®¾è®¡æ¨¡å¼">JSè®¾è®¡æ¨¡å¼</a></p><h4 id="æ’åºç®—æ³•"><a href="#æ’åºç®—æ³•" class="headerlink" title="æ’åºç®—æ³•"></a>æ’åºç®—æ³•</h4><p>ğŸ‘‰ï¼š <a href="/2021/04/02/2021/åå¤§æ’åº">JSerè¦äº†è§£çš„æ’åº</a> </p><p><em>æœªå®Œå¾…ç»­â€¦</em>s</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> Web </tag>
            
            <tag> Interview </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>stylus_media</title>
      <link href="/2020/12/26/2020/stylus-media/"/>
      <url>/2020/12/26/2020/stylus-media/</url>
      
        <content type="html"><![CDATA[<p>æ¸²æŸ“å­—ä½“å“åº”</p><pre><code>media_queries = {  small: &quot;only screen and (width: 1366px)&quot;,  big: &quot;only screen and (width: 1920px)&quot;}fontSizeIter(smallSize, bigSize)    +for_fontSize(small)        fontSize(smallSize)    +for_fontSize(big)        fontSize(bigSize)for_fontSize(breakpoints)  conditions = ()  for breakpoint in breakpoints    push(conditions, media_queries[breakpoint])  conditions = join(&quot;&quot;, conditions)  @media conditions    {block}fontSize($size)  font-size $size#unicomView    .font-12-17        fontSizeIter(12px, 17px)    .font-14-20        fontSizeIter(14px, 20px)    .font-16-22        fontSizeIter(16px, 22px)    .font-24-34        fontSizeIter(24px, 34px)</code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> Stylus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>My</title>
      <link href="/2020/12/01/2020/My/"/>
      <url>/2020/12/01/2020/My/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¹´ï¼Œæœ€å¤§çš„æ”¶è·ï¼Œå°±æ˜¯ï¼Œç–«æƒ…æœŸé—´ï¼Œå¼€å§‹ç»™è‡ªå·±åšå¤§å¨äº†â€¦</p><p><img src="/2020/12/01/2020/My/NO12.jpg" alt="NO12" title="NO12"></p><p><strong>ä¸¢äººç°èœğŸ˜</strong></p><a id="more"></a><p><img src="/2020/12/01/2020/My/NO1.jpg" alt="NO1" title="NO1"></p>]]></content>
      
      
      <categories>
          
          <category> è¯»ä¹¦Vç”Ÿæ´» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ—¥å¸¸ç¢ç¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘ç»œä¸ƒå±‚ç»“æ„</title>
      <link href="/2020/11/05/2020/%E7%BD%91%E7%BB%9C%E4%B8%83%E5%B1%82%E7%BB%93%E6%9E%84/"/>
      <url>/2020/11/05/2020/%E7%BD%91%E7%BB%9C%E4%B8%83%E5%B1%82%E7%BB%93%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<p>ç½‘ç»œçš„ä¸ƒå±‚ç»“æ„æŒ‡OSIä¸ƒå±‚åè®®æ¨¡å‹ï¼Œåˆ†åˆ«æ˜¯ï¼šåº”ç”¨å±‚ã€è¡¨ç¤ºå±‚ã€ä¼šè¯å±‚ã€ä¼ è¾“å±‚ã€ç½‘ç»œå±‚ã€é“¾è·¯å±‚ã€ç‰©ç†å±‚ã€‚</p><a id="more"></a><table><thead><tr><th>æ¨¡å‹å±‚</th><th>ä¸»è¦åè®®</th><th>å•ä½</th></tr></thead><tbody><tr><td>åº”ç”¨å±‚</td><td>FTPã€HTTPâ€¦</td><td>æ•°æ®æµ</td></tr><tr><td>è¡¨ç¤ºå±‚</td><td>HTMLã€JSONã€XML..</td><td>æ•°æ®æµ</td></tr><tr><td>ä¼šè¯å±‚</td><td>FTPã€SSHã€TLSâ€¦</td><td>æ•°æ®æµ</td></tr><tr><td>ä¼ è¾“å±‚</td><td>TCPã€UDP</td><td>æ•°æ®æ®µ</td></tr><tr><td>ç½‘ç»œå±‚</td><td>IPã€ICMP..</td><td>æ•°æ®åŒ…</td></tr><tr><td>é“¾è·¯å±‚</td><td>HDLC..</td><td>å¸§</td></tr><tr><td>ç‰©ç†å±‚</td><td>V.35 â€¦</td><td>æ¯”ç‰¹æµ</td></tr></tbody></table><p><em>ä¸»è¦</em></p><table><thead><tr><th>ç»“æ„å</th><th>åŠŸèƒ½</th><th>ä¸»è¦è®¾å¤‡</th></tr></thead><tbody><tr><td>åº”ç”¨å±‚</td><td>ç¡®å®šé€šä¿¡å¯¹è±¡ï¼Œæä¾›è®¿é—®ç½‘ç»œæœåŠ¡çš„æ¥å£</td><td>ç½‘å…³</td></tr><tr><td>è¡¨ç¤ºå±‚</td><td>è´Ÿè´£æ•°æ®çš„ç¼–ç ï¼Œè½¬åŒ–ï¼Œå‹ç¼©ï¼Œè§£å‹ï¼ŒåŠ å¯†è§£å¯†ç­‰</td><td>ç½‘å…³</td></tr><tr><td>ä¼šè¯å±‚</td><td>è´Ÿè´£å»ºç«‹ã€ç»´æŠ¤ã€æ§åˆ¶ä¼šè¯å•å·¥ã€åŒå·¥ã€åŠåŒå·¥ç­‰æ¨¡å¼</td><td>ç½‘å…³</td></tr><tr><td>ä¼ è¾“å±‚</td><td>è´Ÿè´£åˆ†å‰²ã€ç»„åˆæ•°æ®ï¼Œå®ç°ç«¯åˆ°ç«¯çš„é€»è¾‘è¿æ¥åŠä¸‰æ¬¡æ¡æ‰‹â€¦</td><td>ç½‘å…³</td></tr><tr><td>ç½‘ç»œå±‚</td><td>è´Ÿè´£ç®¡ç†ç½‘ç»œåœ°å€ï¼Œå®šä½è®¾å¤‡ï¼Œå†³å®šè·¯ç”±</td></tr><tr><td>é“¾è·¯å±‚</td><td>è´Ÿè´£ç‰©ç†ä¼ è¾“ï¼Œ CRCæ ¡éªŒï¼Œé”™è¯¯é€šçŸ¥</td><td>äº¤æ¢æœºï¼Œç½‘æ¡¥ï¼Œç½‘å¡</td></tr><tr><td>ç‰©ç†å±‚</td><td>å®å®åœ¨åœ¨çš„ç‰©ç†é“¾è·¯</td><td>ç”µç¼†ç­‰</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTPå¸¸è§çŠ¶æ€ç </title>
      <link href="/2020/10/28/2020/HTTP%E5%B8%B8%E8%A7%81%E7%8A%B6%E6%80%81%E7%A0%81/"/>
      <url>/2020/10/28/2020/HTTP%E5%B8%B8%E8%A7%81%E7%8A%B6%E6%80%81%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<h3 id="HTTPçŠ¶æ€ç "><a href="#HTTPçŠ¶æ€ç " class="headerlink" title="HTTPçŠ¶æ€ç "></a>HTTPçŠ¶æ€ç </h3><p>åœ¨XMLHttpRequestè¯·æ±‚ä¸­ï¼Œä¹Ÿæœ‰äº”ä¸ªçŠ¶æ€ç :</p><p>XMLHttpRequestçš„çŠ¶æ€ç ï¼š<br>0â€” æœªåˆå§‹åŒ–ï¼Œå°šæœªè°ƒç”¨open()æ–¹æ³•<br>1â€”å¯åŠ¨ï¼Œå·²ç»è°ƒç”¨open()æ–¹æ³•ï¼Œå¹¶æœªsend()<br>2â€”å‘é€ï¼Œå·²ç»send,ä½†æœªæ”¶åˆ°å“åº”<br>3â€”æ¥æ”¶<br>4â€”å®Œæˆ</p><p>HTTPçš„çŠ¶æ€ç ï¼š</p><a id="more"></a><h4 id="1xx"><a href="#1xx" class="headerlink" title="1xx"></a>1xx</h4><p>è¡¨ç¤ºè¯·æ±‚å·²ç»æ¥å—ï¼Œéœ€è¦ç»§ç»­å¤„ç†ï¼ŒHTTP/1.0åè®®ä¸­æ²¡æœ‰å®šä¹‰1xxçŠ¶æ€ç ï¼Œé™¤éåœ¨æŸäº›å®éªŒä¸‹ï¼Œå¦åˆ™æœåŠ¡å™¨ç¦æ­¢å‘é€1xxå“åº”</p><h5 id="100-Continue"><a href="#100-Continue" class="headerlink" title="100 Continue"></a>100 Continue</h5><p>æœåŠ¡ç«¯å·²ç»æ¥æ”¶ï¼Œä¸”ä»æœªæ‹’ç»ï¼Œå®¢æˆ·ç«¯åº”è¯¥ç»§ç»­è¯·æ±‚</p><h4 id="2xx"><a href="#2xx" class="headerlink" title="2xx"></a>2xx</h4><h5 id="200-OK"><a href="#200-OK" class="headerlink" title="200 OK"></a>200 OK</h5><p>è¯·æ±‚å·²ç»æˆåŠŸï¼Œå“åº”ä¸æ•°æ®éƒ½éšæ­¤è¿”å›ã€‚</p><h5 id="202-Accepted"><a href="#202-Accepted" class="headerlink" title="202 Accepted"></a>202 Accepted</h5><p>æœåŠ¡å™¨å·²ç»æ¥æ”¶è¯·æ±‚ï¼Œä½†å°šæœªå¤„ç†ï¼›<br>è¿”å›ç›®çš„æ˜¯å…è®¸æœåŠ¡å™¨æ‰§è¡Œå…¶ä»–è¿‡ç¨‹è¯·æ±‚ï¼Œä¾‹å¦‚æ¯å¤©æ‰§è¡Œä¸€æ¬¡çš„æ‰¹è¯·æ±‚ï¼Œä¸å¿…è®©å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¸€ç›´è¿æ¥ç­‰å¾…å®Œæˆï¼Œæ‰€æœ‰å¯ä»¥å…ˆè¿”å›202ã€‚</p><h5 id="204-Not-Content"><a href="#204-Not-Content" class="headerlink" title="204 Not Content"></a>204 Not Content</h5><p>æœåŠ¡å™¨å·²ç»å¤„ç†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å®ä½“å†…å®¹ï¼Œæµè§ˆå™¨æ˜¾ç¤ºçš„é¡µé¢ä¸ä¼šå‘ç”Ÿæ›´æ–°</p><h5 id="205-Reset-Content"><a href="#205-Reset-Content" class="headerlink" title="205 Reset Content"></a>205 Reset Content</h5><p>æœåŠ¡å™¨æˆåŠŸå¤„ç†è¯·æ±‚ï¼Œä¸”æ²¡æœ‰è¿”å›ä»»ä½•å®ä½“å†…å®¹ï¼Œä½†å¸Œæœ›è¯·æ±‚è€…é‡ç½®æ–‡æ¡£è§†å›¾ï¼Œæ›´æ–°æµè§ˆå™¨é¡µé¢ï¼Œè¿™ä¸€ç‚¹ä¸204ä¸åŒï¼Œä¾‹å¦‚é‡ç½®è¡¨å•</p><h5 id="Partial-Content"><a href="#Partial-Content" class="headerlink" title="Partial Content"></a>Partial Content</h5><p>æœåŠ¡å™¨æˆåŠŸå¤„ç†éƒ¨åˆ†GETè¯·æ±‚ï¼Œç±»ä¼¼FlashGetæˆ–è€…è¿…é›·è¿™é‡ŒHTTPä¸‹è½½å·¥å…·ï¼Œä½¿ç”¨è¿™ç§å“åº”æ–­ç‚¹ç»­ä¼ æˆ–è€…ä¸‹è½½ï¼Œè¿”å›ä¹‹åè®©ç”¨æˆ·è‡ªè¡Œé€‰æ‹©ä¸‹è½½ä¹‹ç±»çš„è¡Œä¸º</p><h4 id="3xx"><a href="#3xx" class="headerlink" title="3xx"></a>3xx</h4><p>3xxè¿™ç±»çŠ¶æ€ç éœ€è¦å®¢æˆ·ç«¯é‡‡å–è¿›ä¸€æ­¥æ“ä½œï¼Œæ‰èƒ½å®Œæˆè¯·æ±‚ï¼Œä¸€èˆ¬æ˜¯é‡å®šå‘é—®é¢˜ï¼Œå½“ä¸”è¯·æ±‚çš„æ–¹æ³•æ˜¯GETæˆ–è€…HEADæ—¶ï¼Œæµè§ˆå™¨æ‰ä¼šè‡ªåŠ¨æäº¤æ‰§è¡Œåç»­æ“ä½œï¼Œä¸€èˆ¬å°è¯•æ¬¡æ•°ä¸è¶…è¿‡äº”æ¬¡</p><h5 id="301-Moved-Permanently-æ°¸ä¹…é‡å®šå‘"><a href="#301-Moved-Permanently-æ°¸ä¹…é‡å®šå‘" class="headerlink" title="301 Moved Permanently    æ°¸ä¹…é‡å®šå‘"></a>301 Moved Permanently    æ°¸ä¹…é‡å®šå‘</h5><p>è¯·æ±‚èµ„æºå·²ç»æ°¸ä¹…ç§»åŠ¨åˆ°æ–°ä½ç½®ï¼Œè¿”å›çš„æ˜¯æ–°URIåœ¨å“åº”çš„locationåŸŸï¼Œå¦‚æœä¸æ˜¯<code>GET</code>æˆ–<code>HEAD</code>ï¼Œæµè§ˆå™¨å°†ç¦æ­¢é‡å®šå‘</p><h5 id="302-Found-ä¸´æ—¶é‡å®šå‘"><a href="#302-Found-ä¸´æ—¶é‡å®šå‘" class="headerlink" title="302 Found    ä¸´æ—¶é‡å®šå‘"></a>302 Found    ä¸´æ—¶é‡å®šå‘</h5><p>è¯·æ±‚çš„èµ„æºä¸´æ—¶ä»ä¸åŒçš„URLä¸­è¯·æ±‚ï¼Œè¿™æ ·çš„é‡å®šå‘æ˜¯ä¸´æ—¶çš„</p><h5 id="303-See-Other"><a href="#303-See-Other" class="headerlink" title="303 See Other"></a>303 See Other</h5><p>è¯·æ±‚çš„èµ„æºä¸­å­˜åœ¨å¦ä¸€ä¸ªURLï¼Œå°†é‡å®šå‘ä½¿ç”¨GETæ–¹æ³•è·å–ï¼Œä¸302çš„åŒºåˆ«æ˜¯302ä¸ä¼šæ”¹å˜è¯·æ±‚çš„æ–¹æ³•ï¼Œå¯¹äº303ä½¿ç”¨POSTè¯·æ±‚åï¼Œé‡å®šå‘ä¼šè½¬ä¸ºGETæ–¹æ³•</p><h5 id="304-Not-Modified"><a href="#304-Not-Modified" class="headerlink" title="304 Not Modified"></a>304 Not Modified</h5><p>å®¢æˆ·ç«¯å‘é€é™„å¸¦æ¡ä»¶çš„GETè¯·æ±‚åï¼ŒæœåŠ¡å™¨å¤„ç†è€Œè¿”å›çš„æ–‡æ¡£å†…å®¹è‡ªä»ä¸Šæ¬¡è®¿é—®ä¾èµ–æ²¡æœ‰æ”¹å˜ï¼Œåˆ™æœåŠ¡å™¨è¿”å›è¿™ä¸ªçŠ¶æ€ç ï¼Œä¾‹å¦‚åœ¨åå•†ç¼“å­˜çš„æƒ…å†µä¸‹ï¼Œè·å–èµ„æº</p><p><em>æµè§ˆå™¨ç¼“å­˜å¤ä¹ </em></p><p>ğŸ‘‰ï¼š<a href="/2021/02/26/2021/HTTPç¼“å­˜">HTTPç¼“å­˜æœºåˆ¶</a></p><h5 id="307-Temporart-Redirect"><a href="#307-Temporart-Redirect" class="headerlink" title="307 Temporart Redirect"></a>307 Temporart Redirect</h5><p>è¯·æ±‚çš„èµ„æºä¸´æ—¶ä»ä¸åŒURLä¸­å“åº”ï¼Œè¿™æ ·çš„é‡å®šå‘æ˜¯ä¸´æ—¶çš„<br>307ä¸æŒ‡å®šå®¢æˆ·ç«¯ç”¨ä»€ä¹ˆæ ·çš„è¯·æ±‚æ–¹æ³•ï¼Œä¸302ã€303ä¸åŒï¼Œä¸æ”¹å˜æ–¹æ³•</p><h4 id="4xx"><a href="#4xx" class="headerlink" title="4xx"></a>4xx</h4><p>å®¢æˆ·ç«¯å‘ç”Ÿé”™è¯¯</p><h5 id="400-Bad-Request"><a href="#400-Bad-Request" class="headerlink" title="400 Bad Request"></a>400 Bad Request</h5><p>åŒ…å«è¯­æ³•é”™è¯¯ï¼Œå½“å‰è¯·æ±‚æ— æ³•è¢«ç†è§£ï¼Œå®¢æˆ·ç«¯ä¿®æ”¹åå†è¯•</p><h5 id="401-Unauthorized"><a href="#401-Unauthorized" class="headerlink" title="401 Unauthorized"></a>401 Unauthorized</h5><p>éœ€è¦è®¤è¯ï¼Ÿ</p><h5 id="403-Forbidden"><a href="#403-Forbidden" class="headerlink" title="403 Forbidden"></a>403 Forbidden</h5><p>æœåŠ¡å™¨ç†è§£å®¢æˆ·è¯·æ±‚ï¼Œä½†æ‹’ç»å¤„ç†å®ƒï¼Œèµ„æºä¸å¯ç”¨ï¼Œé€šå¸¸æœåŠ¡å™¨ä¸Šæ–‡ä»¶æˆ–è€…ç›®å½•è®¾ç½®å¯¼è‡´ï¼Œä¾‹å¦‚åœ¨nginxè½¬å‘ï¼Œä¸Šæ¬¡æ–‡ä»¶è¶…è¿‡nginxå¤§å°é™åˆ¶æ—¶ã€‚</p><h5 id="404-Not-Found"><a href="#404-Not-Found" class="headerlink" title="404 Not Found"></a>404 Not Found</h5><p>æœåŠ¡å™¨æ‰¾ä¸åˆ°æŒ‡å®šèµ„æºï¼Œé€šå¸¸è¢«ç”¨äºä¸æƒ³é€éœ²æ‹’ç»è¯·æ±‚çš„åŸå› ï¼Œå¯å‚çœ‹403</p><h5 id="405-Method-Not-Allowed"><a href="#405-Method-Not-Allowed" class="headerlink" title="405 Method Not Allowed"></a>405 Method Not Allowed</h5><p>è¯·æ±‚çš„æ–¹æ³•æ— æ³•åŒäºè¯·æ±‚å“åº”çš„èµ„æºï¼Œè¿”å›çš„å“åº”ä¼šæŒ‡æ˜Allowæ¥å—çš„è¯·æ±‚æ–¹æ³•</p><h4 id="5xx"><a href="#5xx" class="headerlink" title="5xx"></a>5xx</h4><p>æœåŠ¡å™¨æœ¬èº«å‡ºé”™ï¼Œæˆ–è€…æ²¡æœ‰è¶³å¤Ÿçš„èƒ½åŠ›æ¥å¤„ç†è¯·æ±‚ï¼Œæœ‰å¼‚å¸¸çŠ¶æ€</p><h5 id="500-Internal-Server-Error"><a href="#500-Internal-Server-Error" class="headerlink" title="500 Internal Server Error"></a>500 Internal Server Error</h5><p>æœåŠ¡å™¨é‡åˆ°æœªæ›¾é¢„æ–™çš„çŠ¶æ€ï¼Œå¯¼è‡´æ— æ³•å®Œæˆè¯·æ±‚å¤„ç†</p><h5 id="501-Not-Implemented"><a href="#501-Not-Implemented" class="headerlink" title="501 Not Implemented"></a>501 Not Implemented</h5><p>æœåŠ¡å™¨ä¸æ”¯æŒå½“å‰è¯·æ±‚æ‰€éœ€è¦çš„åŠŸèƒ½ï¼ŒæœåŠ¡å™¨æ— æ³•è¯†åˆ«è¯·æ±‚çš„æ–¹æ³•</p><h5 id="502-Bad-Gateway"><a href="#502-Bad-Gateway" class="headerlink" title="502 Bad Gateway"></a>502 Bad Gateway</h5><p>ä½œä¸ºç½‘å…³æˆ–è€…ä»£ç†å·¥ä½œçš„æœåŠ¡å™¨å°è¯•æ‰§è¡Œè¯·æ±‚æ—¶ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨æ¥æ”¶åˆ°æ— æ•ˆçš„å“åº”ï¼Œä¹Ÿå°±æ˜¯ä¸­è½¬çš„é‚£ä¸ªæœåŠ¡å™¨æ”¶åˆ°æ›´ä¸Šå±‚æœåŠ¡å™¨çš„æ— æ•ˆå“åº”ï¼Œä¾‹å¦‚åœ¨nginxä»£ç†çš„æ—¶å€™ï¼Œæ–­ç½‘çš„æ—¶å€™ã€‚</p><h5 id="503-Service-Unavailable"><a href="#503-Service-Unavailable" class="headerlink" title="503 Service Unavailable"></a>503 Service Unavailable</h5><p>æœåŠ¡å™¨ä¸´æ—¶ç»´æŠ¤ï¼ŒæœåŠ¡å™¨å½“å‰æ— æ³•å¤„ç†è¯·æ±‚ï¼Œåœ¨ä¸€æ®µæ—¶é—´åæ¢å¤ï¼›</p><h5 id="504-Gateway-Timeout"><a href="#504-Gateway-Timeout" class="headerlink" title="504 Gateway Timeout"></a>504 Gateway Timeout</h5><ol><li>ä½œä¸ºç½‘å…³æˆ–ä»£ç†å·¥ä½œçš„æœåŠ¡å™¨å°è¯•æ‰§è¡Œè¯·æ±‚æ—¶ï¼Œ<strong>æœªèƒ½åŠæ—¶</strong>ä»ä¸Šæ¸¸æœåŠ¡å™¨æ¥æ”¶åˆ°å“åº”ï¼›</li><li><strong>ä¸502çš„åŒºåˆ«</strong>ï¼Œ502å·²ç»å»ºç«‹äº†è¿æ¥ï¼Œä½†è¶…æ—¶ï¼Œ504ä¸åç«¯è¿æ¥æœªå»ºç«‹ï¼Œè¶…æ—¶ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSè®¾è®¡æ¨¡å¼</title>
      <link href="/2020/09/29/2020/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
      <url>/2020/09/29/2020/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h3 id="å‰æ–‡"><a href="#å‰æ–‡" class="headerlink" title="å‰æ–‡"></a>å‰æ–‡</h3><p>æœ¬ç¯‡å°†ä»‹ç»ä»¥ä¸‹å‡ ç§è®¾è®¡æ¨¡å¼ï¼š</p><ol><li>æ„é€ å™¨æ¨¡å¼</li><li>æ¨¡å—åŒ–æ¨¡å¼</li><li>æš´éœ²æ¨¡å—æ¨¡å¼</li><li>å•ä¾‹æ¨¡å¼</li><li>è§‚å¯Ÿè€…æ¨¡å¼</li><li>å‘å¸ƒè®¢é˜…æ¨¡å¼</li><li>ä¸­ä»‹è€…æ¨¡å¼</li><li>åŸå‹æ¨¡å¼</li><li>å‘½ä»¤æ¨¡å¼</li><li>å¤–è§‚æ¨¡å¼</li><li>å·¥å‚æ¨¡å¼</li><li>Mixinæ¨¡å¼</li><li>è£…é¥°æ¨¡å¼</li><li>MVCæ¨¡å¼</li><li>åˆ›å»ºè€…æ¨¡å¼</li></ol><a id="more"></a><p>å¯¹äºJSeræ¥è¯´ï¼Œå¯èƒ½å®é™…å¼€å‘ä¸Šç”¨åˆ°çš„å¯èƒ½ä¼šæ²¡æœ‰é‚£ä¹ˆå¤šï¼Œä½†æ˜¯å­¦å­¦ä¹Ÿä¸é”™ğŸ˜­ï¼Œï¼ˆæœ¬èœå¯èƒ½æ¥è§¦çš„ä¹Ÿä¸è¿‡å‡ ç§ï¼‰ã€‚</p><h4 id="æ„é€ å™¨æ¨¡å¼"><a href="#æ„é€ å™¨æ¨¡å¼" class="headerlink" title="æ„é€ å™¨æ¨¡å¼"></a>æ„é€ å™¨æ¨¡å¼</h4><ol><li>æ„é€ å‡½æ•°ï¼š<br>åœ¨è¿™ä¸ªæ„é€ å™¨å†…éƒ¨ï¼Œå…³é”®å­—thiså¼•ç”¨åˆ°åˆšè¢«åˆ›å»ºçš„å¯¹è±¡ã€‚å›åˆ°å¯¹è±¡åˆ›å»ºï¼Œä¸€ä¸ªåŸºæœ¬çš„æ„é€ å‡½æ•°çœ‹èµ·æ¥åƒè¿™æ ·:</li></ol><pre><code>function Car(model, year, miles) {    this.model = model;    this.year = year;    this.miles = miles;    this.toString = function() {        return `${this.model} + ${this.year} + ${this.miles}`;    }}var civic = new Car( &quot;Honda Civic&quot;, 2009, 20000 );var mondeo = new Car( &quot;Ford Mondeo&quot;, 2010, 5000 );console.log(civic.toString());</code></pre><p>ç¼ºé™·: æ¯ä¸ªå¯¹è±¡éƒ½ä¼šå¸¦ä¸Š <code>toString</code> ä¹‹ç±»çš„å‡½æ•°</p><ol start="2"><li>åŸå‹é“¾ç‰ˆæ„é€ å™¨</li></ol><pre><code>function Car_prop( model, year, miles ) {    this.model = model;    this.year = year;    this.miles = miles;}Car_prop.prototype.toString = function () {    return this.model + &quot; has done &quot; + this.miles + &quot; miles&quot;;};var civic_prop = new Car_prop( &quot;Honda Civic&quot;, 2009, 20000 );var mondeo_prop = new Car_prop( &quot;Ford Mondeo&quot;, 2010, 5000 );console.log(civic_prop.toString());</code></pre><h4 id="æ¨¡å—åŒ–æ¨¡å¼"><a href="#æ¨¡å—åŒ–æ¨¡å¼" class="headerlink" title="æ¨¡å—åŒ–æ¨¡å¼"></a>æ¨¡å—åŒ–æ¨¡å¼</h4><ol><li>æ¨¡å—åŒ–æ¨¡å¼æœ€åˆè¢«å®šä¹‰ä¸ºä¸€ç§å¯¹ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹ä¸­çš„ç±»æä¾›ç§æœ‰å’Œå…¬å…±å°è£…çš„æ–¹æ³•ã€‚</li><li>é€šè¿‡è¿™ç§æ–¹å¼ å¯ä»¥åœ¨å•ä¸€å¯¹è±¡ä¸­åŒ…å«å…¬å…±/ç§æœ‰æ–¹æ³•å’Œå˜é‡</li></ol><pre><code>var testModuleMode = (function() {    var counter = 0;    return {        incrementCounter: function() {            return counter++;        },        resetCounter: function() {            console.log(`reset counter`);            counter = 0;        }    }})();testModule.incrementCounter();testModule.resetCounter();</code></pre><p><em>è¿›é˜¶</em></p><p>åŒ…å«äº†å‘½åæ§ä»¶ï¼Œå…¬å…±å˜é‡ï¼Œç§æœ‰å˜é‡ï¼Œæ½œè—é—­åŒ…çš„å½¢å¼</p><pre><code>var mySpaceName = (function() {    var myPrivateVar = 0;    var myPrivateMethod = function(foo) {        console.log(foo);    }    return {        myPublicVar: &#39;Foo&#39;,        muPubliceMethod: function(bar) {            myPrivateVar++;            myPrivateMethod(bar)        }    }})</code></pre><p>ç¼ºé™·ï¼šå®šä¹‰äº†å…¬å…±/ç§ç”¨æˆå‘˜ ä½†æ˜¯è¦æ”¹çš„æ—¶å€™ å°±å¾—åœ¨æˆå‘˜çš„æ–¹æ³•ä¸Šä¿®æ”¹ä»£ç </p><h4 id="æš´éœ²æ¨¡å—æ¨¡å¼"><a href="#æš´éœ²æ¨¡å—æ¨¡å¼" class="headerlink" title="æš´éœ²æ¨¡å—æ¨¡å¼"></a>æš´éœ²æ¨¡å—æ¨¡å¼</h4><ol><li>æˆ‘ä»¬å¯ä»¥ç®€å•åœ°åœ¨ç§æœ‰åŸŸä¸­å®šä¹‰æˆ‘ä»¬æ‰€æœ‰çš„å‡½æ•°å’Œå˜é‡ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªåŒ¿åå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«æœ‰ä¸€äº›æŒ‡é’ˆï¼Œè¿™äº›æŒ‡é’ˆæŒ‡å‘æˆ‘ä»¬æƒ³è¦æš´éœ²å‡ºæ¥çš„ç§æœ‰æˆå‘˜ï¼Œä½¿è¿™äº›ç§æœ‰æˆå‘˜å…¬æœ‰åŒ–</li><li><p>è¿™ä¸ªæ¨¡å¼å¯ä»¥ç”¨äºå°†ç§æœ‰å‡½æ•°å’Œå±æ€§ä»¥æ›´åŠ è§„èŒƒçš„å‘½åæ–¹å¼å±•ç°å‡ºæ¥ã€‚<br><code>`</code><br>var myRevealingModule = function () {</p><p> var privateVar = â€œBen Cherryâ€,</p><pre><code> publicVar  = &quot;Hey there!&quot;;</code></pre><p> function privateFunction() {</p><pre><code> console.log( &quot;Name:&quot; + privateVar );</code></pre><p> }</p><p> function publicSetName( strName ) {</p><pre><code> privateVar = strName;</code></pre><p> }</p><p> function publicGetName() {</p><pre><code> privateFunction();</code></pre><p> }<br> // Reveal public pointers to<br> // private functions and properties<br> return {</p><pre><code> setName: publicSetName, greeting: publicVar, getName: publicGetName</code></pre><p> };</p></li></ol><p>}();</p><p>myRevealingModule.setName( â€œPaul Kinlanâ€ );</p><pre><code>- ä¼˜åŠ¿: ä½¿è„šæœ¬è¯­æ³•æ›´åŠ ä¸€è‡´ å…¬å…±è®¿é—®æ›´åŠ æ¸…æ™° å¢å¼ºäº†å¯è¯»æ€§- ç¼ºé™·:     1. è¿™ä¸ªæ¨¡å¼çš„ä¸€ä¸ªç¼ºç‚¹æ˜¯å¦‚æœç§æœ‰å‡½æ•°éœ€è¦ä½¿ç”¨å…¬æœ‰å‡½æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªå…¬æœ‰å‡½æ•°åœ¨éœ€è¦æ‰“è¡¥ä¸çš„æ—¶å€™å°±ä¸èƒ½è¢«é‡è½½ã€‚å› ä¸ºç§æœ‰å‡½æ•°ä»ç„¶ä½¿ç”¨çš„æ˜¯ç§æœ‰çš„å®ç°ï¼Œå¹¶ä¸”è¿™ä¸ªæ¨¡å¼ä¸èƒ½ç”¨äºå…¬æœ‰æˆå‘˜ï¼Œåªç”¨äºå‡½æ•°ã€‚    2. å…¬æœ‰æˆå‘˜ä½¿ç”¨ç§æœ‰æˆå‘˜ä¹Ÿéµå¾ªä¸Šé¢ä¸èƒ½æ‰“è¡¥ä¸çš„è§„åˆ™ã€‚å› ä¸ºä¸Šé¢çš„åŸå› ï¼Œä½¿ç”¨æš´éœ²å¼æ¨¡å—æ¨¡å¼åˆ›å»ºçš„æ¨¡å—ç›¸å¯¹äºåŸå§‹çš„æ¨¡å—æ¨¡å¼æ›´å®¹æ˜“å‡ºé—®é¢˜ï¼Œå› æ­¤åœ¨ä½¿ç”¨çš„æ—¶å€™éœ€è¦å°å¿ƒã€‚#### å•ä¾‹æ¨¡å¼- ç‰¹ç‚¹ï¼šå”¯ä¸€ã€å…¨å±€è®¿é—®1. ç®€å•ç‰ˆå•ä¾‹</code></pre><p>let singleton = function(name) {<br>    this.name = name;<br>    this.instance = null;<br>}<br>singleton.prototype.getName = function() {<br>    console.log(this.name);<br>}<br>singleton.getInstance = function(name){<br>    if(this.instace){<br>        return this.instance;<br>    }<br>    return this.instance = new Singleton(name);<br>}<br>let sunner = Singleton.getInstance(â€œsunnerâ€);   //winner<br>console.log(sunner.getName())</p><pre><code>ä¸è¶³ï¼šåˆ›å»ºå¯¹è±¡å’Œå®ä¾‹æ“ä½œè€¦åˆåœ¨ä¸€èµ· ä¸ç¬¦åˆ å•ä¸€èŒè´£2. æ”¹è‰¯ç‰ˆï¼Œä½¿ç”¨é—­åŒ…</code></pre><p>let createSingleton = (function() {<br>    let instance = null;<br>    return function(name) {<br>        this.name = name;<br>        if(instance) {<br>            return instance;<br>        }<br>        return instance = this;<br>    }<br>})();<br>createSingleton.prototype.getName = function(){<br>    console.log(this.name);<br>}<br>let winner = new createSingleton(â€œwinnerâ€);  //winner<br>console.log(winner.getName());</p><pre><code>3. ä»£ç†ç‰ˆå•ä¾‹</code></pre><p>let proxyCreateSingleton = function() {<br>    let instance = null;<br>    return function(name) {<br>        if(instance) { return instance }<br>        return instance = new singleProxy(name);<br>    }<br>}<br>function singleProxy(name) {<br>    this.name = name;<br>}<br>singleProxy.prototype.getName = function() {<br>    console.log(this.name);<br>}<br>let winner_Proxy = new proxyCreateSingleton(â€œwinnerâ€);<br>console.log(winner_Proxy.getName());</p><pre><code>#### è§‚å¯Ÿè€…æ¨¡å¼è¢«è§‚å¯Ÿè€… - è§‚å¯Ÿè€…1. ä¸€ä¸ªæˆ–è€…æ›´å¤šçš„è§‚å¯Ÿè€…å¯¹ä¸€ä¸ªè¢«è§‚å¯Ÿè€…çš„çŠ¶æ€æ„Ÿå…´è¶£ï¼Œå°†è‡ªèº«çš„è¿™ç§å…´è¶£é€šè¿‡é™„ç€è‡ªèº«çš„æ–¹å¼æ³¨å†Œåœ¨è¢«è§‚å¯Ÿè€…èº«ä¸Šï¼›2. å½“è¢«è§‚å¯Ÿè€…å‘ç”Ÿå˜åŒ–ï¼Œè€Œè¿™ç§ä¾¿å¯ä¹Ÿæ˜¯è§‚å¯Ÿè€…æ‰€å…³å¿ƒçš„ï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ªé€šçŸ¥ï¼Œè¿™ä¸ªé€šçŸ¥å°†ä¼šè¢«é€å‡ºå»ï¼Œæœ€åå°†ä¼šè°ƒç”¨æ¯ä¸ªè§‚å¯Ÿè€…çš„æ›´æ–°æ–¹æ³•ï¼›3. å½“è§‚å¯Ÿè€…ä¸åœ¨å¯¹è¢«è§‚å¯Ÿè€…çš„çŠ¶æ€æ„Ÿå…´è¶£çš„æ—¶å€™ï¼Œå®ƒä»¬åªéœ€è¦ç®€å•çš„å°†è‡ªèº«å‰¥ç¦»å³å¯</code></pre><p>/**</p><pre><code>Subject      (notify)-------&gt;      Observer1    |    |------(notify)---------&gt;       Observer2    |    |------(notify)---------&gt;       Observer3</code></pre><p> */</p><pre><code>1. å®ç°ObserList</code></pre><p>function ObserverList(){<br>    this.observerList = [];<br>}<br>ObserverList.prototype.add = function( obj ){<br>    return this.observerList.push( obj );<br>};<br>ObserverList.prototype.count = function(){<br>    return this.observerList.length;<br>};<br>ObserverList.prototype.get = function( index ){<br>    if( index &gt; -1 &amp;&amp; index &lt; this.observerList.length ){<br>        return this.observerList[ index ];<br>    }<br>};<br>ObserverList.prototype.indexOf = function( obj, startIndex ){<br>    var i = startIndex;<br>    while( i &lt; this.observerList.length ){<br>        if( this.observerList[i] === obj ){<br>            return i;<br>        }<br>        i++;<br>    }<br>    return -1;<br>};<br>ObserverList.prototype.removeAt = function( index ){<br>    this.observerList.splice( index, 1 );<br>}</p><pre><code>2. å®ç°Subject</code></pre><p>function Subject(){<br>    this.observers = new ObserverList();<br>}<br>Subject.prototype.addObserver = function( observer ){<br>    this.observers.add( observer );<br>};<br>Subject.prototype.removeObserver = function( observer ){<br>    this.observers.removeAt( this.observers.indexOf( observer, 0 ) );<br>};<br>Subject.prototype.notify = function( context ){<br>    var observerCount = this.observers.count();<br>    for(var i=0; i &lt; observerCount; i++){<br>        this.observers.get(i).update( context );<br>    }<br>}</p><pre><code>3. å®ç°Observer </code></pre><p>function Observer () {<br>    this.update = function () {<br>        // â€¦<br>    }<br>}</p><pre><code>4. test</code></pre><p>var subject = new Subject();</p><p>var observer1 = new Observer();<br>observer1.update = function () {<br>    console.log(â€˜observer1â€™);<br>}<br>var observer2 = new Observer();<br>observer2.update = function () {<br>    console.log(â€˜observer2â€™);<br>}<br>subject.addObserver(observer1);<br>subject.addObserver(observer2);<br>subject.notify();    // è¾“å‡º observer1 observer2</p><pre><code>#### å‘å¸ƒè®¢é˜…æ¨¡å¼1. è§‚å¯Ÿè€…å¯¹è±¡æ˜¯ä¸ªæ¶ˆæ¯å®¹å™¨ æ‹¥æœ‰è®¢é˜… å‘å¸ƒè®¢é˜… å–æ¶ˆè®¢é˜…çš„æ¶ˆæ¯æ–¹æ³•</code></pre><p>var Observe = (function() {<br>    var topics = {}; // å›è°ƒå‡½æ•°å­˜æ”¾çš„æ•°ç»„<br>    return {<br>        subscribe: function(type, fn) {<br>            // å¦‚æœæ­¤æ¶ˆæ¯ä¸å­˜åœ¨åˆ™åˆ›å»º<br>            if (!topics[type]) {<br>                topics[type] = [];<br>            }<br>            // å°†åŠ¨ä½œæ¨å…¥åˆ°è¯¥æ¶ˆæ¯å¯¹åº”çš„åŠ¨ä½œæ‰§è¡Œåºåˆ—ä¸­<br>            topics[type].push(fn);<br>        },<br>        publish: function(type, args) {<br>            // å¦‚æœè¯¥æ¶ˆæ¯æ²¡æœ‰è¢«æ³¨å†Œï¼Œåˆ™è¿”å›<br>            if (!topics[type]) {<br>                return;<br>            }<br>            var self = this;<br>            setTimeout(function () {<br>                var subscribers = topics[type], len = subscribers ? subscribers.length: 0;<br>                for (var i = 0; i &lt; len; i++) {<br>                    // ä¾æ¬¡æ‰§è¡Œæ³¨å†Œçš„æ¶ˆæ¯å¯¹åº”çš„åŠ¨ä½œåºåˆ—<br>                    subscribers[i].call(self, args);<br>                }<br>            }, 0);<br>        },<br>        unsubscribe: function() {<br>            var subscribers = topics[type];<br>            // åˆ¤æ–­æ˜¯å¦å­˜åœ¨<br>            if (subscribers instanceof Array) {<br>                var i = subscribers.length - 1;<br>                for (;i &gt;= 0; iâ€“ ) {<br>                    // å¦‚æœå­˜åœ¨è¯¥åŠ¨ä½œåˆ™åœ¨æ¶ˆæ¯åŠ¨ä½œåºåˆ—ä¸­ç§»é™¤å“åº”åŠ¨ä½œ<br>                    subscribers[i] === fn &amp;&amp; subscribers.splice(i, 1);<br>                }<br>            }<br>        }<br>    }<br>})();</p><pre><code>2. test</code></pre><p>var listener1 = function (data) {<br>    console.log(â€˜listener1:â€™ + data);<br>}<br>var listener2 = function (data) {<br>    console.log(â€˜listener2:â€™ + data);<br>}<br>Observer.subscribe(â€˜example1â€™, listener1);<br>Observer.subscribe(â€˜example1â€™, listener2);</p><p>//å‘å¸ƒé€šçŸ¥<br>Observer.publish(â€˜example1â€™, â€˜hello world!â€™);<br>Observer.publish(â€˜example1â€™, [â€˜testâ€™, â€˜aâ€™, â€˜bâ€™, â€˜câ€™]);<br>// å–æ¶ˆè®¢é˜…<br>Observer.unsubscribe(â€˜example1â€™, listener2);<br>Observer.publish(â€˜example1â€™, â€˜123â€™);</p><pre><code>- è§‚å¯Ÿè€…ä¸å‘å¸ƒè®¢é˜…çš„ä¸åŒ    1. Publish/Subscribe(å‘å¸ƒ/è®¢é˜…)æ¨¡å¼ä½¿ç”¨ä¸€ä¸ªä¸»é¢˜/äº‹ä»¶é€šé“ï¼Œè¿™ä¸ªé€šé“ä»‹äºè®¢é˜…è€…å’Œå‘å¸ƒè€…ä¹‹é—´ï¼›    2. è¯¥è®¾è®¡æ¨¡å¼å…è®¸ä»£ç å®šä¹‰åº”ç”¨ç¨‹åºçš„ç‰¹å®šäº‹ä»¶ï¼Œè¿™äº›äº‹ä»¶å¯ä»¥ä¼ é€’è‡ªå®šä¹‰å‚æ•°ï¼Œè‡ªå®šä¹‰å‚æ•°åŒ…å«è®¢é˜…è€…éœ€è¦çš„ä¿¡æ¯ï¼Œé‡‡ç”¨äº‹ä»¶é€šé“å¯ä»¥é¿å…å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¹‹é—´äº§ç”Ÿä¾èµ–å…³ç³»ï¼›    3. Observer(è§‚å¯Ÿè€…)æ¨¡å¼å…è®¸è§‚å¯Ÿè€…å®ä¾‹å¯¹è±¡(è®¢é˜…è€…)æ‰§è¡Œé€‚å½“çš„äº‹ä»¶å¤„ç†ç¨‹åºæ¥æ³¨å†Œå’Œæ¥æ”¶ç›®æ ‡å®ä¾‹å¯¹è±¡(å‘å¸ƒè€…)å‘å‡ºçš„é€šçŸ¥ï¼ˆå³åœ¨è§‚å¯Ÿè€…å®ä¾‹å¯¹è±¡ä¸Šæ³¨å†Œupdateæ–¹æ³•ï¼‰ã€‚    ä½¿è®¢é˜…è€…å’Œå‘å¸ƒè€…ä¹‹é—´äº§ç”Ÿäº†ä¾èµ–å…³ç³»ï¼Œä¸”æ²¡æœ‰äº‹ä»¶é€šé“ã€‚- ä¼˜ç‚¹: è§£è€¦ @$%@#%- ç¼ºé™·: ç¼ºé™· å…·æœ‰ä¸ç¨³å®šæ€§ å‘å¸ƒè®¢é˜…éƒ½æ˜¯æ— çŠ¶æ€çš„#### ä¸­ä»‹è€…æ¨¡å¼1. å¦‚æœç³»ç»Ÿç»„ä»¶ä¹‹é—´å­˜åœ¨å¤§é‡çš„ç›´æ¥å…³ç³»ï¼Œå°±å¯èƒ½æ˜¯æ—¶å€™ï¼Œä½¿ç”¨ä¸€ä¸ªä¸­å¿ƒçš„æ§åˆ¶ç‚¹ï¼Œæ¥è®©ä¸åŒçš„ç»„ä»¶é€šè¿‡å®ƒæ¥é€šä¿¡ï¼›2. ä¸­ä»‹è€…é€šè¿‡å°†ç»„ä»¶ä¹‹é—´æ˜¾å¼çš„ç›´æ¥çš„å¼•ç”¨æ›¿æ¢æˆé€šè¿‡ä¸­å¿ƒç‚¹æ¥äº¤äº’çš„æ–¹å¼ï¼Œæ¥åšåˆ°æ¾è€¦åˆã€‚è¿™æ ·å¯ä»¥å¸®åŠ©æˆ‘ä»¬è§£è€¦ï¼Œå’Œæ”¹å–„ç»„ä»¶çš„é‡ç”¨æ€§ï¼›3. ä¸­ä»‹è€…æ¨¡å¼ä¸»è¦ç”¨äºä¸€ä¸ªç³»ç»Ÿä¸­å­˜åœ¨å¤§é‡çš„å¯¹è±¡ï¼Œè€Œä¸”è¿™äº›å¤§é‡çš„å¯¹è±¡éœ€è¦äº’ç›¸é€šä¿¡ï¼Œå› ä¸ºä¸¤ä¸ªå¯¹è±¡éœ€è¦é€šä¿¡ï¼Œä¸€ä¸ªå¯¹è±¡å¿…é¡»è¦æŒæœ‰å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´ï¼Œç³»ç»Ÿé‡Œï¼Œæ¯ä¸ªå¯¹è±¡éƒ½äº’ç›¸å¼•ç”¨ï¼Œä¼šå¼•èµ·æ··ä¹±ï¼Œä¸­ä»‹è€…æŠŠæ‰€æœ‰çš„å¯¹è±¡éƒ½ç»Ÿä¸€ç®¡ç†èµ·æ¥ï¼Œå…¶ä»–çš„å¯¹è±¡é€šè¿‡ä¸­ä»‹è€…å»å’Œåˆ«çš„å¯¹è±¡é€šä¿¡ã€‚</code></pre><p>function A(mediator) {<br>    this.mediator = mediator;<br>}<br>A.prototype = {<br>    send: function(msg,receiver) {<br>        this.mediator.send(msg,â€™Aâ€™,receiver);<br>    },<br>    receiveMsg: function(msg,sender) {<br>        console.log(sender+â€ say:â€+msg)<br>    }<br>}<br>function B(mediator) {<br>    this.mediator = mediator;<br>}<br>B.prototype = {<br>    send: function(msg,receiver) {<br>        this.mediator.send(msg,â€™Bâ€™,receiver);<br>    },<br>    receiveMsg: function(msg,sender) {<br>        console.log(sender+â€ say:â€+msg)<br>    }<br>}<br>function Mediator() {<br>    this.A = new A(this);<br>    this.B = new B(this);<br>}<br>Mediator.prototype = {<br>    send: function(msg,sender,receiver) {<br>        try {<br>            this[receiver].receiveMsg(msg,sender);<br>        }<br>        catch(err) {<br>            console.log(â€˜receiver â€˜+receiver+â€™ is not exsitâ€™);<br>            this[sender].receiveMsg(â€˜receiver â€˜+ receiver +â€™ is not exsitâ€™,â€™mediatorâ€™);<br>        }<br>    }<br>}<br>var _mediator = new Mediator();<br>var _a = new A(_mediator);<br>var _b = new B(_mediator);<br>_a.send(â€˜hello i am Aâ€™,â€™Bâ€™);<br>_b.send(â€˜hello i am Bâ€™,â€™Aâ€™);</p><pre><code>- ä¸­ä»‹è€…æ¨¡å¼</code></pre><p>var mediator = (function() {</p><pre><code>var _channels = [],    _subUid = -1function subscribe(channel, handler) {  if(!_channels[channel]) _channels[channel] = []  var token = (++_subUid).toString()  _channels[channel].push({    token: token,    context: this,    handler: handler  })  return token}function publish(channel, data) {  if(!_channels[channel]) return false  var subscribers = _channels[channel]  var len = subscribers.length  while(len--) {    subscribers[len].handler.call(subscribers[len].context, data, channel, subscribers[len].token)  }  return this}function unsubscribe(token) {  for(var channel in _channels) {    var len = _channels[channel].length    for(var index=0; index&lt;len; index++) {      if(_channels[channel][index].token === token) {        _channels[channel].splice(index, 1)        return token      }    }  }}// Moduleæ¨¡å¼å¼•å‡ºreturn {  subscribe: subscribe,  publish: publish,  unsubscribe: unsubscribe,  // ç»‘å®šåˆ°å…¶ä»–å¯¹è±¡ä½¿ç”¨è¯¥è®¾è®¡æ¨¡å¼  installTo: function(obj) {    obj.subscribe = subscribe    obj.publish = publish     obj.unsubscribe = unsubscribe  }}</code></pre><p>})()</p><p>mediator.subscribe(â€˜messageâ€™, function(data, channel, token) {<br>    // true<br>    console.log(this === mediator)<br>    console.log(data)<br>    console.log(channel)<br>    console.log(token)<br>})<br>mediator.publish(â€˜messageâ€™, â€˜hello worldâ€™)</p><pre><code>1. Mediator(ä¸­ä»‹è€…)æ¨¡å¼ï¼šå•ä¸€ç›®æ ‡é€šå¸¸æœ‰å¾ˆå¤šè§‚å¯Ÿè€…ï¼Œæœ‰æ—¶ä¸€ä¸ªç›®æ ‡çš„è§‚å¯Ÿè€…æ˜¯å¦ä¸€ä¸ªè§‚å¯Ÿè€…çš„ç›®æ ‡ã€‚é€šä¿¡å¯ä»¥å®ç°åŒå‘2. Observer(è§‚å¯Ÿè€…)æ¨¡å¼ï¼šä¸å­˜åœ¨å°è£…çº¦æŸçš„å•ä¸€å¯¹è±¡ï¼Œç›®æ ‡å¯¹è±¡å’Œè§‚å¯Ÿè€…å¯¹è±¡å¿…é¡»åˆä½œæ‰èƒ½ç»´æŒçº¦æŸã€‚ è§‚å¯Ÿè€…å¯¹è±¡å‘è®¢é˜…å®ƒä»¬çš„å¯¹è±¡å‘å¸ƒå…¶æ„Ÿå…´è¶£çš„äº‹ä»¶ã€‚é€šä¿¡åªèƒ½æ˜¯å•å‘çš„#### åŸå‹æ¨¡å¼1. åŸå‹æ¨¡å¼å¼•ç”¨ä¸ºé€šè¿‡å…‹éš†çš„æ–¹å¼åŸºäºä¸€ä¸ªç°æœ‰å¯¹è±¡çš„æ¨¡æ¿åˆ›å»ºå¯¹è±¡çš„æ¨¡å¼2. åŸå‹æ¨¡å¼å¯ä»¥è®©å¤šä¸ªæ„é€ å‡½æ•°å¯¹åº”çš„å®ä¾‹å¯¹è±¡å…±äº«åŒä¸€ä¸ªåŸå‹å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•</code></pre><p>var myCar = {<br>    name: â€˜aâ€™,<br>    drive: function() {},<br>    stop: function() {}<br>}<br>var carInstance = Object.create(myCar);<br>console.log(carInstance);</p><pre><code>*è¿›é˜¶*</code></pre><p>var createProto = (function(){<br>    function Fconstructor() {}<br>    return function(_proto) {<br>        Fconstructor.prototype = _proto;<br>        return new Fconstructor();<br>    }<br>})()</p><pre><code>#### å‘½ä»¤æ¨¡å¼1. å‘½ä»¤æ¨¡å¼å°†å‘½ä»¤æ‰§è¡Œè€…å’Œå‘½ä»¤å‘èµ·è€…è§£è€¦ï¼Œæä¾›æ›´å¤§çš„æ•´ä½“çµæ´»æ€§ã€‚2. ç”¨ç±»æ¥åšæ¯”å–»å°±æ˜¯ï¼ŒæŠ½è±¡ç±»ï¼ˆç±»ä¼¼äºå‘½ä»¤å‘èµ·è€…ï¼‰å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œä½†ä¸ä¸ºå®ƒçš„æˆå‘˜å‡½æ•°æä¾›å®ç°ï¼Œä½œä¸ºä¸€ä¸ªåŸºç±»æ´¾ç”Ÿå‡ºå…¶ä»–ç±»ï¼Œæ´¾ç”Ÿç±»ï¼ˆç±»ä¼¼äºå‘½ä»¤æ‰§è¡Œè€…ï¼‰é¦–å…ˆå…·ä½“æ¥å£ã€‚</code></pre><p>var clientCustom = {<br>    name: â€˜aâ€™<br>}<br>var cooker = {<br>    execute: function(food) {<br>        console.log(<code>do! ${food}</code>)<br>    }<br>}</p><p>function commandFunc(receiver, food) {<br>    this.receiver = receiver;<br>    this.food = food;<br>}<br>commandFunc.prototype.execute = function(cooker) {<br>    cooker.execute(this.food);<br>}</p><p>var orderCommand_1 = new commandFunc(clientCustom, â€˜èœ1â€™);<br>orderCommand_1.execute(cooker);</p><pre><code>#### å¤–è§‚æ¨¡å¼1. è¿™ä¸€æ¨¡å¼æä¾›äº†é¢å‘ä¸€ç§æ›´å¤§å‹çš„ä»£ç ä½“æä¾›äº†ä¸€ä¸ªçš„æ›´é«˜çº§åˆ«çš„èˆ’é€‚çš„æ¥å£ï¼Œéšè—äº†å…¶çœŸæ­£çš„æ½œåœ¨å¤æ‚æ€§2. æŠŠè¿™ä¸€æ¨¡å¼æƒ³è±¡æˆè¦æ˜¯å‘ˆç°ç»™å¼€å‘è€…ç®€åŒ–çš„APIï¼Œä¸€äº›æ€»æ˜¯ä¼šæå‡ä½¿ç”¨æ€§èƒ½çš„ä¸œè¥¿</code></pre><p>var module = (function() {<br>    var _private = {<br>        i:5,<br>        get : function() {<br>            console.log( â€œcurrent value:â€ + this.i);<br>        },<br>        set : function( val ) {<br>            this.i = val;<br>        },<br>        run : function() {<br>            console.log( â€œrunningâ€ );<br>        },<br>        jump: function(){<br>            console.log( â€œjumpingâ€ );<br>        }<br>    };<br>    return {<br>        facade : function( args ) {<br>            _private.set(args.val);<br>            _private.get();<br>            if ( args.run ) {<br>                _private.run();<br>            }<br>        }<br>    };<br>}());<br>module.facade( {run: true, val:10} );</p><pre><code></code></pre><p>// ç±»ä¼¼<br>var addMyEvent = function( el,ev,fn ){<br>    if( el.addEventListener ){<br>        el.addEventListener( ev,fn, false );<br>    }else if(el.attachEvent){<br>        el.attachEvent( â€œonâ€ + ev, fn );<br>    } else{<br>        el[â€œonâ€ + ev] = fn;<br>    }<br> };</p><pre><code>*æ›´å¤šæ€è·¯: ç±»ä¼¼äºæ£€æµ‹æµè§ˆå™¨ç‰ˆæœ¬ã€ç±»å‹, è°ƒç”¨ä¸€ä¸ªæ–¹æ³• æ–¹æ³•å†…éƒ¨å†æ‰§è¡Œå„ç§åˆ¤æ–­...*#### å·¥å‚æ¨¡å¼1. å·¥å‚æ¨¡å¼æ˜¯å¦å¤–ä¸€ç§å…³æ³¨å¯¹è±¡åˆ›å»ºæ¦‚å¿µçš„åˆ›å»ºæ¨¡å¼ã€‚å®ƒçš„é¢†åŸŸä¸­åŒå…¶å®ƒæ¨¡å¼çš„ä¸åŒä¹‹å¤„åœ¨äºå®ƒå¹¶æ²¡æœ‰æ˜ç¡®è¦æ±‚æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæ„é€ å™¨ï¼›2. å–è€Œä»£ä¹‹ï¼Œä¸€ä¸ªå·¥å‚èƒ½æä¾›ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„å…¬å…±æ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¶ä¸­æŒ‡å®šæˆ‘ä»¬å¸Œæœ›è¢«åˆ›å»ºçš„å·¥å‚å¯¹è±¡çš„ç±»å‹ï¼›3. è¯•æƒ³ä¸€ä¸‹ï¼Œåœ¨æˆ‘ä»¬è¢«è¦æ±‚åˆ›å»ºä¸€ç§ç±»å‹çš„UIç»„ä»¶æ—¶ï¼Œæˆ‘ä»¬å°±æœ‰ä¸€ä¸ªUIå·¥å‚ã€‚å¹¶ä¸æ˜¯é€šè¿‡ç›´æ¥ä½¿ç”¨newæ“ä½œç¬¦æˆ–è€…é€šè¿‡å¦å¤–ä¸€ä¸ªæ„é€ å™¨æ¥åˆ›å»ºè¿™ä¸ªç»„ä»¶ï¼Œæˆ‘ä»¬å–è€Œä»£ä¹‹çš„å‘ä¸€ä¸ªå·¥å‚å¯¹è±¡ç´¢è¦ä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼›4. æˆ‘ä»¬å‘ŠçŸ¥å·¥å‚æˆ‘ä»¬éœ€è¦ä»€ä¹ˆç±»å‹çš„ç»„ä»¶ï¼ˆä¾‹å¦‚ï¼šâ€œæŒ‰é’®â€ï¼Œâ€œé¢æ¿â€ï¼‰ï¼Œè€Œå®ƒä¼šå°†å…¶åˆå§‹åŒ–ï¼Œç„¶åè¿”å›ä¾›æˆ‘ä»¬ä½¿ç”¨ã€‚</code></pre><p>function Car(options) {<br>    this.doors = options.doors || 4;<br>    this.state = options.state || â€œbrand newâ€;<br>    this.color = options.color || â€œsilverâ€;<br>}<br>function Trunk(options) {<br>    this.state = options.state || â€œusedâ€;<br>    this.wheelSize = options.wheelSize || â€œlargeâ€;<br>    this.color = options.color || â€œblueâ€;<br>}<br>function VehicleFactory() {<br>    this.vehicleClass = Car;<br>}<br>VehicleFactory.prototype.createVehicle = function(options) {<br>    if(options.type === â€˜carâ€™) {<br>        this.vehicleClass.vehicleClass = Car;<br>    } else {<br>        this.vehicleClass.vehicleClass = Trunk;<br>    }<br>    return new this.vehicleClass(options);<br>}<br>var carFctory = new VehicleFactory();<br>var car = carFactory.createVehicle( {<br>    type: â€œcarâ€,<br>    color: â€œyellowâ€,<br>    doors: 6 }<br>);<br>// Outputs: true<br>console.log( car instanceof Car );<br>// Outputs: Car object of color â€œyellowâ€, doors: 6 in a â€œbrand newâ€ state<br>console.log( car );</p><pre><code>*ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ï¼Ÿ*1. å½“æˆ‘ä»¬çš„å¯¹è±¡æˆ–è€…ç»„ä»¶è®¾ç½®æ¶‰åŠåˆ°é«˜ç¨‹åº¦çº§åˆ«çš„å¤æ‚åº¦æ—¶ï¼›2. å½“æˆ‘ä»¬éœ€è¦æ ¹æ®æˆ‘ä»¬æ‰€åœ¨çš„ç¯å¢ƒæ–¹ä¾¿çš„ç”Ÿæˆä¸åŒå¯¹è±¡çš„å®ä½“æ—¶ï¼›3. å½“æˆ‘ä»¬åœ¨è®¸å¤šå…±äº«åŒä¸€ä¸ªå±æ€§çš„è®¸å¤šå°å‹å¯¹è±¡æˆ–ç»„ä»¶ä¸Šå·¥ä½œæ—¶ï¼›4. å½“å¸¦æœ‰å…¶å®ƒä»…ä»…éœ€è¦æ»¡è¶³ä¸€ç§APIçº¦å®š(åˆåé¸­å¼ç±»å‹)çš„å¯¹è±¡çš„ç»„åˆå¯¹è±¡å·¥ä½œæ—¶.è¿™å¯¹äºè§£è€¦æ¥è¯´æ˜¯æœ‰ç”¨çš„ã€‚#### Mixinæ¨¡å¼1. å­ç±»åˆ’åˆ†æ˜¯ä¸€ä¸ªå‚è€ƒäº†ä¸ºä¸€ä¸ªæ–°å¯¹è±¡ç»§æ‰¿æ¥è‡ªä¸€ä¸ªåŸºç±»æˆ–è€…è¶…ç±»å¯¹è±¡çš„å±æ€§çš„æœ¯è¯­.åœ¨ä¼ ç»Ÿçš„é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­,ç±»Bèƒ½å¤Ÿä»å¦å¤–ä¸€ä¸ªç±»Aå¤„æ‰©å±•ã€‚2. è¿™é‡Œæˆ‘ä»¬å°†Açœ‹åšæ˜¯è¶…ç±»,è€Œå°†Bçœ‹åšæ˜¯Açš„å­ç±».å¦‚æ­¤,æ‰€æœ‰Bçš„å®ä½“éƒ½ä»Aå¤„ç»§æ‰¿äº†å…¶Açš„æ–¹æ³•.ç„¶è€ŒBä»ç„¶èƒ½å¤Ÿå®šä¹‰å®ƒè‡ªå·±çš„æ–¹æ³•,åŒ…æ‹¬é‚£äº›é‡è½½çš„åŸæœ¬åœ¨Aä¸­çš„å®šä¹‰çš„æ–¹æ³•ã€‚3. Bæ˜¯å¦åº”è¯¥è°ƒç”¨å·²ç»è¢«é‡è½½çš„Aä¸­çš„æ–¹æ³•,æˆ‘ä»¬å°†è¿™ä¸ªå¼•è¿°ä¸ºæ–¹æ³•é“¾.Bæ˜¯å¦åº”è¯¥è°ƒç”¨A(è¶…ç±»)çš„æ„é€ å™¨,æˆ‘ä»¬å°†è¿™ç§°ä¸ºæ„é€ å™¨é“¾ã€‚</code></pre><p>var Person =  function( firstName , lastName ){<br>    this.firstName = firstName;<br>    this.lastName =  lastName;<br>    this.gender = â€œmaleâ€;<br>};</p><p>var clark = new Person( â€œClarkâ€ , â€œKentâ€ );<br>var Superhero = function( firstName, lastName , powers ){<br>    Person.call( this, firstName, lastName );<br>    this.powers = powers;<br>};<br>SuperHero.prototype = Object.create( Person.prototype );<br>var superman = new Superhero( â€œClarkâ€ ,â€Kentâ€ , [â€œflightâ€,â€heat-visionâ€] );<br>console.log( superman );</p><pre><code>*è¿›é˜¶*</code></pre><p>// Define a simple Car constructor<br>var Car = function ( settings ) {<br>    this.model = settings.model || â€œno model providedâ€;<br>    this.color = settings.color || â€œno colour providedâ€;<br>};<br>var Mixin = function () {};<br>Mixin.prototype = {<br>    driveForward: function () {<br>        console.log( â€œdrive forwardâ€ );<br>    },<br>    driveBackward: function () {<br>        console.log( â€œdrive backwardâ€ );<br>    },<br>    driveSideways: function () {<br>        console.log( â€œdrive sidewaysâ€ );<br>    }<br>};<br>function augment( receivingClass, givingClass ) {<br>    // only provide certain methods<br>    if ( arguments[2] ) {<br>        for ( var i = 2, len = arguments.length; i &lt; len; i++ ) {<br>            receivingClass.prototype[arguments[i]] = givingClass.prototype[arguments[i]];<br>        }<br>    }<br>    // provide all methods<br>    else {<br>        for ( var methodName in givingClass.prototype ) {<br>            if ( !Object.hasOwnProperty(receivingClass.prototype, methodName) ) {<br>                receivingClass.prototype[methodName] = givingClass.prototype[methodName];<br>            }<br>        }<br>    }<br>}<br>// extend<br>augment( Car, Mixin, â€œdriveForwardâ€, â€œdriveBackwardâ€ );<br>var myCar = new Car({<br>    model: â€œFord Escortâ€,<br>    color: â€œblueâ€<br>});<br>myCar.driveForward();<br>myCar.driveBackward();</p><p>// extend<br>augment( Car, Mixin );<br>var mySportsCar = new Car({<br>    model: â€œPorscheâ€,<br>    color: â€œredâ€<br>});<br>mySportsCar.driveSideways();</p><pre><code>#### è£…é¥°æ¨¡å¼1. è£…é¥°å™¨æ¨¡å¼å¹¶ä¸å»æ·±å…¥ä¾èµ–äºå¯¹è±¡æ˜¯å¦‚ä½•åˆ›å»ºçš„ï¼Œè€Œæ˜¯ä¸“æ³¨äºæ‰©å±•å®ƒä»¬çš„åŠŸèƒ½è¿™ä¸€é—®é¢˜ä¸Šã€‚ä¸åŒäºåªä¾èµ–äºåŸå‹ç»§æ‰¿ï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªç®€å•çš„åŸºç¡€å¯¹è±¡ä¸Šé¢é€æ­¥æ·»åŠ èƒ½å¤Ÿæä¾›é™„åŠ åŠŸèƒ½çš„è£…é¥°å¯¹è±¡ã€‚2. å®ƒçš„æƒ³æ³•æ˜¯ï¼Œä¸åŒäºå­ç±»åˆ’åˆ†ï¼Œæˆ‘ä»¬å‘ä¸€ä¸ªåŸºç¡€å¯¹è±¡æ·»åŠ ï¼ˆè£…é¥°ï¼‰å±æ€§æˆ–è€…æ–¹æ³•ï¼Œå› æ­¤å®ƒä¼šæ˜¯æ›´åŠ è½»å·§çš„ã€‚</code></pre><p>function vehicle(type) {<br>    this.vehicleType = vehicleType || â€œcarâ€;<br>    this.model = â€œdefaultâ€;<br>    this.license = â€œ00000-000â€;<br>}<br>var veInstance = new vehicle(â€˜carâ€™);</p><p>var trunk = new vehicle(â€˜trunkâ€™);<br>// add<br>trunk.setModel = function( modelName ){<br>    this.model = modelName;<br>};<br>truck.setColor = function( color ){<br>    this.color = color;<br>};</p><pre><code>*è¿›é˜¶*</code></pre><p>// The constructor to decorate<br>function MacBook() {<br>    this.cost = function () { return 997; };<br>    this.screenSize = function () { return 11.6; };<br>}</p><p>// Decorator 1<br>function Memory( macbook ) {<br>    var v = macbook.cost();<br>    macbook.cost = function() {<br>      return v + 75;<br>    };<br>}<br>// Decorator 2<br>function Engraving( macbook ){<br>    var v = macbook.cost();<br>    macbook.cost = function(){<br>        return  v + 200;<br>    };<br>}<br>// Decorator 3<br>function Insurance( macbook ){<br>    var v = macbook.cost();<br>    macbook.cost = function(){<br>        return  v + 250;<br>    };<br>}<br>var mb = new MacBook();<br>Memory( mb );<br>Engraving( mb );<br>Insurance( mb );</p><p>// Outputs: 1522<br>console.log( mb.cost() );</p><p>// Outputs: 11.6<br>console.log( mb.screenSize() );</p><pre><code>1. æˆ‘ä»¬çš„è£…é¥°å™¨é‡è½½äº†è¶…ç±»å¯¹è±¡MacBook()çš„ object.cost()å‡½æ•°ï¼Œä½¿å…¶è¿”å›çš„Macbookçš„å½“å‰ä»·æ ¼åŠ ä¸Šäº†è¢«å®šåˆ¶åå‡çº§çš„ä»·æ ¼ï¼›2. è¿™è¢«çœ‹åšæ˜¯å¯¹åŸæ¥çš„Macbookå¯¹è±¡æ„é€ å™¨æ–¹æ³•çš„è£…é¥°ï¼Œå®ƒå¹¶æ²¡æœ‰å°†å…¶é‡å†™ï¼ˆä¾‹å¦‚ï¼ŒscreenSize())ï¼Œæˆ‘ä»¬æ‰€å®šä¹‰çš„Macbookçš„å…¶å®ƒå±æ€§ä¹Ÿä¿æŒä¸å˜ï¼Œå®Œå¥½æ— ç¼ºã€‚</code></pre><p>var decorator = function(dom, fn) {<br>    if(typeof dom.onclick === â€˜functionâ€™ ){<br>        var origin = dom.onclick;<br>        dom.onclick = function(event) {<br>            origin.call(dom, event); // åŸäº‹ä»¶<br>            fn.call(dom, event); // è£…é¥°<br>        }<br>    } else {<br>        dom.onclick = fn;<br>    }<br>}</p><pre><code>#### åˆ›å»ºè€…æ¨¡å¼1. å·¥å‚æ¨¡å¼å¯æœ‰æ•ˆçš„åˆ›å»ºå¯å¤ç”¨çš„å®ä¾‹å¯¹è±¡ï¼Œå…³å¿ƒçš„æ˜¯æœ€ç»ˆåˆ›å»ºçš„å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Œä¸å…³å¿ƒåˆ›å»ºçš„è¿‡ç¨‹ï¼Œå› æ­¤é€šè¿‡å·¥å‚æ¨¡å¼å¾—åˆ°çš„éƒ½æ˜¯å¯¹è±¡å®ä¾‹æˆ–è€…ç±»ç°‡ã€‚2. å»ºé€ è€…æ¨¡å¼ç›¸å¯¹æ¯”å·¥å‚æ¨¡å¼å¤æ‚ä¸€äº›ï¼Œå…³å¿ƒçš„æ˜¯åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹</code></pre><p>function Person(name, age) {<br>    this.name = name;<br>    this.age = age;<br>}<br>Person.prototype.getName = function() {<br>    return this.name<br>}<br>Person.prototype.getAge = function() {<br>    return this.age<br>}<br>function Job(job) {<br>    switch(job) {<br>      case â€˜teacherâ€™:<br>        this.job = â€˜æ•™å¸ˆâ€™<br>        this.jobDesc = â€˜æ•°å­¦æ•™å¸ˆâ€™<br>        break<br>      case â€˜doctorâ€™:<br>        this.job = â€˜åŒ»ç”Ÿâ€™<br>        this.jobDesc = â€˜éª¨ç§‘åŒ»ç”Ÿâ€™<br>        break<br>      case â€˜coderâ€™:<br>        this.job = â€˜ç¨‹åºå‘˜â€™<br>        this.jobDesc = â€˜Webå‰ç«¯ç¨‹åºå‘˜â€™<br>        break<br>      default:<br>        this.job = job<br>        this.jobDesc = â€˜ä¸æ¸…æ¥šæ‚¨çš„èŒä½çš„ç›¸å…³æè¿°â€™<br>        break<br>    }<br>}<br>Job.prototype.changeJobDesc = function(desc) {<br>    this.jobDesc = desc<br>}<br>Job.prototype.changeJob = function(job) {<br>    return this.job = job<br>}<br>function Hobby(hobby) {<br>    this.hobby = []<br>    this.hobby.push(hobby)<br>}<br>Hobby.prototype.addHobby = function(hobby) {<br>    this.hobby.concat(hobby)<br>}<br>Hobby.prototype.getHobby = function() {<br>    return this.hobby.split(â€˜,â€™)<br>}<br>function Skill(skill) {<br>    this.skill = []<br>    this.skill.push(skill)<br>}<br>function Resume(name, age) {<br>    this.person = new Person(name, age)<br>    this.person.job = new Job()<br>    this.person.hobby = new Hobby()<br>    this.person.skill = new Skill()<br>}<br>let resume = new Resume(â€˜ziyi2â€™, 28)<br>console.log(resume)</p><p><code>`</code></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSæ¨¡å—åŒ–æ¼”è¿›</title>
      <link href="/2020/09/28/2020/JS%E6%A8%A1%E5%9D%97%E5%8C%96%E6%BC%94%E8%BF%9B/"/>
      <url>/2020/09/28/2020/JS%E6%A8%A1%E5%9D%97%E5%8C%96%E6%BC%94%E8%BF%9B/</url>
      
        <content type="html"><![CDATA[<h4 id="IIFE"><a href="#IIFE" class="headerlink" title="IIFE"></a>IIFE</h4><pre><code>;(function(root) {    var api = &#39;url&#39;;    var config = {        obj: &#39;x&#39;    };    root.config = config;    root.api = api;})(window)// æ§åˆ¶å…¨å±€å˜é‡æ•°é‡</code></pre><a id="more"></a><h4 id="commonJS"><a href="#commonJS" class="headerlink" title="commonJS"></a>commonJS</h4><ul><li>æ¨¡å—çš„æ ‡è¯†åº”éµå¾ªçš„è§„åˆ™</li><li>å®šä¹‰å…¨å±€å‡½æ•°requireï¼Œé€šè¿‡ä¼ å…¥æ¨¡å—æ ‡è¯†æ¥å¼•å…¥å…¶ä»–æ¨¡å—ï¼Œæ‰§è¡Œçš„ç»“æœå³ä¸ºåˆ«çš„æ¨¡å—æš´æ¼å‡ºæ¥çš„API</li><li>å¦‚æœè¢«requireå‡½æ•°å¼•å…¥çš„æ¨¡å—ä¸­ä¹ŸåŒ…å«ä¾èµ–ï¼Œé‚£ä¹ˆä¾æ¬¡åŠ è½½è¿™äº›ä¾èµ–</li><li>å¦‚æœå¼•å…¥æ¨¡å—å¤±è´¥ï¼Œé‚£ä¹ˆrequireå‡½æ•°åº”è¯¥æŠ¥ä¸€ä¸ªå¼‚å¸¸</li><li>æ¨¡å—é€šè¿‡å˜é‡exportsæ¥å‘å¾€æš´æ¼APIï¼Œexportsåªèƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæš´æ¼çš„APIé¡»ä½œä¸ºæ­¤å¯¹è±¡çš„å±æ€§</li></ul><p>èµ·åˆç”¨äºæœåŠ¡ç«¯, åæ¥è€ƒè™‘åˆ°æµè§ˆå™¨ä½¿ç”¨, requireéœ€è¦æ”¯æŒæµè§ˆå™¨å‘é€è¯·æ±‚è¯»å–æ¨¡å—</p><pre><code>// math.jsexports.add = function(a) {    return a + 1;}</code></pre><pre><code>// increment.jsvar add = require(&#39;math&#39;).add;exports.inc = function(e) {    return add(e) + 1;}</code></pre><pre><code>// pro.jsvar incr = require(&#39;increment&#39;).inc;var q = 1;incr(q);</code></pre><p>åæ¥æœ‰æ‰€è¡ç”Ÿâ€¦</p><p>Async 2.xæ´¾</p><ol><li>æ—¢ç„¶æµè§ˆå™¨å¿…é¡»å¼‚æ­¥åŠ è½½ä»£ç ï¼Œé‚£ä¹ˆæ¨¡å—åœ¨å®šä¹‰çš„æ—¶å€™å°±å¿…é¡»æŒ‡æ˜æ‰€ä¾èµ–çš„æ¨¡å—ï¼Œç„¶åæŠŠæœ¬æ¨¡å—çš„ä»£ç å†™åœ¨å›è°ƒå‡½æ•°é‡Œã€‚</li><li>æ¨¡å—çš„åŠ è½½ä¹Ÿæ˜¯é€šè¿‡ä¸‹è½½-å›è°ƒè¿™æ ·çš„è¿‡ç¨‹æ¥è¿›è¡Œã€‚</li><li>è¿™å°±æˆä¸ºäº†AMD</li></ol><h4 id="AMD"><a href="#AMD" class="headerlink" title="AMD"></a>AMD</h4><p>AMD / RequireJSå¼‚å†›çªèµ·</p><ol><li>ç”¨å…¨å±€å‡½æ•°defineæ¥å®šä¹‰æ¨¡å—ï¼Œç”¨æ³•ä¸ºï¼šdefine(id?, dependencies?, factory)</li><li>idä¸ºæ¨¡å—æ ‡è¯†ï¼Œéµä»CommonJS Module Identifiersè§„èŒƒ</li><li>dependenciesä¸ºä¾èµ–çš„æ¨¡å—æ•°ç»„ï¼Œåœ¨factoryä¸­éœ€ä¼ å…¥å½¢å‚ä¸ä¹‹ä¸€ä¸€å¯¹åº”</li><li>å¦‚æœdependenciesçš„å€¼ä¸­æœ‰â€requireâ€ã€â€exportsâ€æˆ–â€moduleâ€ï¼Œåˆ™ä¸commonjsä¸­çš„å®ç°ä¿æŒä¸€è‡´</li><li>å¦‚æœdependenciesçœç•¥ä¸å†™ï¼Œåˆ™é»˜è®¤ä¸º[â€œrequireâ€, â€œexportsâ€, â€œmoduleâ€]ï¼Œfactoryä¸­ä¹Ÿä¼šé»˜è®¤ä¼ å…¥require,exports,module</li><li>å¦‚æœfactoryä¸ºå‡½æ•°ï¼Œæ¨¡å—å¯¹å¤–æš´æ¼APIçš„æ–¹æ³•æœ‰ä¸‰ç§ï¼šreturnä»»æ„ç±»å‹çš„æ•°æ®ã€exports.xxx=xxxã€module.exports=xxx</li></ol><pre><code>// a.jsdefine(function() {    console.log(&#39;a&#39;);    return {        hello: function() {            console.log(&#39;Hello a.js&#39;);        }    }});</code></pre><pre><code>// b.jsdefine(function() {    console.log(&#39;b&#39;);    return {        hello: function() {            console.log(&#39;Hello b.js&#39;);        }    }});</code></pre><pre><code>// main.jsrequire([&#39;a&#39;, &#39;b&#39;], function(a, b) {    console.log(&#39;main&#39;);    a.hello();    $(&#39;#b&#39;).click(function(){        b.hello();   });});</code></pre><p><em>è¿è¡Œç»“æœæ˜¯?</em></p><p>a.jsæ‰§è¡Œ - b.jsæ‰§è¡Œ - main.jsæ‰§è¡Œ - hello, a.js - (ç‚¹å‡»æŒ‰é’®å)hello, b.js</p><p>ä½†æ˜¯å¦‚æœç»†ç»†æ¥çœ‹ï¼Œb.jsè¢«é¢„å…ˆåŠ è½½å¹¶ä¸”é¢„å…ˆæ‰§è¡Œäº†ï¼Œï¼ˆç¬¬äºŒè¡Œè¾“å‡ºï¼‰ï¼Œb.helloè¿™ä¸ªæ–¹æ³•æ˜¯åœ¨ç‚¹å‡»äº†æŒ‰é’®ä¹‹åæ‰ä¼šæ‰§è¡Œï¼Œå¦‚æœç”¨æˆ·å‹æ ¹å°±æ²¡ç‚¹ï¼Œé‚£ä¹ˆb.jsä¸­çš„ä»£ç åº”ä¸åº”è¯¥æ‰§è¡Œå‘¢ ?</p><p>è¿™å°±é€ æˆäº†ä¸€äº›é—®é¢˜</p><ol><li>å¦‚æœä¾èµ–æ¨¡å—è¿‡å¤š, ä¼šæŠŠæ‰€ä»¥æ¨¡å—éƒ½å¼•å…¥å¹¶æ‰§è¡Œäº†ã€‚</li><li>å¦å¤–ä¸€ç‚¹: å¼•å…¥è¿‡é•¿, require([â€˜aâ€™, â€˜bâ€™, â€˜câ€™, â€¦], function(a, b, c, â€¦) {})</li></ol><ul><li>æ‡’åŠ è½½ï¼Œ ä¼šå¼•èµ·æ“ä½œæ—¶å¼•å…¥çš„å¡é¡¿</li></ul><pre><code>define(function(require) {    require([&#39;a&#39;], function(a) {        a.hello();    })    $(&#39;#b&#39;).click(function () {        require([&#39;b&#39;], function(b) {b.hello();});    })})</code></pre><ul><li>åæ¥AMDåšäº†å…¼å®¹<pre><code>define(function(require) {  var a = require(&#39;a&#39;);  var test = function () {      a.hello()  }  return {      a: test  }})</code></pre></li></ul><p>ç”±äºAMDæœ‰ç§ç§é—®é¢˜, è€Œåˆ«çš„è§„èŒƒä¹Ÿå› æ­¤è¡ç”Ÿ, CMD / seajs </p><h4 id="CMD"><a href="#CMD" class="headerlink" title="CMD"></a>CMD</h4><pre><code>define(function(require, exports, module) {    // é€šè¿‡ require å¼•å…¥ä¾èµ–    var $ = require(&#39;jquery&#39;);    var spining = require(&#39;./spining&#39;);    exports.doSomething = function() {}; // é€šè¿‡exports å¯¹å¤–æä¾›Api    module.exports = spining; // é€šè¿‡module.exports æä¾›æ¥å£})</code></pre><h4 id="ES6æ¨¡å—"><a href="#ES6æ¨¡å—" class="headerlink" title="ES6æ¨¡å—"></a>ES6æ¨¡å—</h4><p>2015å¹´6æœˆï¼ŒECMAScript2015ä¹Ÿå°±æ˜¯ES6å‘å¸ƒäº†ï¼ŒJavaScriptç»ˆäºåœ¨è¯­è¨€æ ‡å‡†çš„å±‚é¢ä¸Šï¼Œå®ç°äº†æ¨¡å—åŠŸèƒ½ã€‚<br>ä½¿å¾—åœ¨ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œä»¥åŠå…¶è¾“å…¥å’Œè¾“å‡ºçš„å˜é‡ï¼Œä¸åƒ CommonJSã€AMDä¹‹ç±»çš„éœ€è¦åœ¨è¿è¡Œæ—¶æ‰èƒ½ç¡®å®šï¼ˆä¾‹å¦‚FISè¿™æ ·çš„å·¥å…·åªèƒ½é¢„å¤„ç†ä¾èµ–å…³ç³»ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯è¿è¡Œæ—¶è§£æï¼‰ï¼Œæˆä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨é€šç”¨çš„æ¨¡å—è§£å†³æ–¹æ¡ˆ</p><pre><code>// a.jsconst helloInLang = {    en: &#39;Hello world!&#39;,    es: &#39;Â¡Hola mundo!&#39;,    ru: &#39;ĞŸÑ€Ğ¸Ğ²ĞµÑ‚ Ğ¼Ğ¸Ñ€!&#39;};export const getHello = (lang) =&gt; (    helloInLang[lang]);export const sayHello = (lang) =&gt; {    console.log(getHello(lang));};</code></pre><pre><code>// hello.jsimport { sayHello } from &#39;./a&#39;;sayHello(&#39;ru&#39;);</code></pre><h4 id="Q"><a href="#Q" class="headerlink" title="Q?"></a>Q?</h4><p>Q1ï¼š<br>æˆ‘ä»¬åœ¨çœ‹ node ä»£ç æ—¶ï¼Œåº”è¯¥ä¼šå‘ç°ï¼Œå…³äºæ¥å£å¯¼å‡ºï¼Œæœ‰çš„åœ°æ–¹ä½¿ç”¨module.exportsï¼Œè€Œæœ‰çš„åœ°æ–¹ä½¿ç”¨exportsï¼Œè¿™ä¸¤ä¸ªæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢?</p><pre><code>var module = {    exports: {}}var exports = module.exports;console.log(module.exports === exports); // truevar s = &#39;i am ronffy&#39;exports = s; // module.exports ä¸å—å½±å“console.log(module.exports === exports); // false</code></pre><p>æ¨¡å—åˆå§‹åŒ–æ—¶ï¼Œexportså’Œmodule.exportsæŒ‡å‘åŒä¸€å—å†…å­˜ï¼Œexportsè¢«é‡æ–°èµ‹å€¼åï¼Œå°±åˆ‡æ–­äº†è·ŸåŸå†…å­˜åœ°å€çš„å…³ç³»ã€‚<br>æ‰€ä»¥ï¼Œexportsè¦è¿™æ ·ä½¿ç”¨ï¼š</p><pre><code>exports.s = &#39;i am ronffy&#39;;</code></pre><pre><code>var a = require(&#39;./a.js&#39;);console.log(a.s); // i am ronffy</code></pre><p>Q2ï¼š</p><ul><li>CommonJSä¸AMD, CommonJS å’Œ AMD éƒ½æ˜¯   <strong><em> è¿è¡Œæ—¶åŠ è½½ </em></strong></li><li>CommonJS æ˜¯æœåŠ¡å™¨ç«¯æ¨¡å—è§„èŒƒï¼ŒAMD æ˜¯æµè§ˆå™¨ç«¯æ¨¡å—è§„èŒƒã€‚</li><li>CommonJS åŠ è½½æ¨¡å—æ˜¯åŒæ­¥çš„ï¼Œå³æ‰§è¡Œvar a = require(â€˜./a.jsâ€™);æ—¶ï¼Œåœ¨ a.js æ–‡ä»¶åŠ è½½å®Œæˆåï¼Œæ‰æ‰§è¡Œåé¢çš„ä»£ç ã€‚AMD åŠ è½½æ¨¡å—æ˜¯å¼‚æ­¥çš„ï¼Œæ‰€æœ‰ä¾èµ–åŠ è½½å®Œæˆåä»¥å›è°ƒå‡½æ•°çš„å½¢å¼æ‰§è¡Œä»£ç ã€‚</li><li>[å¦‚ä¸‹ä»£ç ]fså’Œchalkéƒ½æ˜¯æ¨¡å—ï¼Œä¸åŒçš„æ˜¯ï¼Œfsæ˜¯ node å†…ç½®æ¨¡å—ï¼Œchalkæ˜¯ä¸€ä¸ª npm åŒ…ã€‚è¿™ä¸¤ç§æƒ…å†µåœ¨ CommonJS ä¸­æ‰æœ‰ï¼ŒAMD ä¸æ”¯æŒ</li></ul><p>Q3ï¼š<br>åœ¨ES6ä¸­ï¼Œimportå‘½ä»¤å¯ä»¥å…·ä½“æŒ‡å®šåŠ è½½æ¨¡å—ä¸­ç”¨exportå‘½ä»¤æš´éœ²çš„æ¥å£ï¼ˆä¸æŒ‡å®šå…·ä½“çš„æ¥å£ï¼Œé»˜è®¤åŠ è½½export defaultï¼‰ï¼Œæ²¡æœ‰æŒ‡å®šçš„æ˜¯ä¸ä¼šåŠ è½½çš„ã€‚<br>å› æ­¤ä¼šåœ¨ç¼–è¯‘æ—¶å°±å®Œæˆæ¨¡å—çš„åŠ è½½ï¼Œè¿™ç§åŠ è½½æ–¹å¼ç§°ä¸ºç¼–è¯‘æ—¶åŠ è½½æˆ–è€…é™æ€åŠ è½½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åƒåœ¾å›æ”¶æœºåˆ¶</title>
      <link href="/2020/09/23/2020/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6/"/>
      <url>/2020/09/23/2020/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6/</url>
      
        <content type="html"><![CDATA[<p>ğŸ‘‰ï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Memory_Management" target="_blank" rel="noopener">MDN-å†…å­˜ç®¡ç†</a></p><h4 id="å¼•ç”¨è®¡æ•°"><a href="#å¼•ç”¨è®¡æ•°" class="headerlink" title="å¼•ç”¨è®¡æ•°"></a>å¼•ç”¨è®¡æ•°</h4><p>åƒåœ¾å›æ”¶ç®—æ³•ä¸»è¦ä¾èµ–äºå¼•ç”¨çš„æ¦‚å¿µã€‚åœ¨å†…å­˜ç®¡ç†çš„ç¯å¢ƒä¸­ï¼Œä¸€ä¸ªå¯¹è±¡å¦‚æœæœ‰è®¿é—®å¦ä¸€ä¸ªå¯¹è±¡çš„æƒé™ï¼ˆéšå¼æˆ–è€…æ˜¾å¼ï¼‰ï¼Œå«åšä¸€ä¸ªå¯¹è±¡å¼•ç”¨å¦ä¸€ä¸ªå¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªJavascriptå¯¹è±¡å…·æœ‰å¯¹å®ƒåŸå‹çš„å¼•ç”¨ï¼ˆéšå¼å¼•ç”¨ï¼‰å’Œå¯¹å®ƒå±æ€§çš„å¼•ç”¨ï¼ˆæ˜¾å¼å¼•ç”¨ï¼‰ã€‚</p><a id="more"></a><p>åœ¨è¿™é‡Œï¼Œâ€œå¯¹è±¡â€çš„æ¦‚å¿µä¸ä»…ç‰¹æŒ‡ JavaScript å¯¹è±¡ï¼Œè¿˜åŒ…æ‹¬å‡½æ•°ä½œç”¨åŸŸï¼ˆæˆ–è€…å…¨å±€è¯æ³•ä½œç”¨åŸŸï¼‰</p><p>é™åˆ¶ï¼šæ— æ³•å¤„ç†å¾ªç¯å¼•ç”¨çš„äº‹ä¾‹</p><h4 id="æ ‡è®°æ¸…é™¤"><a href="#æ ‡è®°æ¸…é™¤" class="headerlink" title="æ ‡è®°æ¸…é™¤"></a>æ ‡è®°æ¸…é™¤</h4><p>è¿™ä¸ªç®—æ³•æŠŠâ€œå¯¹è±¡æ˜¯å¦ä¸å†éœ€è¦â€ç®€åŒ–å®šä¹‰ä¸ºâ€œå¯¹è±¡æ˜¯å¦å¯ä»¥è·å¾—â€ã€‚</p><p>è¿™ä¸ªç®—æ³•å‡å®šè®¾ç½®ä¸€ä¸ªå«åšæ ¹ï¼ˆrootï¼‰çš„å¯¹è±¡ï¼ˆåœ¨Javascripté‡Œï¼Œæ ¹æ˜¯å…¨å±€å¯¹è±¡ï¼‰ã€‚åƒåœ¾å›æ”¶å™¨å°†å®šæœŸä»æ ¹å¼€å§‹ï¼Œæ‰¾æ‰€æœ‰ä»æ ¹å¼€å§‹å¼•ç”¨çš„å¯¹è±¡ï¼Œç„¶åæ‰¾è¿™äº›å¯¹è±¡å¼•ç”¨çš„å¯¹è±¡â€¦â€¦ä»æ ¹å¼€å§‹ï¼Œåƒåœ¾å›æ”¶å™¨å°†æ‰¾åˆ°æ‰€æœ‰å¯ä»¥è·å¾—çš„å¯¹è±¡å’Œæ”¶é›†æ‰€æœ‰ä¸èƒ½è·å¾—çš„å¯¹è±¡ã€‚</p><p>è¿™ä¸ªç®—æ³•æ¯”å‰ä¸€ä¸ªè¦å¥½ï¼Œå› ä¸ºâ€œæœ‰é›¶å¼•ç”¨çš„å¯¹è±¡â€æ€»æ˜¯ä¸å¯è·å¾—çš„ï¼Œä½†æ˜¯ç›¸åå´ä¸ä¸€å®šï¼Œå‚è€ƒâ€œå¾ªç¯å¼•ç”¨â€ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>XSS-CSRF</title>
      <link href="/2020/08/11/2020/XSS-CSRF/"/>
      <url>/2020/08/11/2020/XSS-CSRF/</url>
      
        <content type="html"><![CDATA[<h4 id="XSS"><a href="#XSS" class="headerlink" title="XSS"></a>XSS</h4><p>Cross-Site Scriptingï¼ˆè·¨ç«™è„šæœ¬æ”»å‡»ï¼‰ç®€ç§° XSSï¼Œæ˜¯ä¸€ç§ä»£ç æ³¨å…¥æ”»å‡»ã€‚</p><ol><li>å­˜å‚¨å‹</li><li>åå°„å‹</li><li>DOMå‹ä¸‰ç§</li></ol><table><thead><tr><th>ç±»å‹</th><th>å­˜å‚¨åŒº</th><th>æ’å…¥ç‚¹</th></tr></thead><tbody><tr><td>å­˜å‚¨å‹</td><td>åç«¯æ•°æ®åº“</td><td>HTML</td></tr><tr><td>åå°„å‹</td><td>URL</td><td>HTML</td></tr><tr><td>DOMå‹</td><td>åç«¯æ•°æ®åº“ã€å‰ç«¯ã€URL</td><td>JS</td></tr></tbody></table><a id="more"></a><p>å¸¸ç”¨é˜²èŒƒæ–¹æ³•</p><ol><li>httpOnly</li><li>è¾“å…¥è¿‡æ»¤</li><li>è½¬ä¹‰HTMLï¼Œè¿›è¡Œè¾“å…¥è¾“å‡ºçš„ç¼–ç è½¬ä¹‰</li></ol><p>DOMå‹XSSï¼š</p><ol><li>åˆ©ç”¨innerHTMLä¿®æ”¹é¡µé¢ï¼›</li><li>åˆ©ç”¨document.onkeypresså·å–è®°å½•é”®ç›˜äº‹ä»¶ã€‚</li></ol><p><em>å¦‚ä½•æŠµå¾¡DOMXSS?</em></p><ol><li>é¿å…å®¢æˆ·ç«¯æ–‡æ¡£é‡å†™ã€é‡å®šå‘æˆ–å…¶ä»–æ•æ„Ÿæ“ä½œï¼ŒåŒæ—¶é¿å…ä½¿ç”¨å®¢æˆ·ç«¯æ•°æ®ï¼Œè¿™äº›æ“ä½œå°½é‡åœ¨æœåŠ¡å™¨ç«¯ä½¿ç”¨åŠ¨æ€é¡µé¢æ¥å®ç°ï¼›</li><li>åˆ†æå’Œå¼ºåŒ–å®¢æˆ·ç«¯JSä»£ç ï¼Œç‰¹åˆ«æ˜¯å—åˆ°ç”¨æˆ·å½±å“çš„DOMå¯¹è±¡ï¼Œæ³¨æ„èƒ½ç›´æ¥ä¿®æ”¹DOMå’Œåˆ›å»ºHTMLæ–‡ä»¶çš„ç›¸å…³å‡½æ•°æˆ–æ–¹æ³•ï¼Œå¹¶åœ¨è¾“å‡ºå˜é‡åˆ°é¡µé¢æ—¶å…ˆè¿›è¡Œç¼–ç è½¬ä¹‰ï¼Œå¦‚è¾“å‡ºåˆ°HTMLåˆ™è¿›è¡ŒHTMLç¼–ç ã€è¾“å‡ºåˆ°åˆ™è¿›è¡ŒJSç¼–ç ã€‚</li></ol><h4 id="CSRF"><a href="#CSRF" class="headerlink" title="CSRF"></a>CSRF</h4><p>è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆè‹±è¯­ï¼šCross-site request forgeryï¼‰ï¼Œæ”»å‡»è€…è¯±å¯¼å—å®³è€…è¿›å…¥ç¬¬ä¸‰æ–¹ç½‘ç«™ï¼Œåœ¨ç¬¬ä¸‰æ–¹ç½‘ç«™ä¸­ï¼Œå‘è¢«æ”»å‡»ç½‘ç«™å‘é€è·¨ç«™è¯·æ±‚ã€‚åˆ©ç”¨å—å®³è€…åœ¨è¢«æ”»å‡»ç½‘ç«™å·²ç»è·å–çš„æ³¨å†Œå‡­è¯ï¼Œç»•è¿‡åå°çš„ç”¨æˆ·éªŒè¯ï¼Œè¾¾åˆ°å†’å……ç”¨æˆ·å¯¹è¢«æ”»å‡»çš„ç½‘ç«™æ‰§è¡ŒæŸé¡¹æ“ä½œçš„ç›®çš„</p><p>CSRFç‰¹ç‚¹ï¼š</p><ol><li>æ”»å‡»ä¸€èˆ¬å‘èµ·åœ¨ç¬¬ä¸‰æ–¹ç½‘ç«™ï¼Œè€Œä¸æ˜¯è¢«æ”»å‡»çš„ç½‘ç«™ã€‚è¢«æ”»å‡»çš„ç½‘ç«™æ— æ³•é˜²æ­¢æ”»å‡»å‘ç”Ÿã€‚</li><li>æ”»å‡»åˆ©ç”¨å—å®³è€…åœ¨è¢«æ”»å‡»ç½‘ç«™çš„ç™»å½•å‡­è¯ï¼Œå†’å……å—å®³è€…æäº¤æ“ä½œï¼›è€Œä¸æ˜¯ç›´æ¥çªƒå–æ•°æ®ã€‚   </li><li>æ•´ä¸ªè¿‡ç¨‹æ”»å‡»è€…å¹¶ä¸èƒ½è·å–åˆ°å—å®³è€…çš„ç™»å½•å‡­è¯ï¼Œä»…ä»…æ˜¯â€œå†’ç”¨â€ã€‚</li><li>è·¨ç«™è¯·æ±‚å¯ä»¥ç”¨å„ç§æ–¹å¼ï¼šå›¾ç‰‡URLã€è¶…é“¾æ¥ã€CORSã€Formæäº¤ç­‰ç­‰ã€‚éƒ¨åˆ†è¯·æ±‚æ–¹å¼å¯ä»¥ç›´æ¥åµŒå…¥åœ¨ç¬¬ä¸‰æ–¹è®ºå›ã€æ–‡ç« ä¸­ï¼Œéš¾ä»¥è¿›è¡Œè¿½è¸ªã€‚</li></ol><p><em>å¦‚ä½•æŠµå¾¡CSRF?</em></p><ul><li>é˜»æ­¢ä¸æ˜å¤–åŸŸçš„è®¿é—®<ol><li>åŒæºæ£€æµ‹</li><li>Samesite Cookie</li></ol></li></ul><p><code>ç»„ç»‡ä¸æ˜å¤–åŸŸ</code></p><ol><li>æ ¹æ®originæˆ–refererå¤´è¿›è¡Œåˆ¤æ–­</li><li>å¦‚æœéƒ½ä¸å­˜åœ¨ï¼Œå»ºè®®é˜»æ­¢</li></ol><ul><li>æäº¤æ—¶è¦æ±‚é™„åŠ æœ¬åŸŸæ‰èƒ½è·å–çš„ä¿¡æ¯<ol><li>CSRF Token</li><li>åŒé‡CookieéªŒè¯</li></ol></li></ul><p><code>CSRFToken</code><br>æˆ‘ä»¬å¯ä»¥è¦æ±‚æ‰€æœ‰çš„ç”¨æˆ·è¯·æ±‚éƒ½æºå¸¦ä¸€ä¸ªCSRFæ”»å‡»è€…æ— æ³•è·å–åˆ°çš„Tokenã€‚æœåŠ¡å™¨é€šè¿‡æ ¡éªŒè¯·æ±‚æ˜¯å¦æºå¸¦æ­£ç¡®çš„Tokenï¼Œæ¥æŠŠæ­£å¸¸çš„è¯·æ±‚å’Œæ”»å‡»çš„è¯·æ±‚åŒºåˆ†å¼€ï¼Œä¹Ÿå¯ä»¥é˜²èŒƒCSRFçš„æ”»å‡»ã€‚<br>ä¸‰ä¸ªæ­¥éª¤ï¼š</p><ol><li>å°†CSRF Tokenè¾“å‡ºåˆ°é¡µé¢ä¸­ï¼Œæœ€å¥½æœåŠ¡ç«¯è¾“å‡ºï¼Œç½®äºsessionä¸­ï¼›</li><li>é¡µé¢è¯·æ±‚æ—¶æºå¸¦ï¼›</li><li>æœåŠ¡ç«¯è¾“å‡ºã€‚</li></ol><p>Tokenæ˜¯ä¸€ä¸ªæ¯”è¾ƒæœ‰æ•ˆçš„CSRFé˜²æŠ¤æ–¹æ³•ï¼Œåªè¦é¡µé¢æ²¡æœ‰XSSæ¼æ´æ³„éœ²Tokenï¼Œé‚£ä¹ˆæ¥å£çš„CSRFæ”»å‡»å°±æ— æ³•æˆåŠŸã€‚ä½†æ˜¯æ­¤æ–¹æ³•çš„å®ç°æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦ç»™æ¯ä¸€ä¸ªé¡µé¢éƒ½å†™å…¥Tokenï¼ˆå‰ç«¯æ— æ³•ä½¿ç”¨çº¯é™æ€é¡µé¢ï¼‰ã€‚<br>æ¯ä¸€ä¸ªFormåŠAjaxè¯·æ±‚éƒ½æºå¸¦è¿™ä¸ªTokenï¼Œåç«¯å¯¹æ¯ä¸€ä¸ªæ¥å£éƒ½è¿›è¡Œæ ¡éªŒï¼Œå¹¶ä¿è¯é¡µé¢TokenåŠè¯·æ±‚Tokenä¸€è‡´ã€‚è¿™å°±ä½¿å¾—è¿™ä¸ªé˜²æŠ¤ç­–ç•¥ä¸èƒ½åœ¨é€šç”¨çš„æ‹¦æˆªä¸Šç»Ÿä¸€æ‹¦æˆªå¤„ç†ï¼Œè€Œéœ€è¦æ¯ä¸€ä¸ªé¡µé¢å’Œæ¥å£éƒ½æ·»åŠ å¯¹åº”çš„è¾“å‡ºå’Œæ ¡éªŒã€‚è¿™ç§æ–¹æ³•å·¥ä½œé‡å·¨å¤§ï¼Œä¸”æœ‰å¯èƒ½é—æ¼</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> HTTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹</title>
      <link href="/2020/07/09/2020/%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/"/>
      <url>/2020/07/09/2020/%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/</url>
      
        <content type="html"><![CDATA[<h4 id="ä¸‰æ¬¡æ¡æ‰‹"><a href="#ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹"></a>ä¸‰æ¬¡æ¡æ‰‹</h4><p><img src="/2020/07/09/2020/ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹/NO1.png" alt="NO1" title="NO1"></p><a id="more"></a><ol><li>TCPæœåŠ¡å™¨è¿›ç¨‹å…ˆåˆ›å»ºä¼ è¾“æ§åˆ¶å—TCBï¼Œæ—¶åˆ»å‡†å¤‡æ¥æ”¶å®¢æˆ·è¿›ç¨‹çš„è¿æ¥è¯·æ±‚ï¼Œæ­¤æ—¶æœåŠ¡å™¨è¿›å…¥LISTENï¼ˆç›‘å¬çŠ¶æ€ï¼‰ï¼›</li><li>TCPå®¢æˆ·è¿›ç¨‹åˆ›å»ºä¼ è¾“æ§åˆ¶å—TCBï¼Œç„¶åå‘æœåŠ¡å™¨å‘å‡ºè¿æ¥è¯·æ±‚æŠ¥æ–‡ï¼Œæ­¤æ—¶æŠ¥æ–‡é¦–éƒ¨åŒéƒ¨ä½SYN=1ï¼Œæ­¤æ—¶TCPå®¢æˆ·ç«¯è¿›ç¨‹è¿›å…¥SYN-SENTçŠ¶æ€ï¼ŒTCPè§„å®šï¼ŒSYN=1æŠ¥æ–‡ä¸èƒ½æºå¸¦æ•°æ®ï¼›</li><li>TCPæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚æŠ¥æ–‡åï¼Œå¦‚æœåŒæ„è¿æ¥ï¼Œåˆ™å‘å‡ºç¡®è®¤æŠ¥æ–‡ï¼Œç¡®è®¤æŠ¥æ–‡ä¸­ACK=1,SYN=1ï¼Œæ­¤æ—¶TCPæœåŠ¡å™¨è¿›ç¨‹è¿›å…¥SYNC-RCVDçŠ¶æ€ï¼Œè¿™ä¸ªæŠ¥æ–‡ä¹Ÿä¸èƒ½æºå¸¦æ•°æ®ï¼›</li><li>TCPå®¢æˆ·è¿›ç¨‹æ”¶åˆ°ç¡®è®¤åï¼Œè¦ç»™æœåŠ¡å™¨å‘å‡ºç¡®è®¤ï¼Œç¡®è®¤æŠ¥æ–‡ä¸­ACK=1ï¼Œæ­¤æ—¶TCPè¿æ¥å»ºç«‹ï¼Œå®¢æˆ·ç«¯è¿›å…¥ESTABLISHEDçŠ¶æ€ï¼ŒTCPè§„å®šï¼ŒACKæŠ¥æ–‡å¯ä»¥æºå¸¦æ•°æ®ï¼›</li><li>TCPæœåŠ¡å™¨æ”¶åˆ°ç¡®è®¤åï¼Œä¹Ÿè¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œå¯ä»¥å¼€å§‹é€šä¿¡ã€‚</li></ol><p><em>ç±»ä¼¼æ˜¯è¿™æ ·çš„ï¼š</em></p><ul><li>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯å‘åŒ…ï¼ŒæœåŠ¡ç«¯æ¥æ”¶<ol><li>æœåŠ¡ç«¯æ”¶åˆ°äº†ï¼ŒæœåŠ¡ç«¯å°±å¯ä»¥ç¡®è®¤å®¢æˆ·ç«¯å‘é€èƒ½åŠ›ã€æœåŠ¡ç«¯æ¥æ”¶èƒ½åŠ›æ˜¯æ­£å¸¸çš„ï¼›</li></ol></li><li>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡ç«¯å‘åŒ…ï¼Œå®¢æˆ·ç«¯æ¥æ”¶<ol><li>è¿™æ ·å®¢æˆ·ç«¯å¾—å‡ºç»“è®ºï¼ŒæœåŠ¡ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›æ­£å¸¸ï¼Œå®¢æˆ·ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›æ­£å¸¸ï¼Œä¸è¿‡æ­¤æ—¶æœåŠ¡å™¨ä¸èƒ½ç¡®è®¤å®¢æˆ·ç«¯æ¥æ”¶æ˜¯å¦æ­£å¸¸ï¼›</li></ol></li><li>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯å‘åŒ…ï¼ŒæœåŠ¡ç«¯æ¥æ”¶<ol><li>è¿™æ ·æœåŠ¡ç«¯å°±å¯ä»¥å¾—å‡ºç»“è®ºï¼Œå®¢æˆ·ç«¯æ¥æ”¶ï¼Œå‘é€èƒ½åŠ›æ­£å¸¸ï¼ŒæœåŠ¡ç«¯è‡ªå·±çš„å‘é€ï¼Œæ¥æ”¶èƒ½åŠ›æ­£å¸¸ã€‚</li></ol></li></ul><h5 id="ä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ</h5><p>æ¡æ‰‹å°‘äº†ï¼Œæ— æ³•ç¡®è®¤åŒæ–¹è¿æ¥ï¼›<br>æ¡æ‰‹å¤šäº†æ²¡å¿…è¦ï¼›<br>å¦‚æœåªæœ‰ä¸¤æ¬¡æ¡æ‰‹ï¼Œé‚£ä¹ˆæœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å‘é€ SYN/ACK æŠ¥æ–‡åï¼Œå°±ä¼šè®¤ä¸ºè¿æ¥å»ºç«‹ã€‚ä½†æ˜¯å¦‚æœå®¢æˆ·ç«¯æ²¡æœ‰æ”¶åˆ°æŠ¥æ–‡ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯æ˜¯æ²¡æœ‰å»ºç«‹è¿æ¥çš„ã€‚è¿™å°±å¯¼è‡´æœåŠ¡ç«¯ä¼šæµªè´¹èµ„æºã€‚</p><h4 id="å››æ¬¡æŒ¥æ‰‹"><a href="#å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="å››æ¬¡æŒ¥æ‰‹"></a>å››æ¬¡æŒ¥æ‰‹</h4><p><img src="/2020/07/09/2020/ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹/NO2.png" alt="NO2" title="NO2"></p><ol><li>å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€è¿æ¥é‡Šæ”¾æŠ¥æ–‡ï¼ŒFIN=1,ACK=1ï¼Œä¸»åŠ¨å…³é—­è¿æ¥ï¼Œç­‰å¾…æœåŠ¡ç«¯ç¡®è®¤ï¼›</li><li>æœåŠ¡ç«¯æ”¶åˆ°è¿æ¥é‡Šæ”¾æŠ¥æ–‡åï¼Œç«‹å³å‘å‡ºç¡®è®¤æŠ¥æ–‡ï¼ŒACK=1ï¼Œæ­¤æ—¶TCPå¤„äºåŠå…³é—­çŠ¶æ€ï¼Œå³å®¢æˆ·ç«¯åˆ°æœåŠ¡ç«¯çš„è¿æ¥å·²ç»é‡Šæ”¾äº†ï¼Œä½†æ˜¯æœåŠ¡ç«¯åˆ°å®¢æˆ·ç«¯çš„è¿æ¥è¿˜æœªååˆ†ï¼Œè¿™è¡¨ç¤ºå®¢æˆ·ç«¯å·²ç»æ²¡æœ‰æ•°æ®å‘é€äº†ï¼Œä½†æ˜¯æœåŠ¡ç«¯å¯èƒ½è¿˜æœ‰æ•°æ®ç»™å®¢æˆ·ç«¯å‘é€ï¼›</li><li>æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å‘é€é‡Šæ”¾æŠ¥æ–‡ï¼ŒFIN=1,ACK=1ï¼Œä¸»åŠ¨å…³é—­è¿æ¥ï¼ŒåŒæ—¶ç­‰å¾…ç¡®è®¤ï¼›</li><li>å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡è¿æ¥é‡Šæ”¾æŠ¥æ–‡åï¼Œç«‹å³å‘å‡ºç¡®è®¤æŠ¥æ–‡ï¼ŒACK=1ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°å®¢æˆ·ç«¯çš„ç¡®è®¤åï¼Œå°±ä¼šç«‹å³è¿›å…¥closeçŠ¶æ€ã€‚</li></ol><p><em>ä»€ä¹ˆæƒ…å†µå‘¢ï¼Ÿå½¢è±¡æ¯”å–»ï¼š</em></p><ul><li>Aå’ŒBæ‰“ç”µè¯ï¼Œé€šè¯ç»“æŸå</li><li>Aï¼šæˆ‘æ²¡å•¥è¦è¯´çš„äº†ï¼ˆå¼€å§‹å‘å‘†ï¼‰ï¼›</li><li>Bï¼šæˆ‘çŸ¥é“äº†ï¼Œæˆ‘è¿˜æœ‰è¦è¯´çš„ï¼›</li><li>Bï¼š2#$#@$@#$@#è¯´äº†ä¸€å †ï¼Œç„¶åè¯´æˆ‘ä¹Ÿè¯´å®Œäº†ï¼›</li><li>Aï¼šå¥½çš„ï¼Œæˆ‘çŸ¥é“äº†</li></ul><h5 id="ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡æŒ¥æ‰‹ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡æŒ¥æ‰‹ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡æŒ¥æ‰‹ï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡æŒ¥æ‰‹ï¼Ÿ</h5><p>å› ä¸º TCP æ˜¯å…¨åŒå·¥çš„ï¼Œä¸€æ–¹å…³é—­è¿æ¥åï¼Œå¦ä¸€æ–¹è¿˜å¯ä»¥ç»§ç»­å‘é€æ•°æ®ã€‚æ‰€ä»¥å››æ¬¡æŒ¥æ‰‹ï¼Œå°†æ–­å¼€è¿æ¥åˆ†æˆä¸¤ä¸ªç‹¬ç«‹çš„è¿‡ç¨‹ã€‚</p><h4 id="ç›¸å…³é—®é¢˜"><a href="#ç›¸å…³é—®é¢˜" class="headerlink" title="ç›¸å…³é—®é¢˜"></a>ç›¸å…³é—®é¢˜</h4><h5 id="æ¡æ‰‹ï¼ŒæŒ¥æ‰‹é˜¶æ®µåŒ…ä¸¢å¤±æ€ä¹ˆåŠï¼Ÿ"><a href="#æ¡æ‰‹ï¼ŒæŒ¥æ‰‹é˜¶æ®µåŒ…ä¸¢å¤±æ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="æ¡æ‰‹ï¼ŒæŒ¥æ‰‹é˜¶æ®µåŒ…ä¸¢å¤±æ€ä¹ˆåŠï¼Ÿ"></a>æ¡æ‰‹ï¼ŒæŒ¥æ‰‹é˜¶æ®µåŒ…ä¸¢å¤±æ€ä¹ˆåŠï¼Ÿ</h5><p>ç®€è€Œè¨€ä¹‹ï¼Œé€šè¿‡å®šæ—¶å™¨ + è¶…æ—¶é‡è¯•æœºåˆ¶ï¼Œå°è¯•è·å–ç¡®è®¤ï¼Œç›´åˆ°æœ€åä¼šè‡ªåŠ¨æ–­å¼€è¿æ¥ã€‚</p><p>å…·ä½“è€Œè¨€ï¼ŒTCP è®¾æœ‰ä¸€ä¸ªä¿æ´»è®¡æ—¶å™¨ã€‚æœåŠ¡å™¨æ¯æ”¶åˆ°ä¸€æ¬¡å®¢æˆ·ç«¯çš„æ•°æ®ï¼Œéƒ½ä¼šé‡æ–°å¤ä½è¿™ä¸ªè®¡æ—¶å™¨ï¼Œæ—¶é—´é€šå¸¸æ˜¯è®¾ç½®ä¸º 2 å°æ—¶ã€‚è‹¥ 2 å°æ—¶è¿˜æ²¡æœ‰æ”¶åˆ°å®¢æˆ·ç«¯çš„ä»»ä½•æ•°æ®ï¼ŒæœåŠ¡å™¨å°±å¼€å§‹é‡è¯•ï¼šæ¯éš” 75 åˆ†é’Ÿå‘é€ä¸€ä¸ªæ¢æµ‹æŠ¥æ–‡æ®µï¼Œè‹¥ä¸€è¿å‘é€ 10 ä¸ªæ¢æµ‹æŠ¥æ–‡åå®¢æˆ·ç«¯ä¾ç„¶æ²¡æœ‰å›åº”ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±è®¤ä¸ºè¿æ¥å·²ç»æ–­å¼€äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTPSè¿æ¥è¿‡ç¨‹</title>
      <link href="/2020/07/09/2020/HTTPS%E8%BF%9E%E6%8E%A5%E8%BF%87%E7%A8%8B/"/>
      <url>/2020/07/09/2020/HTTPS%E8%BF%9E%E6%8E%A5%E8%BF%87%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘ä»¬å‰é¢åˆ†æäº†HTTPçš„æ¡æ‰‹ä¸æŒ¥æ‰‹ï¼Œåˆ°äº†HTTPSè¿™ä¸€æ­¥ï¼Œæ¶‰åŠä¸€äº›åŠ å¯†åŠè¯ä¹¦ï¼Œæˆ‘ä»¬å†å•ç‹¬å¤ä¹ ä¸€ä¸‹ã€‚</p><p><img src="/2020/07/09/2020/HTTPSè¿æ¥è¿‡ç¨‹/NO1.png" alt="NO1" title="NO1"></p><a id="more"></a><h4 id="å®¢æˆ·ç«¯è®¿é—®HTTPSè¿æ¥"><a href="#å®¢æˆ·ç«¯è®¿é—®HTTPSè¿æ¥" class="headerlink" title="å®¢æˆ·ç«¯è®¿é—®HTTPSè¿æ¥"></a>å®¢æˆ·ç«¯è®¿é—®HTTPSè¿æ¥</h4><ol><li>æˆ‘ä»¬åœ¨æµè§ˆå™¨è¾“å…¥urlå¹¶ä¸”å›è½¦ï¼Œè¿™ä¸ªæ—¶å€™å®¢æˆ·ç«¯ä¼šå°†å®¢æˆ·ç«¯æ”¯æŒçš„åŠ å¯†ç®—æ³•å¥—ä»¶ï¼ˆCIpherï¼‰å‘ç»™æœåŠ¡ç«¯ã€‚</li></ol><h4 id="æœåŠ¡ç«¯å‘é€è¯ä¹¦ï¼ˆå…¬é’¥ï¼‰ç»™å®¢æˆ·ç«¯"><a href="#æœåŠ¡ç«¯å‘é€è¯ä¹¦ï¼ˆå…¬é’¥ï¼‰ç»™å®¢æˆ·ç«¯" class="headerlink" title="æœåŠ¡ç«¯å‘é€è¯ä¹¦ï¼ˆå…¬é’¥ï¼‰ç»™å®¢æˆ·ç«¯"></a>æœåŠ¡ç«¯å‘é€è¯ä¹¦ï¼ˆå…¬é’¥ï¼‰ç»™å®¢æˆ·ç«¯</h4><ol><li>æœåŠ¡ç«¯æ¥æ”¶åˆ°Cipheråï¼Œå’Œè‡ªå·±æ”¯æŒçš„åŠ å¯†ç®—æ³•å¯¹æ¯”ï¼Œå¦‚æœä¸ç¬¦åˆåˆ™æ–­å¼€è¿æ¥ï¼Œå¦åˆ™ï¼ŒæœåŠ¡ç«¯æŠŠç¬¦åˆçš„ç®—æ³•å’Œè¯ä¹¦å‘é€ç»™å®¢æˆ·ç«¯ï¼ŒåŒ…æ‹¬è¯ä¹¦æ—¶é—´ã€æ—¥æœŸã€æœºæ„ã€‚</li></ol><h4 id="å®¢æˆ·ç«¯éªŒè¯æœåŠ¡ç«¯è¯ä¹¦"><a href="#å®¢æˆ·ç«¯éªŒè¯æœåŠ¡ç«¯è¯ä¹¦" class="headerlink" title="å®¢æˆ·ç«¯éªŒè¯æœåŠ¡ç«¯è¯ä¹¦"></a>å®¢æˆ·ç«¯éªŒè¯æœåŠ¡ç«¯è¯ä¹¦</h4><ol><li>å®¢æˆ·ç«¯éªŒè¯è¯ä¹¦ï¼ŒåŒ…æ‹¬é¢å‘è¯ä¹¦çš„æœºæ„<code>æ˜¯å¦åˆæ³•</code>ä¸<code>è¿‡æœŸ</code>ï¼Œè¯ä¹¦ä¸­åŒ…å«çš„ç½‘ç«™åœ°å€æ˜¯å¦ä¸æ­£è®¿é—®çš„åœ°å€ä¸€è‡´ç­‰ï¼›</li><li>éªŒè¯é€šè¿‡åï¼Œå®¢æˆ·ç«¯ä¼šç”Ÿæˆä¸€ä¸ªéšæœºå­—ç¬¦ä¸²ï¼Œç„¶åç”¨æœåŠ¡ç«¯çš„å…¬é’¥è¿›è¡ŒåŠ å¯†ï¼Œè¿™é‡Œå°±ä¿è¯åªæœ‰æœåŠ¡ç«¯å¯ä»¥çœ‹åˆ°è¿™ä¸²å­—ç¬¦ä¸²ï¼›</li><li>ç”Ÿæˆæ¡æ‰‹ä¿¡æ¯ï¼Œç”¨çº¦å®šå¥½çš„HASHï¼Œå¯¹æ¡æ‰‹ä¿¡æ¯è¿›è¡Œå–HASHï¼Œç„¶åç”¨éšæœºå­—ç¬¦ä¸²åŠ å¯†æ¡æ‰‹ä¿¡æ¯å’Œæ¡æ‰‹ä¿¡æ¯çš„ç­¾åHASHï¼ŒæŠŠç»“æœå‘ç»™æœåŠ¡ç«¯ï¼Œè¿™é‡Œè¦å¸¦ä¸Šæ¡æ‰‹HASHæ˜¯å› ä¸ºé˜²æ­¢ä¿¡æ¯ç¯¡æ”¹ï¼Œå¦‚æœä¿¡æ¯è¢«ç¯¡æ”¹ï¼Œé‚£ä¹ˆæœåŠ¡ç«¯æ¥æ”¶åˆ°ä¿¡æ¯è¿›è¡ŒHASHåï¼Œä¼šå‘ç°HASHå’Œå®¢æˆ·ç«¯ä¼ å›æ¥çš„ä¸ä¸€æ ·ã€‚</li></ol><h4 id="æœåŠ¡ç«¯æ¥æ”¶åŠ å¯†ä¿¡æ¯ï¼Œè§£å¯†å¾—åˆ°å®¢æˆ·ç«¯æä¾›çš„éšæœºå­—ç¬¦ä¸²"><a href="#æœåŠ¡ç«¯æ¥æ”¶åŠ å¯†ä¿¡æ¯ï¼Œè§£å¯†å¾—åˆ°å®¢æˆ·ç«¯æä¾›çš„éšæœºå­—ç¬¦ä¸²" class="headerlink" title="æœåŠ¡ç«¯æ¥æ”¶åŠ å¯†ä¿¡æ¯ï¼Œè§£å¯†å¾—åˆ°å®¢æˆ·ç«¯æä¾›çš„éšæœºå­—ç¬¦ä¸²"></a>æœåŠ¡ç«¯æ¥æ”¶åŠ å¯†ä¿¡æ¯ï¼Œè§£å¯†å¾—åˆ°å®¢æˆ·ç«¯æä¾›çš„éšæœºå­—ç¬¦ä¸²</h4><ol><li>æœåŠ¡ç«¯æ¥æ”¶åˆ°åŠ å¯†ä¿¡æ¯åï¼Œé¦–å…ˆä½¿ç”¨ç§é’¥è§£å¯†å¾—åˆ°éšæœºå­—ç¬¦ä¸²ï¼Œç„¶åä½¿ç”¨éšæœºå­—ç¬¦ä¸²è§£å¯†æ¡æ‰‹ä¿¡æ¯ï¼Œè·å¾—æ¡æ‰‹ä¿¡æ¯å’Œæ¡æ‰‹ä¿¡æ¯çš„HASHå€¼ï¼ŒæœåŠ¡ç«¯å¯¹æ¡æ‰‹ä¿¡æ¯è¿›è¡ŒHASHï¼Œå¯¹æ¯”ä¼ å›æ¥çš„HASHï¼Œå¦‚æœç›¸åŒï¼Œåˆ™è¯´æ˜ä¿¡æ¯æ²¡æœ‰è¢«ç¯¡æ”¹ã€‚</li><li>æœåŠ¡ç«¯éªŒè¯å®Œå®¢æˆ·ç«¯åï¼ŒåŒæ ·ç”¨éšæœºå­—ç¬¦ä¸²åŠ å¯†æ¡æ‰‹ä¿¡æ¯å’Œæ¡æ‰‹ä¿¡æ¯çš„HASHå€¼å‘ç»™å®¢æˆ·ç«¯ã€‚</li></ol><h4 id="å®¢æˆ·ç«¯éªŒè¯æœåŠ¡ç«¯è¿”å›çš„æ¡æ‰‹ä¿¡æ¯ï¼Œå®Œæˆæ¡æ‰‹"><a href="#å®¢æˆ·ç«¯éªŒè¯æœåŠ¡ç«¯è¿”å›çš„æ¡æ‰‹ä¿¡æ¯ï¼Œå®Œæˆæ¡æ‰‹" class="headerlink" title="å®¢æˆ·ç«¯éªŒè¯æœåŠ¡ç«¯è¿”å›çš„æ¡æ‰‹ä¿¡æ¯ï¼Œå®Œæˆæ¡æ‰‹"></a>å®¢æˆ·ç«¯éªŒè¯æœåŠ¡ç«¯è¿”å›çš„æ¡æ‰‹ä¿¡æ¯ï¼Œå®Œæˆæ¡æ‰‹</h4><ol><li>å®¢æˆ·ç«¯æ¥æ”¶åˆ°æœåŠ¡ç«¯å‘å›æ¥çš„æ¡æ‰‹ä¿¡æ¯åï¼Œç”¨ä¸€å¼€å§‹ç”Ÿæˆçš„éšæœºå­—ç¬¦ä¸²å¯¹å¯†æ–‡è¿›è¡Œè§£å¯†ï¼Œå¾—åˆ°æ¡æ‰‹ä¿¡æ¯å’Œæ¡æ‰‹HASHå€¼ï¼Œæ ¡éªŒé€šè¿‡åï¼Œæ¡æ‰‹å®Œæ¯•ï¼Œä»è¿™å¼€å§‹ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„é€šä¿¡å°±ä½¿ç”¨é‚£ä¸²éšæœºå­—ç¬¦ä¸²è¿›è¡ŒAESå¯¹ç§°åŠ å¯†ã€‚</li></ol><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ol><li>ä½¿ç”¨RSAéå¯¹ç§°ç®—æ³•ï¼ŒæœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å‘é€å…¬é’¥è¯ä¹¦ç­‰ï¼›</li><li>å®¢æˆ·ç«¯å‘ç¬¬ä¸‰æ–¹éªŒè¯å…¬é’¥åˆæ³•æ€§ï¼ŒéªŒè¯é€šè¿‡åå‘æœåŠ¡ç«¯çº¦å®šå¯¹ç§°åŠ å¯†çš„éšæœºå­—ç¬¦ä¸²ï¼Œä¿è¯éšæœºå­—ç¬¦ä¸²åªæœ‰é€šä¿¡åŒæ–¹çŸ¥é“ã€‚</li><li>æ¥ä¸‹æ¥é€šä¿¡å°±ä½¿ç”¨è¿™ä¸ªéšæœºç¬¦ä¸²ä¸²è¿›è¡ŒåŠ å¯†é€šä¿¡ï¼Œå› ä¸ºéšæœºå­—ç¬¦ä¸²åªæœ‰åŒæ–¹çŸ¥é“ï¼Œæ‰€æœ‰ä¿¡æ¯ä¸ä¼šè¢«æˆªè·ã€‚</li></ol><p><img src="/2020/07/09/2020/HTTPSè¿æ¥è¿‡ç¨‹/NO2.png" alt="NO2" title="NO2"></p><ul><li>åœ¨ä½¿ç”¨HTTPSæ˜¯éœ€è¦ä¿è¯æœåŠ¡ç«¯é…ç½®æ­£ç¡®äº†å¯¹åº”çš„å®‰å…¨è¯ä¹¦</li><li>å®¢æˆ·ç«¯å‘é€è¯·æ±‚åˆ°æœåŠ¡ç«¯</li><li>æœåŠ¡ç«¯è¿”å›å…¬é’¥å’Œè¯ä¹¦åˆ°å®¢æˆ·ç«¯</li><li>å®¢æˆ·ç«¯æ¥æ”¶åä¼šéªŒè¯è¯ä¹¦çš„å®‰å…¨æ€§,å¦‚æœé€šè¿‡åˆ™ä¼šéšæœºç”Ÿæˆä¸€ä¸ªéšæœºæ•°,ç”¨å…¬é’¥å¯¹å…¶åŠ å¯†,å‘é€åˆ°æœåŠ¡ç«¯</li><li>æœåŠ¡ç«¯æ¥å—åˆ°è¿™ä¸ªåŠ å¯†åçš„éšæœºæ•°åä¼šç”¨ç§é’¥å¯¹å…¶è§£å¯†å¾—åˆ°çœŸæ­£çš„éšæœºæ•°,éšåç”¨è¿™ä¸ªéšæœºæ•°å½“åšç§é’¥å¯¹éœ€è¦å‘é€çš„æ•°æ®è¿›è¡Œå¯¹ç§°åŠ å¯†</li><li>å®¢æˆ·ç«¯åœ¨æ¥æ”¶åˆ°åŠ å¯†åçš„æ•°æ®ä½¿ç”¨ç§é’¥(å³ç”Ÿæˆçš„éšæœºå€¼)å¯¹æ•°æ®è¿›è¡Œè§£å¯†å¹¶ä¸”è§£ææ•°æ®å‘ˆç°ç»“æœç»™å®¢æˆ·</li><li>SSLåŠ å¯†å»ºç«‹</li></ul><p><em>æ‰€ä»¥å› æ­¤HTTPå‰æœŸæ˜¯éå¯¹ç§°åŠ å¯†ï¼ŒåæœŸæ˜¯å †æˆåŠ å¯†ï¼Ÿ</em></p><p><img src="/2020/07/09/2020/HTTPSè¿æ¥è¿‡ç¨‹/NO3.png" alt="NO3" title="NO3"></p><h4 id="HTTPä¸HTTPSçš„åŒºåˆ«"><a href="#HTTPä¸HTTPSçš„åŒºåˆ«" class="headerlink" title="HTTPä¸HTTPSçš„åŒºåˆ«"></a>HTTPä¸HTTPSçš„åŒºåˆ«</h4><ol><li>HTTPä½¿ç”¨80ç«¯å£ï¼ŒHTTPSä½¿ç”¨443ç«¯å£ï¼›</li><li>HTTPSéœ€è¦ç”³è¯·è¯ä¹¦ï¼›</li><li>HTTPæ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œæ˜¯æ˜æ–‡ã€‚HTTPSéœ€è¦ç»è¿‡SSLåŠ å¯†çš„åè®®ï¼›</li><li>HTTPSæ¯”HTTPæ…¢<ul><li>é€šä¿¡æ…¢ï¼šHTTPSå’ŒHTTPç›¸æ¯”ï¼Œè¿˜å¤šäº†SSLé€šä¿¡</li><li>åŠ å¯†å¤„ç†çš„è¿ç®—</li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>async/awaitåŸç†</title>
      <link href="/2020/06/30/2020/async-await%E5%8E%9F%E7%90%86/"/>
      <url>/2020/06/30/2020/async-await%E5%8E%9F%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>asyncå…¶å®å°±æ˜¯Generatorçš„è¯­æ³•ç³–ã€‚<br>asyncå‡½æ•°å¯¹Generatorçš„æ”¹è¿›:</p><ol><li>å†…ç½®æ‰§è¡Œå™¨ï¼›</li><li>æ›´å¥½çš„è¯­ä¹‰ï¼Œ async/awaitï¼›</li><li>æ›´å¹¿çš„é€‚åº”æ€§ï¼›</li><li>è¿”å›Promiseã€‚</li></ol><p>asyncæœ¬è´¨ä¸Šæ˜¯å°è£…äº†Generatorçš„è‡ªåŠ¨æ‰§è¡Œå™¨ã€‚</p><p><em>é¢˜å¤–è¯ï¼šä¸ºä»€ä¹ˆGeneratorå¯ä»¥åœ¨nextä¹‹å‰æš‚åœ?</em><br><a id="more"></a><br>Aï¼šåç¨‹ã€‚</p><p>ä¸€ä¸ªçº¿ç¨‹ï¼ˆæˆ–å‡½æ•°ï¼‰æ‰§è¡Œåˆ°ä¸€åŠï¼Œå¯ä»¥æš‚åœæ‰§è¡Œï¼Œå°†æ‰§è¡Œæƒäº¤ç»™å¦ä¸€ä¸ªçº¿ç¨‹ï¼ˆæˆ–å‡½æ•°ï¼‰ï¼Œç­‰åˆ°ç¨åæ”¶å›æ‰§è¡Œæƒçš„æ—¶å€™ï¼Œå†æ¢å¤æ‰§è¡Œã€‚è¿™ç§å¯ä»¥å¹¶è¡Œæ‰§è¡Œã€äº¤æ¢æ‰§è¡Œæƒçš„çº¿ç¨‹ï¼ˆæˆ–å‡½æ•°ï¼‰ï¼Œå°±ç§°ä¸ºåç¨‹ã€‚<br>åç¨‹æ˜¯ä¸€ç§æ¯”çº¿ç¨‹æ›´åŠ è½»é‡çº§çš„å­˜åœ¨ã€‚æ™®é€šçº¿ç¨‹æ˜¯æŠ¢å…ˆå¼çš„ï¼Œä¼šäº‰å¤ºcpuèµ„æºï¼Œè€Œåç¨‹æ˜¯åˆä½œçš„ï¼Œå¯ä»¥æŠŠåç¨‹çœ‹æˆæ˜¯è·‘åœ¨çº¿ç¨‹ä¸Šçš„ä»»åŠ¡ï¼Œä¸€ä¸ªçº¿ç¨‹ä¸Šå¯ä»¥å­˜åœ¨å¤šä¸ªåç¨‹ï¼Œä½†æ˜¯åœ¨çº¿ç¨‹ä¸ŠåŒæ—¶åªèƒ½æ‰§è¡Œä¸€ä¸ªåç¨‹ã€‚</p><h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>æˆ‘ä»¬çœ‹ä¸€ç‚¹é¢˜ç›®:</p><pre><code>console. log(&#39;script start&#39; )async function async1() {    await async2()     console. log( &#39; async1 end&#39; )}async function async2() {    console.1og( &#39;async2 end &#39; )}    async1()setTimeout(function() {    console. log( &#39;setTimeout&#39; )}, 0)new Promise(resolve =&gt; {    console.log(&#39; Promise&#39; )    resolve() }).then( function() {    consoleã€‚log( &#39; promise1&#39; )}).then(function() {    console.1og( &quot; promise2&#39; )})console. log( &#39;script end&#39; )</code></pre><p><em>ä½ çŸ¥é“ç­”æ¡ˆæ˜¯ä»€ä¹ˆå—?</em><br>script start - async2 end - Promise - script end  -  promise1 - promise2 - async1 end - setTimeout</p><p><em>è§£æï¼š</em></p><ol><li>æ‰§è¡Œä»£ç ï¼Œè¾“å‡ºscript startã€‚</li><li>æ‰§è¡Œasync1(),ä¼šè°ƒç”¨async2(),ç„¶åè¾“å‡ºasync2 end,æ­¤æ—¶å°†ä¼šä¿ç•™async1å‡½æ•°çš„ä¸Šä¸‹æ–‡ï¼Œç„¶åè·³å‡ºasync1å‡½æ•°ã€‚(async è¿”å›ä¸€ä¸ªPromiseï¼Œ Promiseæ˜¯ç«‹å³æ‰§è¡Œçš„ã€‚)</li><li>é‡åˆ°setTimeoutï¼Œäº§ç”Ÿä¸€ä¸ªå®ä»»åŠ¡</li><li>æ‰§è¡ŒPromiseï¼Œè¾“å‡ºPromiseã€‚é‡åˆ°thenï¼Œäº§ç”Ÿç¬¬ä¸€ä¸ªå¾®ä»»åŠ¡</li><li>ç»§ç»­æ‰§è¡Œä»£ç ï¼Œè¾“å‡ºscript end</li><li>ä»£ç é€»è¾‘æ‰§è¡Œå®Œæ¯•(å½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•)ï¼Œå¼€å§‹æ‰§è¡Œå½“å‰å®ä»»åŠ¡äº§ç”Ÿçš„å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œè¾“å‡ºpromise1ï¼Œè¯¥å¾®ä»»åŠ¡é‡åˆ°thenï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„å¾®ä»»åŠ¡</li><li>æ‰§è¡Œäº§ç”Ÿçš„å¾®ä»»åŠ¡ï¼Œè¾“å‡ºpromise2,å½“å‰å¾®ä»»åŠ¡é˜Ÿåˆ—æ‰§è¡Œå®Œæ¯•ã€‚æ‰§è¡Œæƒå›åˆ°async1</li><li>æ‰§è¡Œawait,å®é™…ä¸Šä¼šäº§ç”Ÿä¸€ä¸ªpromiseè¿”å›</li><li>æ‰§è¡Œå®Œæˆï¼Œæ‰§è¡Œawaitåé¢çš„è¯­å¥ï¼Œè¾“å‡ºasync1 end</li><li>æœ€åï¼Œæ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡ï¼Œå³æ‰§è¡ŒsetTimeoutï¼Œè¾“å‡ºsetTimeout</li></ol><h3 id="é¢˜ç›®2"><a href="#é¢˜ç›®2" class="headerlink" title="é¢˜ç›®2"></a>é¢˜ç›®2</h3><p>å®ç°ä¸€ä¸ªSleep, æ¯éš”ä¸€ç§’è¾“å‡º1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5</p><pre><code>function sleep(interval) {    return new Promise(resolve =&gt; {        setTimeout(resolve, interval);    })}// ç”¨æ³•async function one2FiveInAsync() {    for (let i = 1; i &lt;= 5; i++) {        console.log(i);        await sleep(1000);    }}one2FiveInAsync();</code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vueæ•°æ®åŒå‘ç»‘å®šåŸç†</title>
      <link href="/2020/06/21/2020/Vue%E6%95%B0%E6%8D%AE%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A%E5%8E%9F%E7%90%86/"/>
      <url>/2020/06/21/2020/Vue%E6%95%B0%E6%8D%AE%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A%E5%8E%9F%E7%90%86/</url>
      
        <content type="html"><![CDATA[<p>ä¹‹å‰çœ‹è¿‡å‡ å›<code>Vue</code>çš„å“åº”å¼åŸç†å‰–æï¼Œä½†æ˜¯å‡ ä¹æ€»æ˜¯ä¸ä¹…å°±å¿˜è®°äº†ï¼Œä»…ä»…æ˜¯ä¾ç¨€è®°å¾—<code>defineProperty</code>åš<code>get</code>å’Œ<code>set</code>çš„æ•°æ®åŠ«æŒï¼Œç„¶ååœ¨æ­¤åŸºç¡€ä¸Šåšä¸€äº›å‘å¸ƒï¼Œè¯´åˆ°åº•è¿˜æ˜¯å¯èƒ½ä¸å¤Ÿæ·±å…¥ï¼Œä¸å¤Ÿç†è§£ï¼Œç‰¹æ­¤å¸Œæœ›å€Ÿæ­¤æ€»ç»“ä¸€ä¸‹ï¼Œå°†ä¸€äº›ç‚¹åšä¸‹è®°å½•ã€‚</p><a id="more"></a><h3 id="Vue2"><a href="#Vue2" class="headerlink" title="Vue2"></a>Vue2</h3>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>EventLoop</title>
      <link href="/2020/06/12/2020/EventLoop/"/>
      <url>/2020/06/12/2020/EventLoop/</url>
      
        <content type="html"><![CDATA[<h2 id="EventLoop"><a href="#EventLoop" class="headerlink" title="EventLoop"></a>EventLoop</h2><p>å…ˆäº†è§£ä¸‹ä»»åŠ¡é˜Ÿåˆ—</p><ul><li>æ‰€æœ‰åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆ</li><li>ä¸»çº¿ç¨‹ä¹‹å¤–ï¼Œè¿˜å­˜åœ¨ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ã€‚åªè¦å¼‚æ­¥ä»»åŠ¡æœ‰äº†è¿è¡Œç»“æœï¼Œå°±åœ¨ä»»åŠ¡é˜Ÿåˆ—ä¹‹ä¸­æ”¾ç½®ä¸€ä¸ªäº‹ä»¶ã€‚</li><li>ä¸€æ—¦æ‰§è¡Œæ ˆä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç³»ç»Ÿå°±ä¼šè¯»å–ä»»åŠ¡é˜Ÿåˆ—ï¼Œçœ‹çœ‹é‡Œé¢æœ‰å“ªäº›äº‹ä»¶ã€‚é‚£äº›å¯¹åº”çš„å¼‚æ­¥ä»»åŠ¡ï¼Œäºæ˜¯ç»“æŸç­‰å¾…çŠ¶æ€ï¼Œè¿›å…¥æ‰§è¡Œæ ˆï¼Œå¼€å§‹æ‰§è¡Œã€‚</li><li><p>ä¸»çº¿ç¨‹ä¸æ–­é‡å¤ä¸Šé¢çš„ç¬¬ä¸‰æ­¥ã€‚<br>æ­¤æ—¶åŒºåˆ†ä¸ºæµè§ˆå™¨çš„äº‹ä»¶å¾ªç¯å’ŒNodeç«¯çš„äº‹ä»¶å¾ªç¯ã€‚ä¸‹é¢å°†ä¸€ä¸€è¯¦è§£ã€‚<br>ä¸»çº¿ç¨‹ä»ä»»åŠ¡é˜Ÿåˆ—ä¸­è¯»å–äº‹ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ªç¯ä¸æ–­çš„ï¼Œæ‰€ä»¥æ•´ä¸ªçš„è¿™ç§è¿è¡Œæœºåˆ¶åˆç§°ä¸ºEvent Loop(äº‹ä»¶å¾ªç¯)</p><a id="more"></a><p>åœ¨ä¸€ä¸ªäº‹ä»¶å¾ªç¯å½“ä¸­ï¼Œæ‰§è¡Œçš„æ­¥éª¤å¦‚ä¸‹ï¼š</p></li><li><p>é¦–å…ˆå°†åŒæ­¥ä»£ç æ”¾å…¥æ‰§è¡Œæ ˆè¿›è¡Œæ‰§è¡Œï¼Œè‹¥å­˜åœ¨å¼‚æ­¥äº‹ä»¶åˆ™å°†å…¶çš„è¿”å›ç»“æœä¼šè¢«æ”¾åˆ°ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚ä»»åŠ¡é˜Ÿåˆ—åˆåˆ†ä¸ºå®ä»»åŠ¡é˜Ÿåˆ—å’Œå¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚</p></li><li>å½“æ‰§è¡Œæ ˆä¸ºç©ºæ—¶ï¼Œä¼šä¼˜å…ˆæŸ¥çœ‹å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰äº‹ä»¶å­˜åœ¨</li><li>è‹¥å­˜åœ¨ï¼Œåˆ™ä¾æ¬¡æ‰§è¡Œé˜Ÿåˆ—äº‹ä»¶ä¸­çš„å¯¹åº”å›è°ƒï¼Œç›´åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºï¼Œå†è¿›å…¥ä¸‹ä¸€æ­¥</li><li>è‹¥ä¸å­˜åœ¨ï¼Œè·³å¾€ä¸‹ä¸€æ­¥</li><li>æŸ¥çœ‹å®ä»»åŠ¡é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰äº‹ä»¶å­˜åœ¨</li><li>è‹¥å­˜åœ¨ï¼Œåˆ™å°†é˜Ÿåˆ—ä¸­çš„äº‹ä»¶çš„å¯¹åº”å›è°ƒæ”¾å…¥æ‰§è¡Œæ ˆæ‰§è¡Œ</li><li>è‹¥ä¸å­˜åœ¨ï¼Œè·³å¾€ä¸‹ä¸€æ­¥</li><li>è‹¥æ‰§è¡Œæ ˆä¸­åˆæœ‰å¼‚æ­¥ä»£ç ï¼Œåˆ™æ”¾å…¥ä¸‹ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ã€‚å¦‚æ­¤åå¤å¾ªç¯å‰ä¸‰ä¸ªæ­¥éª¤</li></ul><p>ä»ä»¥ä¸Šæˆ‘ä»¬å¾—çŸ¥é‡ç‚¹æ˜¯æ‰§è¡Œæ ˆä¸ºç©ºåä¼˜å…ˆå¤„ç†<code>å¾®ä»»åŠ¡</code>å†å¤„ç†<code>å®ä»»åŠ¡</code>ã€‚</p><p>å¾®ä»»åŠ¡ï¼š</p><ul><li>process.nextTick</li><li>promiseã€thenã€catch</li><li>Object.observe</li></ul><p>å®ä»»åŠ¡ï¼š</p><ul><li>setTimeout</li><li>setInterval</li><li>I\O</li><li>setImmediate</li></ul><p>eg.</p><pre><code>console.log(&#39;start&#39;)const interval = setInterval(() =&gt; {    console.log(&#39;setInterval&#39;)}, 0)setTimeout(() =&gt; {    console.log(&#39;setTimeout 1&#39;)  Promise.resolve()      .then(() =&gt; {        console.log(&#39;promise 3&#39;)      })      .then(() =&gt; {        console.log(&#39;promise 4&#39;)      })      .then(() =&gt; {        setTimeout(() =&gt; {          console.log(&#39;setTimeout 2&#39;)          Promise.resolve()              .then(() =&gt; {                console.log(&#39;promise 5&#39;)              })              .then(() =&gt; {                console.log(&#39;promise 6&#39;)              })              .then(() =&gt; {                clearInterval(interval)              })        }, 0)      })}, 0)Promise.resolve().then(() =&gt; {      console.log(&#39;promise 1&#39;)}).then(() =&gt; {    console.log(&#39;promise 2&#39;)})</code></pre><p><em>ä¼šè¾“å‡ºä»€ä¹ˆå‘¢?</em></p><p>ç­”æ¡ˆ:</p><ol><li>start</li><li>promise 1</li><li>promise 2</li><li>setInterval</li><li>setTimeout 1</li><li>promise 3</li><li>promise 4</li><li>setInterval</li><li>setTimeout 2</li><li>promise 5</li><li>promise 6</li></ol><p>å…¶å®æŒ‰ç…§ä»¥ä¸Šçš„æ€è·¯ï¼Œå®ä»»åŠ¡-å¾®ä»»åŠ¡-å®ä»»åŠ¡ï¼Œæ˜¯å¾ˆå¥½ç†è§£çš„ã€‚</p><p><code>then</code></p><pre><code>const p = function() {    return new Promise((resolve, reject) =&gt; {        const p1 = new Promise((resolve, reject) =&gt; {            setTimeout(() =&gt; {                resolve(1);            });            resolve(2);        });        p1.then((res) =&gt; {            console.log(res);        });        console.log(3);        resolve(4);    })}p.then((res) =&gt; {    console.log(res);})console.log(&#39;end&#39;)</code></pre><p><em>ä½ çŸ¥é“ç­”æ¡ˆå—?</em></p><p>Aï¼š 3-end-2-4<br>ä½ ç­”å¯¹äº†å—?</p><p>è§£æ:<br>æ‰§è¡Œä»£ç ï¼ŒPromiseæœ¬èº«æ˜¯åŒæ­¥çš„ç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œ.thenæ˜¯å¼‚æ­¥æ‰§è¡Œå‡½æ•°ã€‚é‡åˆ°setTimeoutï¼Œå…ˆæŠŠå…¶æ”¾å…¥å®ä»»åŠ¡é˜Ÿåˆ—ä¸­é‡åˆ°p1.thenä¼šå…ˆæ”¾åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œæ¥ç€å¾€ä¸‹æ‰§è¡Œï¼Œè¾“å‡º 3<br>é‡åˆ° p().then ä¼šå…ˆæ”¾åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œæ¥ç€å¾€ä¸‹æ‰§è¡Œï¼Œè¾“å‡º end<br>åŒæ­¥ä»£ç å—æ‰§è¡Œå®Œæˆåï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œé¦–å…ˆæ‰§è¡Œ p1.thenï¼Œè¾“å‡º 2, æ¥ç€æ‰§è¡Œp().then, è¾“å‡º 4<br>å¾®ä»»åŠ¡æ‰§è¡Œå®Œæˆåï¼Œå¼€å§‹æ‰§è¡Œå®ä»»åŠ¡ï¼ŒsetTimeout, resolve(1)ï¼Œä½†æ˜¯æ­¤æ—¶ p1.thenå·²ç»æ‰§è¡Œå®Œæˆï¼Œæ­¤æ—¶ 1ä¸ä¼šè¾“å‡ºã€‚</p><h2 id="Node-EventLoop"><a href="#Node-EventLoop" class="headerlink" title="Node EventLoop"></a>Node EventLoop</h2><p><img src="/2020/06/12/2020/EventLoop/NO1.png" alt="NO1" title="NO1"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è·¨åŸŸè®¿é—®</title>
      <link href="/2020/05/11/2020/cors%E8%B7%A8%E5%9F%9F/"/>
      <url>/2020/05/11/2020/cors%E8%B7%A8%E5%9F%9F/</url>
      
        <content type="html"><![CDATA[<h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>Cross-Origin Resource Sharingï¼ˆCORSï¼‰è·¨æ¥æºèµ„æºå…±äº«æ˜¯ä¸€ä»½æµè§ˆå™¨æŠ€æœ¯çš„è§„èŒƒï¼Œæä¾›äº† Web æœåŠ¡ä»ä¸åŒåŸŸä¼ æ¥æ²™ç›’è„šæœ¬çš„æ–¹æ³•ï¼Œä»¥é¿å¼€æµè§ˆå™¨çš„åŒæºç­–ç•¥ã€‚</p><h3 id="åŒæºç­–ç•¥"><a href="#åŒæºç­–ç•¥" class="headerlink" title="åŒæºç­–ç•¥"></a>åŒæºç­–ç•¥</h3><p><em>åŒæºç­–ç•¥?</em></p><p>æº(origin)å…¶å®å°±æ˜¯æŒ‡çš„URLã€‚<br>eg. <a href="https://jayantxu.cn:80/p/abcd#123?query=cool">https://jayantxu.cn:80/p/abcd#123?query=cool</a></p><table><thead><tr><th>protocol</th><th>host</th><th>port</th><th>pathname</th><th>hash</th><th>query string</th></tr></thead><tbody><tr><td>https</td><td>jayantxu.cn</td><td>80</td><td>/p/abcd</td><td>123</td><td>query=cool</td></tr><tr><td>location.protocol</td><td>location.host</td><td>location.port</td><td>location.pathname</td><td>location.hash</td><td>location.search</td></tr></tbody></table><p>åŒæºå°±æ˜¯æŒ‡URLä¸­<code>protocolåè®®</code>ã€<code>hoståŸŸå</code>ã€<code>portç«¯å£</code>è¿™ä¸‰ä¸ªéƒ¨åˆ†ç›¸åŒï¼Œå…¶ä¸­ä¸€è€…ä¸åŒå³ä¸åŒã€‚</p><p>æºä¸åŒä¼šé™åˆ¶ä½ ï¼š</p><ul><li>AJAX è¯·æ±‚ä¸èƒ½å‘é€ã€‚</li><li>æ— æ³•è·å–DOMå…ƒç´ å¹¶è¿›è¡Œæ“ä½œã€‚</li><li>æ— æ³•è¯»å–Cookieã€LocalStorage å’Œ IndexDB ã€‚</li></ul><a id="more"></a><p>æœ‰äº›è¯·æ±‚æ˜¯ä¸å—è·¨åŸŸè¯·æ±‚é™åˆ¶çš„, eg. WebSocketã€scriptã€imgã€iframeã€videoã€audioâ€¦</p><p>è·¨åŸŸé”™è¯¯ï¼š</p><pre><code>[Error] Origin http://127.0.0.1:8080 is not allowed by Access-Control-Allow-Origin.[Error] Failed to load resource: Origin http://127.0.0.1:8080 is not allowed by Access-Control-Allow-Origin. (normal, line 0)[Error] XMLHttpRequest cannot load http://127.0.0.1:3000/getInfo due to access control checks.</code></pre><h3 id="å¸¸è§è§£å†³æ–¹æ³•"><a href="#å¸¸è§è§£å†³æ–¹æ³•" class="headerlink" title="å¸¸è§è§£å†³æ–¹æ³•"></a>å¸¸è§è§£å†³æ–¹æ³•</h3><h4 id="1ã€jsonpè¯·æ±‚"><a href="#1ã€jsonpè¯·æ±‚" class="headerlink" title="1ã€jsonpè¯·æ±‚"></a>1ã€jsonpè¯·æ±‚</h4><p>åªæ¥å—getè¿™ä¸€ç§è¯·æ±‚ã€‚<br>eg.Ajax</p><pre><code>dataType: &#39;jsonp&#39;</code></pre><h4 id="2ã€postMessageè·¨åŸŸ"><a href="#2ã€postMessageè·¨åŸŸ" class="headerlink" title="2ã€postMessageè·¨åŸŸ"></a>2ã€postMessageè·¨åŸŸ</h4><p>H5çš„æ–°API</p><ol><li>é¡µé¢å’Œå…¶æ‰“å¼€çš„æ–°çª—å£çš„æ•°æ®ä¼ é€’</li><li>å¤šçª—å£ä¹‹é—´æ¶ˆæ¯ä¼ é€’</li><li>é¡µé¢ä¸åµŒå¥—çš„iframeæ¶ˆæ¯ä¼ é€’</li><li>ä¸Šé¢ä¸‰ä¸ªåœºæ™¯çš„è·¨åŸŸæ•°æ®ä¼ é€’</li></ol><p>ä¾‹å¦‚ï¼šä½¿ç”¨iframeå…¼å®¹è€ç³»ç»Ÿï¼ŒåµŒå…¥æ‰“å¼€çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨æ­¤è¿›è¡Œé€šä¿¡ã€‚</p><p><em>a.html</em></p><pre><code>&lt;iframe id=&quot;iframe&quot; src=&quot;http://www.domain2.com/b.html&quot; style=&quot;display:none;&quot;&gt;&lt;/iframe&gt;&lt;script&gt;           var iframe = document.getElementById(&#39;iframe&#39;);    iframe.onload = function() {        var data = {            name: &#39;aym&#39;        };        // å‘domain2ä¼ é€è·¨åŸŸæ•°æ®        iframe.contentWindow.postMessage(JSON.stringify(data), &#39;http://www.domain2.com&#39;);    };    // æ¥å—domain2è¿”å›æ•°æ®    window.addEventListener(&#39;message&#39;, function(e) {        alert(&#39;data from domain2 ---&gt; &#39; + e.data);    }, false);&lt;/script&gt;</code></pre><p><em>b.html</em></p><pre><code>&lt;script&gt;    // æ¥æ”¶domain1çš„æ•°æ®    window.addEventListener(&#39;message&#39;, function(e) {        alert(&#39;data from domain1 ---&gt; &#39; + e.data);        var data = JSON.parse(e.data);        if (data) {            data.number = 16;            // å¤„ç†åå†å‘å›domain1            window.parent.postMessage(JSON.stringify(data), &#39;http://www.domain1.com&#39;);        }    }, false);&lt;/script&gt;</code></pre><h4 id="3ã€corsè·¨åŸŸèµ„æºå…±äº«"><a href="#3ã€corsè·¨åŸŸèµ„æºå…±äº«" class="headerlink" title="3ã€corsè·¨åŸŸèµ„æºå…±äº«"></a>3ã€corsè·¨åŸŸèµ„æºå…±äº«</h4><p>æµè§ˆå™¨å°†corsè¯·æ±‚åˆ†ä¸ºäº†ä¸¤ç±»ï¼šç®€å•è¯·æ±‚ï¼Œéç®€å•è¯·æ±‚ã€‚</p><p>ç®€å•è¯·æ±‚: åœ¨å¤´ä¿¡æ¯ä¸­ï¼Œå¢åŠ ä¸€ä¸ªoriginå­—æ®µï¼Œç”¨äºè¯´æ˜ï¼Œæœ¬æ¬¡è¯·æ±‚æ¥è‡ªå“ªä¸ªæºï¼ŒæœåŠ¡å™¨æ ¹æ®è¿™ä¸ªå€¼ï¼Œå†³å®šæ˜¯å¦åŒæ„æ­¤è¯·æ±‚ã€‚</p><ol><li>HEAD</li><li>GET</li><li>POST<br>(content-typeåªé™äºä¸‰ä¸ªå€¼ï¼š<code>application/x-www-form-urlencoded</code>ã€<code>multipart/form-data</code>ã€<code>text/plain</code>)</li></ol><p>å¦‚æœOriginæŒ‡å®šçš„æºï¼Œä¸åœ¨è®¸å¯èŒƒå›´å†…ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›ä¸€ä¸ªæ­£å¸¸çš„HTTPå›åº”ã€‚<br>æµè§ˆå™¨å‘ç°ï¼Œè¿™ä¸ªå›åº”çš„å¤´ä¿¡æ¯æ²¡æœ‰åŒ…å«Access-Control-Allow-Originå­—æ®µï¼ˆè¯¦è§ä¸‹æ–‡ï¼‰ï¼Œå°±çŸ¥é“å‡ºé”™äº†ï¼Œä»è€ŒæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œè¢«XMLHttpRequestçš„onerrorå›è°ƒå‡½æ•°æ•è·ã€‚æ³¨æ„ï¼Œè¿™ç§é”™è¯¯æ— æ³•é€šè¿‡çŠ¶æ€ç è¯†åˆ«ï¼Œå› ä¸ºHTTPå›åº”çš„çŠ¶æ€ç æœ‰å¯èƒ½æ˜¯200ã€‚<br><strong>æ‰€ä»¥ï¼šè¯·æ±‚æ˜¯å‘é€å‡ºå»äº†çš„ï¼è¿”å›ä¹‹åæµè§ˆå™¨å¤„ç†åæŠ¥é”™</strong></p><p>å¦‚æœOriginæŒ‡å®šçš„åŸŸååœ¨è®¸å¯èŒƒå›´å†…ï¼ŒæœåŠ¡å™¨è¿”å›çš„å“åº”ï¼Œä¼šå¤šå‡ºå‡ ä¸ªå¤´ä¿¡æ¯å­—æ®µã€‚</p><pre><code>Access-Control-Allow-Origin: http://api.alipay.com  // è¡¨ç¤ºæ¥å—çš„åŸŸåAccess-Control-Allow-Credentials: true // æ˜¯å¦å…è®¸å‘é€cookieAccess-Control-Expose-Headers: FooBarContent-Type: text/html; charset=utf-8</code></pre><p>éç®€å•è¯·æ±‚</p><p>é¢„æ£€è¯·æ±‚ï¼šåœ¨æ­£å¼é€šä¿¡å‰ï¼Œä¼šå…ˆè¯·æ±‚æŸ¥è¯¢å½“å‰åŸŸåæ˜¯å¦åœ¨æœåŠ¡å™¨è®¸å¯åå•å†…ï¼Œä»¥åŠä½¿ç”¨å“ªäº›å¤´ä¿¡æ¯ç­‰ï¼Œåœ¨è‚¯å®šç­”å¤åï¼Œæ‰ä¼šæ­£å¼å‘å‡ºè¯·æ±‚ï¼Œå¦åˆ™æŠ¥é”™ã€‚<br>é¢„æ£€çš„è¯·æ±‚æ–¹æ³•æ˜¯<code>OPTION</code></p><p>eg.<br>è¿™ä¸ªè¯·æ±‚ï¼š</p><pre><code>var url = &#39;http://api.alipay.com/cors&#39;;var xhr = new XMLHttpRequest();xhr.open(&#39;PUT&#39;, url, true);xhr.setRequestHeader(&#39;X-Custom-Header&#39;, &#39;value&#39;);xhr.send();</code></pre><p>æµè§ˆå™¨å‘ç°æ˜¯éç®€å•è¯·æ±‚ï¼Œæ‰€ä»¥ä¼š<code>é¢„æ£€</code><br>é¢„æ£€ï¼š</p><pre><code>OPTIONS /cors HTTP/1.1Origin: http://api.alipay.comAccess-Control-Request-Method: PUT // å› ä¸ºæ˜¯PUTï¼Œæ‰€ä»¥åˆ—å‡ºPUTAccess-Control-Request-Headers: X-Custom-Header // æŒ‡å®šæµè§ˆå™¨CORSè¯·æ±‚ä¼šé¢å¤–å‘é€çš„å¤´ä¿¡æ¯å­—æ®µHost: api.alice.com Accept-Language: en-USConnection: keep-aliveUser-Agent: Mozilla/5.0...</code></pre><p>é¢„æ£€çš„å›åº”ï¼š<br>æœåŠ¡å™¨æ”¶åˆ°â€é¢„æ£€â€è¯·æ±‚ä»¥åï¼Œæ£€æŸ¥äº†<code>Origin</code>ã€<code>Access-Control-Request-Method</code>å’Œ<code>Access-Control-Request-Headers</code>å­—æ®µä»¥åï¼Œç¡®è®¤å…è®¸è·¨æºè¯·æ±‚ï¼Œå°±å¯ä»¥åšå‡ºå›åº”ã€‚</p><pre><code>HTTP/1.1 200 OKDate: Mon, 01 Dec 2020 01:15:39 GMTServer: Apache/2.0.61 (Unix)Access-Control-Allow-Origin: http://api.alipay.com  // è¡¨ç¤ºæ¥å—çš„æºAccess-Control-Allow-Methods: GET, POST, PUT // æ¥å—çš„æ–¹æ³•Access-Control-Allow-Headers: X-Custom-HeaderContent-Type: text/html; charset=utf-8Content-Encoding: gzipContent-Length: 0Keep-Alive: timeout=2, max=100Connection: Keep-AliveContent-Type: text/plain</code></pre><p>å¦‚æœæµè§ˆå™¨ä¸æ¥å—ï¼Œåˆ™è¿”å›ä¸€ä¸ªæ­£å¸¸å›åº”ï¼Œæ²¡æœ‰ä»»ä½•corså¤´ä¿¡æ¯ï¼Œæµè§ˆå™¨è®¤å®šä¸åŒæ„é¢„æ£€è¯·æ±‚ï¼Œå°±æŠ¥é”™äº†ã€‚</p><p><em>withCredentials</em><br>åˆšåˆšæåˆ°è¦å‘é€cookieï¼Œé™¤äº†æµè§ˆå™¨åŒæ„ï¼ŒæŒ‡å®šäº†<code>Access-Control-Allow-Credentials</code>å­—æ®µå¤–ï¼Œå‰ç«¯çš„è¯·æ±‚ä¹Ÿéœ€è¦å¼€å¯<code>xhr.withCredentials = true</code></p><p>å›¾ç¤ºï¼š</p><p><img src="/2020/05/11/2020/corsè·¨åŸŸ/NO1.png" alt="NO1" title="NO1"></p><h4 id="4ã€ä»£ç†å‹-nginx-node"><a href="#4ã€ä»£ç†å‹-nginx-node" class="headerlink" title="4ã€ä»£ç†å‹:nginx / node"></a>4ã€ä»£ç†å‹:nginx / node</h4><ol><li><p>ä½¿ç”¨nginxåšä»£ç†ï¼ŒæŠŠè¯·æ±‚åˆ†å‘å»æœåŠ¡å™¨ã€‚</p><pre><code>#proxyæœåŠ¡å™¨server { listen       8090; server_name  xxx; location / {     proxy_pass   xxx:8080;  #åå‘ä»£ç† }}</code></pre></li><li><p>nodeæ­ä¸€ä¸ªä¸­è½¬ã€‚</p></li></ol><h4 id="5ã€websocket"><a href="#5ã€websocket" class="headerlink" title="5ã€websocket"></a>5ã€websocket</h4><p>H5çš„æ–°åè®®ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> HTTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è´¹èˆå°”.è€¶èŒ¨æ··æ´—</title>
      <link href="/2020/04/07/2020/%E8%B4%B9%E8%88%8D%E5%B0%94-%E8%80%B6%E8%8C%A8%E6%B7%B7%E6%B4%97/"/>
      <url>/2020/04/07/2020/%E8%B4%B9%E8%88%8D%E5%B0%94-%E8%80%B6%E8%8C%A8%E6%B7%B7%E6%B4%97/</url>
      
        <content type="html"><![CDATA[<h6 id="è´¹èˆå°”-è€¶èŒ¨æ··æ´—"><a href="#è´¹èˆå°”-è€¶èŒ¨æ··æ´—" class="headerlink" title="è´¹èˆå°”.è€¶èŒ¨æ··æ´—"></a>è´¹èˆå°”.è€¶èŒ¨æ··æ´—</h6><p>.from url <a href="https://bost.ocks.org/mike/shuffle/" target="_blank" rel="noopener">è´¹èˆå°”.è€¶èŒ¨æ··æ´—</a></p><p>æ•°å­— 1 - N ä¹‹é—´çš„ä¸€ç»„æ··æ’ï¼Œå¤§æ¦‚ä¸€ä¸‹å­å¯ä»¥æƒ³åˆ°çš„æ˜¯ï¼š</p><ul><li>ä»æ•°ç»„ä¸­å–æ•°ç»„é•¿åº¦ä¸­çš„ä¸€ä¸ªéšæœºæ•° Kã€‚</li><li>ç„¶åå°†æ•°ç»„ K ç´¢å¼•å¤„çš„ æ•°å€¼å–å‡º spliceï¼Œå †å¦‚æ–°æ•°ç»„ã€‚</li><li>é‡å¤â€¦</li></ul><p>æ··æ´—çš„ç®—æ³•ä¸­ï¼Œä½¿ç”¨ä»æ•°ç»„çš„é«˜ä½å¼€å§‹ã€‚<br>æˆ‘ä»¬ä½¿ç”¨æ•°ç»„çš„åéƒ¨å­˜å‚¨éšæœºç»„åˆçš„å…ƒç´ ï¼Œå¹¶ä½¿ç”¨æ•°ç»„çš„å‰éƒ¨å­˜å‚¨å…¶ä½™å…ƒç´ ã€‚<br>åªè¦æˆ‘ä»¬åœ¨é€‰å–æ—¶è¿›è¡Œç»Ÿä¸€é‡‡æ ·ï¼Œæˆ‘ä»¬å°±ä¸ä¼šå…³å¿ƒå…¶ä½™å…ƒç´ çš„é¡ºåºï¼ä¸ºäº†å®ç°å°±åœ°Oï¼ˆnï¼‰éšæœºæ’­æ”¾ï¼Œç„¶åï¼Œä»å‰é¢é€‰æ‹©ä¸€ä¸ªéšæœºå‰©ä½™çš„å…ƒç´ ï¼Œå¹¶å°†å…¶æ”¾ç½®åœ¨æ–°ä½ç½®ï¼ˆåœ¨åé¢ï¼‰ã€‚<br>åé¢çš„æœªæ”¹ç»„å…ƒç´ äº¤æ¢åˆ°å‰é¢ï¼Œåœ¨æ­¤å¤„ç­‰å¾…åç»­æ”¹ç»„ï¼š</p><a id="more"></a><pre><code>function shuffle(array) {  var m = array.length, t, i;  // While there remain elements to shuffleâ€¦  while (m) {    // Pick a remaining elementâ€¦    i = Math.floor(Math.random() * m--);    // And swap it with the current element.    t = array[m];    array[m] = array[i];    array[i] = t;  }  return array;}</code></pre><p>å³æ˜¯:</p><p>index   0   1   2   3   4   5   6   7   8   9   10  11   12<br>value   1   2   3   4   5   6   7   8   9   10  J   Q   K</p><p><strong>ç¬¬ä¸€è½®ï¼š</strong><br>å°† ä» æ•°ç»„é•¿åº¦ 12 ä¸­éšæœºå–å‡ºçš„ç´¢å¼•ï¼Œä¸æœ€åä¸€ä½ç½®æ¢:</p><p>.eg<br>m = 12<br>i = 3<br>index   0   1   2   3   4   5   6   7   8   9   10  11   12<br>value   1   2   3   K   5   6   7   8   9   10  J   Q   4</p><p><strong>ç¬¬äºŒè½®</strong><br>.eg<br>m = 11<br>i = â€¦ (0 ~ 11 ä¹‹é—´ï¼Œä¸ä¼šå†å½±å“åˆ°å·²æ’åºæ•°ç»„å…ƒç´ ï¼Œå³ 11 ä¹‹åçš„å…ƒç´ äº†~)</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è½®æ’­</title>
      <link href="/2020/03/30/2020/%E8%BD%AE%E6%92%AD/"/>
      <url>/2020/03/30/2020/%E8%BD%AE%E6%92%AD/</url>
      
        <content type="html"><![CDATA[<p><em>2020-07-03æ›´æ–°æè¿°ï¼šå›å¤´å†çœ‹ï¼Œè¿™ä¸ªå¤„ç†è¿‡ç¨‹å¹¶ä¸ä¼˜é›…ğŸ¤’ï¼Œå†™çš„ä¹Ÿä¸å¥½ğŸ¤£ï¼Œæƒå½“å½“æ—¶çš„æ€è·¯è®°å½•å§</em></p><h4 id="ä»¿é€ -CloudCarousel-3Dè½®æ’­"><a href="#ä»¿é€ -CloudCarousel-3Dè½®æ’­" class="headerlink" title="ä»¿é€  CloudCarousel 3Dè½®æ’­"></a>ä»¿é€  CloudCarousel 3Dè½®æ’­</h4><p>å…ˆä¸Šæ•ˆæœå›¾:<br><img src="/2020/03/30/2020/è½®æ’­/NO1.gif" alt="NO1" title="NO1"><br>ï¼ˆå¾ˆæ˜¯ç²—ç³™ï¼Œè¿˜æœªåšæˆé€šç”¨å‹ï¼Œæœªä¼˜åŒ–ï¼Œå…ˆåšè®°å½•ä¸‹ï¼Œä»¥ <strong>8</strong> å›¾ä½ä¸ºä¾‹å­ï¼‰</p><a id="more"></a><h5 id="é¦–å…ˆæˆ‘ä»¬éœ€è¦å°†å‡ ä¸ªå…ƒç´ æ’åˆ—æˆåœ†"><a href="#é¦–å…ˆæˆ‘ä»¬éœ€è¦å°†å‡ ä¸ªå…ƒç´ æ’åˆ—æˆåœ†" class="headerlink" title="# é¦–å…ˆæˆ‘ä»¬éœ€è¦å°†å‡ ä¸ªå…ƒç´ æ’åˆ—æˆåœ†"></a># <strong>é¦–å…ˆæˆ‘ä»¬éœ€è¦å°†å‡ ä¸ªå…ƒç´ æ’åˆ—æˆåœ†</strong></h5><p>æˆ‘ä»¬å¯ä»¥å…ˆè®¡ç®— æ¯ä¸€ä¸ªå…ƒç´ ä¹‹é—´é—´éš”å¤šå°‘è§’åº¦</p><pre><code>const distance = 360 / this.carouselData.length ;const itemdis = distance * Math.PI / 180;// 180Â° = Î  * å¼§åº¦// =&gt; å¼§åº¦ = 180Â° / Î // æ‰€ä»¥å½“æˆ‘ä»¬çŸ¥é“äº†æ¯ä¸€ä¸ªæ‰€å çš„è§’åº¦ï¼Œå°±å¯ä»¥çŸ¥é“å®ƒ æ¯ä¸¤ä¸ªé—´å®šé•¿çš„å¼§åº¦</code></pre><p><img src="/2020/03/30/2020/è½®æ’­/NO2.gif" alt="NO2" title="NO2"></p><p><strong>ä»¥ æ•°ç»„ä¸­æ¯ä¸€ä½ æ•°çš„ index ç´¢å¼•ä¸ å¼§åº¦ç›¸ä¹˜ï¼Œç»“åˆ cos ã€ sin å‡½æ•°ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®©ä»–ä»¬å›´ç»•æˆä¸ºåœ†</strong></p><p>è€ŒåŠå¾„åˆ™äº¤ç»™ <strong>radius</strong> å»å†³å®š</p><ul><li>Math.sin( (itemdis  <em> index) ) </em> radiusH + â€˜pxâ€™</li><li>Math.cos( (itemdis <em> index) ) </em> radiusH + â€˜pxâ€™</li></ul><p>æ‰€ä»¥ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç•Œé¢ä¸Šç”»å‡ºï¼š<br><img src="/2020/03/30/2020/è½®æ’­/NO3.png" alt="NO3" title="NO3"></p><p><strong>ä¸ºä»€ä¹ˆå®ƒåªæœ‰ä¸¤ä¸ªï¼Ÿ</strong></p><p>è¿™å°±æ˜¯å› ä¸ºåœ†å¿ƒæˆ‘ä»¬å¹¶æ²¡æœ‰è¿›è¡Œè®¾ç½®ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨ä¸Šä¸€æ­¥çš„åŸºç¡€ä¸Šè·å–å®ƒçš„çˆ¶å®¹å™¨çš„ å®½é«˜ ä½œä¸ºä¸­å¿ƒç‚¹ã€‚ï¼ˆä¸­å¿ƒç‚¹å¯ä»¥è‡ªç”±å»è®¾ç½®ï¼Œæ­¤å›¾ä¸ºäº†å®Œæ•´å±•ç°ï¼Œæ•°æ®ä¸å®Œå…¨ã€‚ï¼‰</p><p><img src="/2020/03/30/2020/è½®æ’­/NO4.png" alt="NO4" title="NO4"></p><p>äºæ˜¯æˆ‘ä»¬å®Œæˆäº†ç¬¬ä¸€æ­¥ï¼Œå°†ä»–ä»¬æ’åˆ—æˆ<strong>åœ†</strong>ã€‚</p><h5 id="æ”¾æ‰ï¼Œæœ‰ç«‹ä½“æ„Ÿ"><a href="#æ”¾æ‰ï¼Œæœ‰ç«‹ä½“æ„Ÿ" class="headerlink" title="# æ”¾æ‰ï¼Œæœ‰ç«‹ä½“æ„Ÿ"></a># <strong>æ”¾æ‰ï¼Œæœ‰ç«‹ä½“æ„Ÿ</strong></h5><p>ç¬¬äºŒæ­¥çš„æ“ä½œå…¶å®å¹¶ä¸éº»çƒ¦ï¼Œæˆ‘ä»¬ä»…éœ€è¦å°†ä»–ä»¬ bottom ç«–è½´çš„åŠå¾„è¿›è¡Œå‹ç¼©ï¼Œä»–ä»¬éšä¹‹å°±å¯ä»¥æˆä¸ºä¸€ä¸ªç«‹ä½“çš„æ¤­åœ†äº†ã€‚<strong>é æƒ³è±¡</strong></p><p><img src="/2020/03/30/2020/è½®æ’­/NO5.png" alt="NO5" title="NO5"></p><h5 id="åŠ¨èµ·æ¥"><a href="#åŠ¨èµ·æ¥" class="headerlink" title="# åŠ¨èµ·æ¥"></a># <strong>åŠ¨èµ·æ¥</strong></h5><p>èµ·åˆæƒ³ä¾é  å¯¹ <strong>æ•°æ®æ•°ç»„</strong> è¿›è¡Œ å¤´éƒ¨åˆ é™¤ï¼Œå°¾éƒ¨æ’å…¥æ”¹å˜åºåˆ—ä½ç½®ï¼Œä»è€Œè¾¾åˆ°åŠ¨èµ·æ¥çš„æ•ˆæœã€‚</p><pre><code>this.interval = setInterval(() =&gt; {    // ä¸´ç•Œæ¡ä»¶ï¼Œå• 0 ç´¢å¼•çš„ä½ç½®ç­‰äºç›®æ ‡å…ƒç´  çš„æ—¶å€™å³åœæ­¢ã€‚    if(this.carouselData[0][&#39;name&#39;] === item[&#39;name&#39;]) {        clearInterval(this.interval);    }    // å‡º 0å·ä½ç½®    unitItem = JSON.parse(JSON.stringify(this.carouselData[0]));    this.carouselData.splice(0, 1);    this.$nextTick(() =&gt; {        // å…¥ æ•°ç»„å°¾éƒ¨        this.carouselData.push(unitItem);    })}, 500);</code></pre><pre><code>transition all .8s ease</code></pre><p><strong>è·‘é¢˜ï¼š</strong><br>transition å±æ€§æ˜¯ä¸€ä¸ªç®€å†™å±æ€§ï¼Œç”¨äºè®¾ç½®å››ä¸ªè¿‡æ¸¡å±æ€§ï¼š</p><ul><li>transition-propertyï¼š<br>è§„å®šè®¾ç½®è¿‡æ¸¡æ•ˆæœçš„ CSS å±æ€§çš„åç§°</li><li>transition-durationï¼š<br>è§„å®šå®Œæˆè¿‡æ¸¡æ•ˆæœéœ€è¦å¤šå°‘ç§’æˆ–æ¯«ç§’ã€‚</li><li>transition-timing-functionï¼š<br>è§„å®šé€Ÿåº¦æ•ˆæœçš„é€Ÿåº¦æ›²çº¿ã€‚</li><li>transition-delay<br>å®šä¹‰è¿‡æ¸¡æ•ˆæœä½•æ—¶å¼€å§‹ã€‚</li></ul><p><strong>over</strong></p><p>è¿™æ ·çš„ç¡®å¯ä»¥æœ‰æ•ˆé’ˆå¯¹ä¸­é—´å…ƒç´ çš„ç§»åŠ¨æ”¹å˜ã€‚ä½†æ˜¯æ¯ä¸€æ¬¡æ’å…¥ æ•°ç»„å°¾éƒ¨ çš„è¯¥å…ƒç´ æ¥è¯´ï¼Œç”±äºæ— æ³•è·Ÿè¸ªå®ƒæ’å…¥å‰çš„ä½ç½®ï¼Œå…ƒç´ ä¿¡æ¯ç­‰ç­‰ç­‰ã€‚æ‰€ä»¥transitionå¯¹å®ƒæ¥è¯´æ˜¯æ— æ•ˆçš„ã€‚<br>è¿™å°±é€ æˆäº†ä¸‹é¢ï¼ˆå¦‚å›¾ï¼‰çš„é—®é¢˜ã€‚</p><p><img src="/2020/03/30/2020/è½®æ’­/NO6.png" alt="NO6" title="NO6"></p><p>è‡³å°‘æˆ‘ä»¬å®ç°äº†ç¬¬äºŒæ­¥ï¼ŒåŠ¨èµ·æ¥ã€‚</p><h5 id="æ›´å®Œç¾çš„åŠ¨èµ·æ¥"><a href="#æ›´å®Œç¾çš„åŠ¨èµ·æ¥" class="headerlink" title="# æ›´å®Œç¾çš„åŠ¨èµ·æ¥"></a># <strong>æ›´å®Œç¾çš„åŠ¨èµ·æ¥</strong></h5><p>åæ¥ï¼Œä¸€ä¸‹æƒ³ä¸ç€æ€ä¹ˆåŠï¼Œå°±å›å®¶å»æƒ³äº†ã€‚~ ~</p><p>åæ¥ï¼Œæˆ‘æƒ³åˆ°çš„è§£å†³æ–¹å¼ï¼ˆäº‹å®ä¸Šåº”è¯¥ä¸æ­¢ï¼Œæˆ‘åªèƒ½æƒ³åˆ°ä¸€ç§ã€‚ã€‚ï¼‰</p><p><strong>æˆ‘å¯ä»¥å…è®¸å®ƒæ•°ç»„ä»¥åŠæ¯ä¸€ä½çš„ç´¢å¼•ä½ç½®ç­‰ç­‰ä¸å˜ï¼Œæˆ‘å¯ä»¥åŠ¨æ€è®¡ç®—ï¼Œæˆ‘åº”è¯¥åœ¨æ¯ä¸€è½®ç»™å®ƒä»€ä¹ˆä½ç½®ã€‚å³ æˆ‘å¯ä»¥ç®—ç»™å®ƒï¼Œå®ƒåœ¨æŸä¸€ä¸ªæ—¶åˆ»ï¼Œåº”è¯¥åœ¨ä»€ä¹ˆç›¸å¯¹ä½ç½®äº†ã€‚</strong></p><p><img src="/2020/03/30/2020/è½®æ’­/NO4.png" alt="NO7" title="NO7"></p><p><strong>è§£æï¼š</strong><br>ä»¥æ•°ç»„åŠå…¶ç´¢å¼•ä¸ºä¾‹å­ï¼š(ä»¥ <strong>4å›¾ä½</strong> ä¸ºä¾‹å­)<br>ç´¢å¼•ä½ç½®ï¼š     [0]â€”â€”â€“[1]â€”â€”â€“[2]â€”â€”â€“[3]</p><p>å‡è®¾æˆ‘ç‚¹äº† <strong>ç´¢å¼•2</strong> å¤„çš„ä½ç½®ï¼Œé‚£ä¹ˆ [2] å°±åº”è¯¥æ¥åˆ° [0] çš„ä½ç½®ï¼Œå®ƒæ‰€éœ€è¦ç»å†çš„è·¯å¾„æœ‰ [1]ã€[0]çš„è¿™ä¸¤ä¸ªä½ç½®ã€‚</p><p>æ‰€ä»¥å®ƒéœ€è¦éå†ä¸¤æ¬¡</p><hr><p>æ ·å¼ä½ç½®ï¼š     [0]â€”â€”â€“[1]â€”â€”â€“[2]â€”â€”â€“[3]</p><hr><p>åˆå§‹æ—¶å€™ï¼š     [0]â€”â€”â€“[1]â€”â€”â€“[2]â€”â€”â€“[3]<br>   ç¬¬ä¸€æ¬¡ï¼š<br>ä¸€æ¬¡ç»“æŸï¼š     [1]â€”â€”â€“[2]â€”â€”â€“[3]â€”â€”â€“[0]<br>   ç¬¬äºŒæ¬¡ï¼š<br>äºŒæ¬¡ç»“æŸï¼š     [2]â€”â€”â€“[3]â€”â€”â€“[0]â€”â€”â€“[1]</p><hr><p>startIndex = 0; // å¼€å§‹ä½ç½®ç´¢å¼•  0<br>step = ç‚¹å‡»ä½ç½® - å¼€å§‹ç´¢å¼• = &gt; 2 - 0 = 2; // å¾ªç¯2æ¬¡<br>iterStep = 1; å½“å‰ä½ç§»æ¬¡æ•°</p><hr><p>åˆå§‹æ—¶å€™ï¼š [0]â€”â€”â€“[1]â€”â€”â€“[2]â€”â€”â€“[3]</p><ul><li>ç¬¬ä¸€æ¬¡æ‰§è¡Œï¼š</li></ul><p>length = 4;<br><strong>for(let i = 0 ; i &lt;= length - 1; i++)</strong><br>åˆ¤æ–­æ¡ä»¶ï¼š i &lt; iterStep<br>[0]  |  0 &lt; 1  â€”&gt; [0]åº”è¯¥è·å¾—[3] çš„æ ·å¼ | length - iterStep + i  â€”&gt;  4 - 1 + 0 = 3;<br>[1]  |  1 !&lt; 1 â€”&gt; [1]åº”è¯¥è·å¾—[0] çš„æ ·å¼ | i - iterStep â€”&gt; 1 - 1 = 0;<br>[2]  |  2 !&lt; 1 â€”&gt; [2]åº”è¯¥è·å¾—[1] çš„æ ·å¼ | i - iterStep â€”&gt; 2 - 1 = 1;<br>[3]  |  3 !&lt; 1 â€”&gt; [3]åº”è¯¥è·å¾—[2] çš„æ ·å¼ | i - iterStep â€”&gt; 3 - 1 = 2;</p><p>è·å¾—æ ·å¼å¯¹åº” ï¼š<br>[1]â€”â€”â€“[2]â€”â€”â€“[3]â€”â€”â€“[0]</p><p>iterStep += 1; â€”&gt; iterStep = 2;<br>step -= 1; â€”&gt; step = 1;<br>step === 0 ï¼Ÿç»“æŸ ï¼šç»§ç»­ï¼›<br><strong>ç»§ç»­</strong></p><hr><ul><li>ç¬¬äºŒæ¬¡æ‰§è¡Œï¼š</li></ul><p>length = 4;<br><strong>for(let i = 0 ; i &lt;= length - 1; i++)</strong><br>åˆ¤æ–­æ¡ä»¶ï¼š i &lt; iterStep<br>[0]  |  0 &lt; 2  â€”&gt; [0]åº”è¯¥è·å¾—[2] çš„æ ·å¼ | length - iterStep + i  â€”&gt;  4 - 2 + 0 = 2;<br>[1]  |  1 &lt; 2 â€”&gt; [1]åº”è¯¥è·å¾—[3] çš„æ ·å¼ | length - iterStep + i â€”&gt; 4 - 2 + 1 = 3;<br>[2]  |  2 !&lt; 2 â€”&gt; [2]åº”è¯¥è·å¾—[0] çš„æ ·å¼ | i - iterStep â€”&gt; 2 - 2 = 0;<br>[3]  |  3 !&lt; 2 â€”&gt; [3]åº”è¯¥è·å¾—[1] çš„æ ·å¼ | i - iterStep â€”&gt; 3 - 2 = 1;</p><p>è·å¾—æ ·å¼å¯¹åº” ï¼š<br>[2]â€”â€”â€“[3]â€”â€”â€“[0]â€”â€”â€“[1]</p><p>iterStep += 1; â€”&gt; iterStep = 3;<br>step -= 1; â€”&gt; step = 0;<br>step === 0 ï¼Ÿç»“æŸ ï¼šç»§ç»­ï¼›<br><strong>ç»“æŸ</strong></p><p>æˆ‘ä»¬å°±å¯ä»¥å…ˆå®Œå–„ç¬¬ä¸€æ®µä»£ç ï¼š</p><pre><code>let oldIndex = this.nowFrontIndex; // å½“å‰åˆç´¢å¼•Indexlet step = index - oldIndex; // éå†æ¬¡æ•°let iterStep = 1; // ä¸´ç•Œæ¡ä»¶let length = arr.length;this.interval = setInterval(() =&gt; {    if (step === 0) {        this.nowFrontIndex = index; // æ›´æ–°åˆå§‹Index        clearInterval(this.interval);        this.interval = null;        return;    }    let result;    for(let i = 0; i &lt; length; i ++) {        if (i &lt; iterStep) {            result = this.transformAtCircle(length - iterStep + i);            this.$set(this.arr, i, result);        } else {            result = this.transformAtCircle(i - iterStep);            this.$set(this.arr, i, result);        }    }    iterStep += 1;    step -= 1;}, 400);</code></pre><h6 id="å†ä¸€æ¬¡ç‚¹å‡»"><a href="#å†ä¸€æ¬¡ç‚¹å‡»" class="headerlink" title="å†ä¸€æ¬¡ç‚¹å‡»"></a>å†ä¸€æ¬¡ç‚¹å‡»</h6><p>å½“å‰ä½ç½®  [2]â€”â€”â€“[3]â€”â€”â€“[0]â€”â€”â€“[1]</p><p>å‡è®¾æˆ‘ç‚¹äº† <strong>ç´¢å¼•3</strong> å¤„çš„ä½ç½®ï¼Œé‚£ä¹ˆ [3] å°±åº”è¯¥æ¥åˆ° [0] çš„ä½ç½®ï¼Œå®ƒæ‰€éœ€è¦ç»å†çš„è·¯å¾„æœ‰ [0]çš„è¿™ä¸ªä½ç½®ã€‚</p><p>æ‰€ä»¥å®ƒéœ€è¦éå†ä¸€æ¬¡</p><hr><p>æ ·å¼ä½ç½®ï¼š     [0]â€”â€”â€“[1]â€”â€”â€“[2]â€”â€”â€“[3]</p><hr><p>åˆå§‹æ—¶å€™ï¼š     [2]â€”â€”â€“[3]â€”â€”â€“[0]â€”â€”â€“[1]<br>   ç¬¬ä¸€æ¬¡ï¼š<br>ä¸€æ¬¡ç»“æŸï¼š     [3]â€”â€”â€“[0]â€”â€”â€“[1]â€”â€”â€“[2]</p><hr><p>startIndex = 2; // å¼€å§‹ä½ç½®ç´¢å¼•  2<br>step = ç‚¹å‡»ç´¢å¼• - å¼€å§‹ç´¢å¼• = &gt; 3 - 2 = 1; // å¾ªç¯2æ¬¡<br>iterStep = 1; å½“å‰ä½ç§»æ¬¡æ•°  å…³é”®ï¼ </p><p><strong>oldIndex ? iterStep += oldIndex : iterStep</strong> â€”&gt; iterStep = 3;</p><p>å¦‚æœå› ä¸ºæ­¤æ¬¡ç‚¹å‡»æ˜¯åœ¨å­˜åœ¨äº†ç¬¬ä¸€æ¬¡ç‚¹å‡»çš„æƒ…å†µä¸‹ï¼Œæ‰€ä»¥å¯¹äºç›®å‰çš„ç´¢å¼•ä½ç½®å…¶å®å·²ç»åç§»è¿‡äº†ã€‚</p><hr><p>åˆå§‹æ—¶å€™ï¼š [2]â€”â€”â€“[3]â€”â€”â€“[0]â€”â€”â€“[1]</p><ul><li>ç¬¬ä¸€æ¬¡æ‰§è¡Œï¼š</li></ul><p>length = 4;<br><strong>for(let i = 0 ; i &lt;= length - 1; i++)</strong><br>åˆ¤æ–­æ¡ä»¶ï¼š i &lt; iterStep<br>[0]  |  0 &lt; 3  â€”&gt; [0]åº”è¯¥è·å¾—[1] çš„æ ·å¼ | length - iterStep + i  â€”&gt;  4 - 3 + 0 = 1;<br>[1]  |  1 &lt; 3 â€”&gt; [1]åº”è¯¥è·å¾—[2] çš„æ ·å¼ | length - iterStep + i â€”&gt; 4 - 3 + 1 = 2;<br>[2]  |  2 &lt; 3 â€”&gt; [2]åº”è¯¥è·å¾—[3] çš„æ ·å¼ | length - iterStep + i â€”&gt; 4 - 3 + 2= 3;<br>[3]  |  3 !&lt; 3 â€”&gt; [3]åº”è¯¥è·å¾—[0] çš„æ ·å¼ | i - iterStep â€”&gt; 3 - 3 = 0;</p><p>è·å¾—æ ·å¼å¯¹åº” ï¼š<br>[3]â€”â€”â€“[0]â€”â€”â€“[1]â€”â€”â€“[2]</p><p>iterStep += 1; â€”&gt; iterStep = 4;;<br>step -= 1; â€”&gt; step = 0;<br>step === 0 ï¼Ÿç»“æŸ ï¼šç»§ç»­ï¼›<br><strong>ç»“æŸ</strong></p><p>æ‰€ä»¥æˆ‘ä»¬å†ä¸€æ¬¡å®Œå–„ä¸€ä¸‹æˆ‘ä»¬çš„ä»£ç </p><pre><code>let oldIndex = this.nowFrontIndex; // å½“å‰åˆç´¢å¼•Indexlet step = index - oldIndex; // éå†æ¬¡æ•°let iterStep = 1; // ä¸´ç•Œæ¡ä»¶let length = this.arr.length;++++++ if(oldIndex) {+     iterStep += oldIndex;+ }+++++this.interval = setInterval(() =&gt; {    if (step === 0) {        this.nowFrontIndex = index; // æ›´æ–°åˆå§‹Index        clearInterval(this.interval);        this.interval = null;        return;    }    let result;    for(let i = 0; i &lt; length; i ++) {        if (i &lt; iterStep) {            result = this.transformAtCircle( length - iterStep + i);            this.$set(this.arr, i, result);        } else {            result = this.transformAtCircle(i - iterStep);            this.$set(this.arr, i, result);        }    }    iterStep += 1;    step -= 1;}, 400);</code></pre><h6 id="å†å†ä¸€æ¬¡ç‚¹å‡»"><a href="#å†å†ä¸€æ¬¡ç‚¹å‡»" class="headerlink" title="å†å†ä¸€æ¬¡ç‚¹å‡»"></a>å†å†ä¸€æ¬¡ç‚¹å‡»</h6><p>å½“å‰ä½ç½®  [3]â€”â€”â€“[0]â€”â€”â€“[1]â€”â€”â€“[2]</p><p>å‡è®¾æˆ‘ç‚¹äº† <strong>ç´¢å¼•1</strong> å¤„çš„ä½ç½®ï¼Œé‚£ä¹ˆ [1] å°±åº”è¯¥æ¥åˆ° [0] çš„ä½ç½®ï¼Œå®ƒæ‰€éœ€è¦ç»å†çš„è·¯å¾„æœ‰ [0]ï¼Œ[1]çš„è¿™ä¸ªä½ç½®ã€‚</p><p>æ‰€ä»¥å®ƒéœ€è¦éå†ä¸€æ¬¡</p><hr><p>æ ·å¼ä½ç½®ï¼š     [0]â€”â€”â€“[1]â€”â€”â€“[2]â€”â€”â€“[3]</p><hr><p>åˆå§‹æ—¶å€™ï¼š     [3]â€”â€”â€“[0]â€”â€”â€“[1]â€”â€”â€“[2]<br>   ç¬¬ä¸€æ¬¡ï¼š<br>ä¸€æ¬¡ç»“æŸï¼š     [0]â€”â€”â€“[1]â€”â€”â€“[2]â€”â€”â€“[3]<br>   ç¬¬äºŒæ¬¡ï¼š<br>äºŒæ¬¡ç»“æŸï¼š     [1]â€”â€”â€“[2]â€”â€”â€“[3]â€”â€”â€“[0]</p><hr><p>è¿˜è®°å¾—æˆ‘ä»¬çš„è®¡ç®—æ–¹å¼å—ï¼Ÿæˆ‘ä»¬å¿«é€Ÿèµ°ä¸€éã€‚</p><p>startIndex = 3; // å¼€å§‹ä½ç½®ç´¢å¼•  3<br>step = ç‚¹å‡»ç´¢å¼• - å¼€å§‹ç´¢å¼• = &gt; 1 - 3 = <strong>-2</strong> ï¼› //  ï¼Ÿ ï¼Ÿ ï¼Ÿ<br>iterStep = 1; å½“å‰ä½ç§»æ¬¡æ•°  å…³é”®ï¼ </p><p><strong>oldIndex ? iterStep += oldIndex : iterStep</strong> â€”&gt; 1 + 3 = 4ï¼›;</p><ul><li>ç¬¬ä¸€æ¬¡æ‰§è¡Œ</li></ul><p>length = 4;<br><strong>for(let i = 0 ; i &lt;= length - 1; i++)</strong><br>åˆ¤æ–­æ¡ä»¶ï¼š i &lt; iterStep<br>[0]  |  0 &lt; 4  â€”&gt; [0]åº”è¯¥è·å¾—[0] çš„æ ·å¼ | length - iterStep + i  â€”&gt;  4 - 4 + 0 = 0;<br>[1]  |  1 &lt; 4 â€”&gt; [1]åº”è¯¥è·å¾—[1] çš„æ ·å¼ | length - iterStep + i â€”&gt; 4 - 4 + 1 = 1;<br>[2]  |  2 &lt; 4 â€”&gt; [2]åº”è¯¥è·å¾—[2] çš„æ ·å¼ | length - iterStep + i â€”&gt; 4 - 4 + 2 = 2;<br>[3]  |  3 &lt; 3 â€”&gt; [3]åº”è¯¥è·å¾—[3] çš„æ ·å¼ | length - iterStep + i â€”&gt; 4 - 4 + 3 = 3;</p><p>è·å¾—æ ·å¼å¯¹åº” ï¼š<br>[0]â€”â€”â€“[1]â€”â€”â€“[2]â€”â€”â€“[3]</p><p>iterStep += 1; â€”&gt; iterStep = 5;<br>step -= 1; â€”&gt; step = -3;<br>step === 0 ï¼Ÿç»“æŸ ï¼šç»§ç»­ï¼›<br><strong>ç»§ç»­</strong>ã€åŒæ—¶æˆ‘ä»¬åº”è¯¥æ³¨æ„åˆ°ï¼Œå®ƒå°†ä¸ä¼šåœæ­¢äº†ï¼ã€‘</p><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¿®æ”¹æˆ‘ä»¬çš„å¾ªç¯æ¬¡æ•°äº†ã€‚</p><p>[3]â€”â€”â€“[0]â€”â€”â€“[1]â€”â€”â€“[2]<br>å½“æˆ‘ä»¬ç‚¹å‡» [0]  â€”&gt; 0 - 3 = -3 â€”&gt; step = -3 â€” å®é™…å¾ªç¯ 1 æ¬¡<br>å½“æˆ‘ä»¬ç‚¹å‡» [1]  â€”&gt; 1 - 3 = -2 â€”&gt; step = -2 â€” å®é™…å¾ªç¯ 2 æ¬¡<br>å½“æˆ‘ä»¬ç‚¹å‡» [2]  â€”&gt; 2 - 3 = -1 â€”&gt; step = -1 â€” å®é™…å¾ªç¯ 3 æ¬¡<br>-3 + length â€”&gt; -3 + 4 = 1<br>-2 + length â€”&gt; -2 + 4 = 2<br>-1 + length â€”&gt; -1 + 4 = 3<br><strong>so</strong><br>æˆ‘ä»¬éœ€è¦æ›´æ”¹å®Œå–„ä¸€ä¸‹æˆ‘ä»¬çš„ä»£ç äº†ï¼š</p><pre><code>let oldIndex = this.nowFrontIndex; // å½“å‰åˆç´¢å¼•Indexlet step = index - oldIndex; // éå†æ¬¡æ•°let iterStep = 1; // ä¸´ç•Œæ¡ä»¶let length = this.arr.length;if(oldIndex) {   iterStep += oldIndex;}++++++ if (step &lt; 0) {+   step += length;+ }+++++this.interval = setInterval(() =&gt; {    if (step === 0) {        this.nowFrontIndex = index; // æ›´æ–°åˆå§‹Index        clearInterval(this.interval);        this.interval = null;        return;    }    let result;    for(let i = 0; i &lt; length; i ++) {        if (i &lt; iterStep) {            result = this.transformAtCircle( length - iterStep + i);            this.$set(this.arr, i, result);        } else {            result = this.transformAtCircle(i - iterStep);            this.$set(this.arr, i, result);        }    }    iterStep += 1;    step -= 1;}, 400);</code></pre><p>æ‰€ä»¥æˆ‘ä»¬å†é‡å¤ä¸€ä¸‹ä»¥ä¸Šç‚¹å‡»ï¼Œæ‰§è¡Œçœ‹çœ‹ã€‚</p><h6 id="å†å†å†ä¸€æ¬¡ç‚¹å‡»"><a href="#å†å†å†ä¸€æ¬¡ç‚¹å‡»" class="headerlink" title="å†å†å†ä¸€æ¬¡ç‚¹å‡»"></a>å†å†å†ä¸€æ¬¡ç‚¹å‡»</h6><p>å½“å‰ä½ç½®  [3]â€”â€”â€“[0]â€”â€”â€“[1]â€”â€”â€“[2]</p><p>å‡è®¾æˆ‘ç‚¹äº† <strong>ç´¢å¼•1</strong> å¤„çš„ä½ç½®ï¼Œé‚£ä¹ˆ [1] å°±åº”è¯¥æ¥åˆ° [0] çš„ä½ç½®ï¼Œå®ƒæ‰€éœ€è¦ç»å†çš„è·¯å¾„æœ‰ [0]ï¼Œ[1]çš„è¿™ä¸ªä½ç½®ã€‚</p><p>æ‰€ä»¥å®ƒéœ€è¦éå†ä¸€æ¬¡</p><hr><p>æ ·å¼ä½ç½®ï¼š     [0]â€”â€”â€“[1]â€”â€”â€“[2]â€”â€”â€“[3]</p><hr><p>åˆå§‹æ—¶å€™ï¼š     [3]â€”â€”â€“[0]â€”â€”â€“[1]â€”â€”â€“[2]<br>   ç¬¬ä¸€æ¬¡ï¼š<br>ä¸€æ¬¡ç»“æŸï¼š     [0]â€”â€”â€“[1]â€”â€”â€“[2]â€”â€”â€“[3]<br>   ç¬¬äºŒæ¬¡ï¼š<br>äºŒæ¬¡ç»“æŸï¼š     [1]â€”â€”â€“[2]â€”â€”â€“[3]â€”â€”â€“[0]</p><hr><p>è¿˜è®°å¾—æˆ‘ä»¬çš„è®¡ç®—æ–¹å¼å—ï¼Ÿæˆ‘ä»¬å¿«é€Ÿèµ°ä¸€éã€‚</p><p>startIndex = 3; // å¼€å§‹ä½ç½®ç´¢å¼•  3<br>step = ç‚¹å‡»ç´¢å¼• - å¼€å§‹ç´¢å¼• = &gt; 1 - 3 = -2<br><strong>step &lt; 0 ? step += length : step</strong> â€”&gt; -2 + 4 = 2ï¼› step = 2;</p><p>iterStep = 1; å½“å‰ä½ç§»æ¬¡æ•°  å…³é”®ï¼ </p><p><strong>oldIndex ? iterStep += oldIndex : iterStep</strong> â€”&gt; 1 + 3 = 4ï¼› iterStep = 4;</p><ul><li>ç¬¬ä¸€æ¬¡æ‰§è¡Œ</li></ul><p>length = 4;<br><strong>for(let i = 0 ; i &lt;= length - 1; i++)</strong><br>åˆ¤æ–­æ¡ä»¶ï¼š i &lt; iterStep<br>[0]  |  0 &lt; 4  â€”&gt; [0]åº”è¯¥è·å¾—[0] çš„æ ·å¼ | length - iterStep + i  â€”&gt;  4 - 4 + 0 = 0;<br>[1]  |  1 &lt; 4 â€”&gt; [1]åº”è¯¥è·å¾—[1] çš„æ ·å¼ | length - iterStep + i â€”&gt; 4 - 4 + 1 = 1;<br>[2]  |  2 &lt; 4 â€”&gt; [2]åº”è¯¥è·å¾—[2] çš„æ ·å¼ | length - iterStep + i â€”&gt; 4 - 4 + 2 = 2;<br>[3]  |  3 &lt; 4 â€”&gt; [3]åº”è¯¥è·å¾—[3] çš„æ ·å¼ | length - iterStep + i â€”&gt; 4 - 4 + 3 = 3;</p><p>è·å¾—æ ·å¼å¯¹åº” ï¼š<br>[0]â€”â€”â€“[1]â€”â€”â€“[2]â€”â€”â€“[3]</p><p>iterStep += 1; â€”&gt; iterStep = 5;<br>step -= 1; â€”&gt; step = 1;<br>step === 0 ï¼Ÿç»“æŸ ï¼šç»§ç»­ï¼›<br><strong>ç»§ç»­</strong></p><ul><li>ç¬¬äºŒæ¬¡æ‰§è¡Œ</li></ul><p>length = 4;<br><strong>for(let i = 0 ; i &lt;= length - 1; i++)</strong><br>åˆ¤æ–­æ¡ä»¶ï¼š i &lt; iterStep<br>[0]  |  0 &lt; 5  â€”&gt; [0]åº”è¯¥è·å¾—[3] çš„æ ·å¼ | length - iterStep + i  â€”&gt;  4 - 5 + 0 = -1;  â€”  ï¼Ÿ ï¼Ÿ ï¼Ÿ<br>[1]  |  1 &lt; 5 â€”&gt; [1]åº”è¯¥è·å¾—[0] çš„æ ·å¼ | length - iterStep + i â€”&gt; 4 - 5 + 1 = 0;<br>[2]  |  2 &lt; 5 â€”&gt; [2]åº”è¯¥è·å¾—[1] çš„æ ·å¼ | length - iterStep + i â€”&gt; 4 - 5 + 2 = 1;<br>[3]  |  3 &lt; 5 â€”&gt; [3]åº”è¯¥è·å¾—[2] çš„æ ·å¼ | length - iterStep + i â€”&gt; 4 - 5 + 3 = 2;</p><p>è·å¾—æ ·å¼å¯¹åº” ï¼š<br>[1]â€”â€”â€“[2]â€”â€”â€“[3]â€”â€”â€“[0 // <strong>-1</strong> ï¼Ÿï¼Ÿï¼Ÿ]</p><p>iterStep += 1; â€”&gt; iterStep = 6;<br>step -= 1; â€”&gt; step = 0;<br>step === 0 ï¼Ÿç»“æŸ ï¼šç»§ç»­ï¼›<br><strong>ç»“æŸ</strong><br>æˆ‘ä»¬å¯ä»¥æ³¨æ„åˆ° -1 ä½ç½® ? é‚£ 0 çš„æ ·å¼å°±å®Œå…¨é”™äº†ã€‚åç»­ä¹Ÿè‚¯å®šä¼šå…¨é”™ï¼<br>é‚£é—®é¢˜å°±åœ¨æˆ‘ä»¬çš„åˆ¤æ–­åˆ†æ”¯ä¸Šäº†ã€‚</p><p>å³ä½¿å­˜åœ¨ä¸Šä¸€è½®çš„ iterStep, ä¹Ÿä¸åº”è¯¥æŒç»­ä¸æ–­çš„ + oldIndex æˆ–è€… + 1 ä¸‹å»ã€‚<br>ä½†å®ƒè½®è½¬äº†length é•¿åº¦çš„åœˆåº¦ä¹‹åï¼Œå®ƒåº”è¯¥é‡æ–°ä» â€œ0â€å¼€å§‹è®¡æ•°ã€‚</p><p>ä¹Ÿå°±æ˜¯ iterStep &gt; length çš„æ—¶å€™ï¼Œå®ƒåº”è¯¥ <strong>iterStep - length</strong>;</p><p>æ‰€ä»¥æˆ‘ä»¬å†å†ä¸€æ¬¡æ”¹å˜æˆ‘ä»¬çš„ä»£ç </p><pre><code>let oldIndex = this.nowFrontIndex; // å½“å‰åˆç´¢å¼•Indexlet step = index - oldIndex; // éå†æ¬¡æ•°let iterStep = 1; // ä¸´ç•Œæ¡ä»¶let length = this.arr.length;if(oldIndex) {   iterStep += oldIndex;}if (step &lt; 0) {   step += length;}this.interval = setInterval(() =&gt; {    if (step === 0) {        this.nowFrontIndex = index; // æ›´æ–°åˆå§‹Index        clearInterval(this.interval);        this.interval = null;        return;    }    let result;    for(let i = 0; i &lt; length; i ++) {        +++++        + if (iterStep &gt; length) {        +    iterStep -= length;        + }        +++++        if (i &lt; iterStep) {            result = this.transformAtCircle( length - iterStep + i);            this.$set(this.arr, i, result);        } else {            result = this.transformAtCircle(i - iterStep);            this.$set(this.arr, i, result);        }    }    iterStep += 1;    step -= 1;}, 400);</code></pre><h6 id="å†å†å†å†ä¸€æ¬¡ç‚¹å‡»"><a href="#å†å†å†å†ä¸€æ¬¡ç‚¹å‡»" class="headerlink" title="å†å†å†å†ä¸€æ¬¡ç‚¹å‡»"></a>å†å†å†å†ä¸€æ¬¡ç‚¹å‡»</h6><p>å½“å‰ä½ç½®  [3]â€”â€”â€“[0]â€”â€”â€“[1]â€”â€”â€“[2]</p><p>å‡è®¾æˆ‘ç‚¹äº† <strong>ç´¢å¼•1</strong> å¤„çš„ä½ç½®ï¼Œé‚£ä¹ˆ [1] å°±åº”è¯¥æ¥åˆ° [0] çš„ä½ç½®ï¼Œå®ƒæ‰€éœ€è¦ç»å†çš„è·¯å¾„æœ‰ [0]ï¼Œ[1]çš„è¿™ä¸ªä½ç½®ã€‚</p><p>æ‰€ä»¥å®ƒéœ€è¦éå†ä¸€æ¬¡</p><hr><p>æ ·å¼ä½ç½®ï¼š     [0]â€”â€”â€“[1]â€”â€”â€“[2]â€”â€”â€“[3]</p><hr><p>åˆå§‹æ—¶å€™ï¼š     [3]â€”â€”â€“[0]â€”â€”â€“[1]â€”â€”â€“[2]<br>   ç¬¬ä¸€æ¬¡ï¼š<br>ä¸€æ¬¡ç»“æŸï¼š     [0]â€”â€”â€“[1]â€”â€”â€“[2]â€”â€”â€“[3]<br>   ç¬¬äºŒæ¬¡ï¼š<br>äºŒæ¬¡ç»“æŸï¼š     [1]â€”â€”â€“[2]â€”â€”â€“[3]â€”â€”â€“[0]</p><hr><p>è¿˜è®°å¾—æˆ‘ä»¬çš„è®¡ç®—æ–¹å¼å—ï¼Ÿæˆ‘ä»¬å¿«é€Ÿèµ°ä¸€éã€‚</p><p>startIndex = 3; // å¼€å§‹ä½ç½®ç´¢å¼•  3<br>step = ç‚¹å‡»ç´¢å¼• - å¼€å§‹ç´¢å¼• = &gt; 1 - 3 = -2<br><strong>step &lt; 0 ? step += length : step</strong> â€”&gt; -2 + 4 = 2ï¼› step = 2;</p><p>iterStep = 1; å½“å‰ä½ç§»æ¬¡æ•°  å…³é”®ï¼ </p><p><strong>oldIndex ? iterStep += oldIndex : iterStep</strong> â€”&gt; 1 + 3 = 4ï¼› iterStep = 4;</p><ul><li>ç¬¬ä¸€æ¬¡æ‰§è¡Œ</li></ul><p>length = 4;<br><strong>for(let i = 0 ; i &lt;= length - 1; i++)</strong></p><p><strong>iterStep &gt; length ? iterStep -= length : iterStep</strong> â€”&gt; iterStep = 4;</p><p>åˆ¤æ–­æ¡ä»¶ï¼š i &lt; iterStep<br>[0]  |  0 &lt; 4  â€”&gt; [0]åº”è¯¥è·å¾—[0] çš„æ ·å¼ | length - iterStep + i  â€”&gt;  4 - 4 + 0 = 0;<br>[1]  |  1 &lt; 4 â€”&gt; [1]åº”è¯¥è·å¾—[1] çš„æ ·å¼ | length - iterStep + i â€”&gt; 4 - 4 + 1 = 1;<br>[2]  |  2 &lt; 4 â€”&gt; [2]åº”è¯¥è·å¾—[2] çš„æ ·å¼ | length - iterStep + i â€”&gt; 4 - 4 + 2 = 2;<br>[3]  |  3 &lt; 4 â€”&gt; [3]åº”è¯¥è·å¾—[3] çš„æ ·å¼ | length - iterStep + i â€”&gt; 4 - 4 + 3 = 3;</p><p>è·å¾—æ ·å¼å¯¹åº” ï¼š<br>[0]â€”â€”â€“[1]â€”â€”â€“[2]â€”â€”â€“[3]</p><p>iterStep += 1; â€”&gt; iterStep = 5;<br>step -= 1; â€”&gt; step = 1;<br>step === 0 ï¼Ÿç»“æŸ ï¼šç»§ç»­ï¼›<br><strong>ç»§ç»­</strong></p><ul><li>ç¬¬äºŒæ¬¡æ‰§è¡Œ</li></ul><p>length = 4;<br><strong>for(let i = 0 ; i &lt;= length - 1; i++)</strong></p><p><strong>iterStep &gt; length ? iterStep -= length : iterStep</strong> â€”&gt; iterStep = 5 &gt; 4 â€”&gt; 1;</p><p>åˆ¤æ–­æ¡ä»¶ï¼š i &lt; iterStep<br>[0]  |  0 &lt; 1  â€”&gt; [0]åº”è¯¥è·å¾—[3] çš„æ ·å¼ | length - iterStep + i  â€”&gt;  4 - 1 + 0 = 3;<br>[1]  |  1 &lt; 1 â€”&gt; [1]åº”è¯¥è·å¾—[0] çš„æ ·å¼ | i - iterStep â€”&gt; 1 - 1 = 0ï¼›<br>[2]  |  2 &lt; 1 â€”&gt; [2]åº”è¯¥è·å¾—[1] çš„æ ·å¼ | i - iterStep â€”&gt; 2 - 1 = 1ï¼›<br>[3]  |  3 &lt; 1 â€”&gt; [3]åº”è¯¥è·å¾—[2] çš„æ ·å¼ | i - iterStep â€”&gt; 3 - 1 = 2ï¼›</p><p>è·å¾—æ ·å¼å¯¹åº” ï¼š<br>[1]â€”â€”â€“[2]â€”â€”â€“[3]â€”â€”â€“[0]</p><p>iterStep += 1; â€”&gt; iterStep = 2;<br>step -= 1; â€”&gt; step = 0;<br>step === 0 ï¼Ÿç»“æŸ ï¼šç»§ç»­ï¼›<br><strong>ç»“æŸ</strong></p><hr><p>è¿™æ ·å°±æš‚æ—¶å®Œæˆå•å‘çš„è½¬è½®ã€‚<br>è¿˜æœ‰åŒå‘å¾ªç¯çš„æ—‹è½¬ï¼Œå°±ä¸åšä»‹ç»äº†ã€‚<br>è´´ä»£ç ã€‚</p><h5 id="Over"><a href="#Over" class="headerlink" title="Over"></a>Over</h5><p>ä»¥ 8 å›¾ ä¸ºä¾‹å­</p><pre><code>if (this.interval) {        return ;    }    let oldIndex = this.nowFrontIndex; // å½“å‰åˆç´¢å¼•Index    let midIndex,        isRight = false; // middleIndex    if (oldIndex &gt; 3) {        midIndex = oldIndex - 4;    } else {        midIndex = oldIndex + 4;    }    isRight = this.computedIsRightPart(midIndex, index, oldIndex); // å·¦å³    let step = index - oldIndex; // éå†æ¬¡æ•°    if (step &lt; 0) {        step = 8 + step;    }    if (isRight) {        step = oldIndex - index;        if (step &lt; 0) {            step = 8 + step        }    }    let iterStep = 1; // ä¸´ç•Œæ¡ä»¶    if (oldIndex) {        if (!isRight) {            iterStep += oldIndex;        }    }    this.interval = setInterval(() =&gt; {        if (step === 0) {            this.nowFrontIndex = index; // æ›´æ–°åˆå§‹Index            clearInterval(this.interval);            this.interval = null;            return;        }        let result;        for(let i = 0; i &lt;= 7; i ++) {            if (isRight) {                if (i &lt; oldIndex) {                    let key = 8 - oldIndex;                    if ((key + i + iterStep) &lt; 8) {                        result = this.transformAtCircle(key + i + iterStep);                        this.$set(this.computedCarouselLoca, i, result);                    } else {                        result = this.transformAtCircle((key + i + iterStep) - 8);                        this.$set(this.computedCarouselLoca, i, result);                    }                } else {                    if ((i - oldIndex + iterStep) &lt; 8) {                        result = this.transformAtCircle(i - oldIndex + iterStep);                        this.$set(this.computedCarouselLoca, i, result);                    } else {                        result = this.transformAtCircle(i - oldIndex + iterStep - 8);                        this.$set(this.computedCarouselLoca, i, result);                    }                }            } else {                if (iterStep &gt;= 9) {                    iterStep = iterStep - 8;                }                 if (i &lt; iterStep) {                    // let key = 8 - iterStep + i;                    // if (key &lt; 0) {                    //     key = iterStep - 9                    // }                    result = this.transformAtCircle(8 - iterStep + i);                    this.$set(this.computedCarouselLoca, i, result);                } else {                    result = this.transformAtCircle(i - iterStep);                    this.$set(this.computedCarouselLoca, i, result);                }            }        }        iterStep += 1;        step -= 1;    }, 400);</code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>adv</title>
      <link href="/2020/02/15/2020/adv/"/>
      <url>/2020/02/15/2020/adv/</url>
      
        <content type="html"><![CDATA[<h6 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h6><p>2020å¼€å¹´å°±é­é‡äº†ç–«æƒ…ï¼Œæ¥åŠ¿æ±¹æ±¹ï¼Œæ­¦æ±‰åŠ æ²¹ğŸ™</p><p>æœ¬è¯¥å›å»ä¸Šç­çš„å¤§å®¶ï¼Œéƒ½æ”¹æˆäº†è¿œç¨‹åŠå…¬ï¼Œåˆç€å®é™…çš„ä¸šåŠ¡å·¥ä½œä¹Ÿæ²¡æœ‰ä¸‹å‘å¤šå°‘ï¼Œå°±åœ¨å‡æœŸæŠŠå°ç»„ä»»åŠ¡åšäº†ï¼Œå°è¯•å°è£…ä¸€äº›ç»„å†…çš„é€šç”¨ç»„ä»¶ã€‚</p><p>åˆ†åˆ«ç”±<code>input</code>ã€<code>select</code>ã€<code>button</code>ã€<code>time</code>ã€<code>Date</code>ã€<code>Tab</code>ã€‚<br>æ ·å¼æœ‰ä¸€äº›æ˜¯æ¨¡ä»¿äº†<code>Element</code>çš„ç»„ä»¶æ ·å¼ï¼Œå¹¶ä¸”åœ¨é‡åˆ°å†…éƒ¨çš„ä¸€äº›é€»è¾‘ä¸å¤ªæ˜äº†çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡æŸ¥çœ‹Elementçš„ç›¸å…³ç»„ä»¶æºç ä»è€Œè¿›è¡Œè§£å†³äº†ã€‚</p><p>è¯ä¸å¤šè¯´ï¼Œå…ˆä¸Šæ•ˆæœå›¾â€¦</p><a id="more"></a><h6 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h6><p><img src="/2020/02/15/2020/adv/NO1.gif" alt="NO1" title="NO1"></p><h6 id="Select"><a href="#Select" class="headerlink" title="Select"></a>Select</h6><p><img src="/2020/02/15/2020/adv/NO2.gif" alt="NO2" title="NO2"></p><h6 id="Button"><a href="#Button" class="headerlink" title="Button"></a>Button</h6><p><img src="/2020/02/15/2020/adv/NO3.gif" alt="NO3" title="NO3"></p><h6 id="Time"><a href="#Time" class="headerlink" title="Time"></a>Time</h6><p><img src="/2020/02/15/2020/adv/NO4.gif" alt="NO4" title="NO4"></p><h6 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h6><p><img src="/2020/02/15/2020/adv/NO5.gif" alt="NO5" title="NO5"></p><h6 id="Tabs"><a href="#Tabs" class="headerlink" title="Tabs"></a>Tabs</h6><p><img src="/2020/02/15/2020/adv/NO6.gif" alt="NO6" title="NO6"></p><h6 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h6><p>å…¶å®å°è£…ä¸€äº›é€šç”¨ç»„ä»¶å¯¹æ•´ä¸€ä¸ªç»“æ„è·¯å¾„çš„å­¦ä¹ æŠŠæ¡ï¼Œæ¯”å¤šçœ‹ä¸€äº›æºç çš„ä½œç”¨å’Œå½±å“ç›¸å¯¹æ¥è¯´ä¹Ÿå¤§ä¸€äº›ã€‚<br>å†…éƒ¨æœ‰å¾ˆå¤šçš„äº‹ä»¶ï¼Œé€»è¾‘å…¶å®ä¹Ÿæ²¡æœ‰è€ƒé‡çš„å¾ˆæ¸…æ¥šï¼Œæ¯•ç«Ÿä¹Ÿæ˜¯ä¸åˆ°ä¸€ä¸ªæœˆå†…å®Œæˆçš„å†…å®¹ï¼Œå¦‚æœè¦ä¼˜åŒ–å’Œæ”¹è¿›ï¼Œå¯ä»¥ä¿®æ”¹çš„åœ°æ–¹å…¶å®è¿˜æœ‰å¾ˆå¤šã€‚<br>ä½†æ˜¯ä¹Ÿæ˜¯è¿™ä¸ªè¿‡ç¨‹å­¦ä¹ åˆ°äº†å¾ˆå¤šï¼Œä¾‹å¦‚å†æ¬¡æ¨¡ä»¿<code>Element</code>é‡æ–°å†™äº†ä¸€äº›é€‚ç”¨çš„å¤±ç„¦æŒ‡ä»¤ï¼Œæ—¥æœŸæ—¶é—´é¢æ¿çš„è®¡ç®—å‡½æ•°ã€å‘¨æ•°çš„è®¡ç®—å‡½æ•°ç­‰ç­‰ç­‰â€¦<br>è¿™äº›éƒ½æ˜¯å¾ˆæœ‰è¶£çš„çŸ¥è¯†ç‚¹ï¼Œä¸€ä¸‹å­çš„æ€»ç»“è¿˜æœ‰å¾ˆå¤šï¼Œæ¥ä¸‹æ¥ä¼šæ…¢æ…¢ä»‹ç»è¿™äº›å†…å®¹ï¼š</p><p><em>æœªå®Œå¾…ç»­â€¦</em></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> Vue </tag>
            
            <tag> Adv </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡ç»˜å›æµ</title>
      <link href="/2020/02/03/2020/%E9%87%8D%E7%BB%98%E5%9B%9E%E6%B5%81/"/>
      <url>/2020/02/03/2020/%E9%87%8D%E7%BB%98%E5%9B%9E%E6%B5%81/</url>
      
        <content type="html"><![CDATA[<h4 id="é‡ç»˜ï¼ˆrepaintï¼‰"><a href="#é‡ç»˜ï¼ˆrepaintï¼‰" class="headerlink" title="é‡ç»˜ï¼ˆrepaintï¼‰"></a>é‡ç»˜ï¼ˆrepaintï¼‰</h4><p>ç”±äºèŠ‚ç‚¹çš„å‡ ä½•å±æ€§å‘ç”Ÿäº†æ”¹å˜æˆ–è€…ç”±äºæ ·å¼å‘ç”Ÿæ”¹å˜è€Œä¸å½±å“å¸ƒå±€çš„ï¼Œç§°ä¸ºé‡ç»˜ï¼Œä¾‹å¦‚outlineï¼Œvisibilityï¼Œcolorï¼Œbackground-colorã€‚</p><h4 id="å›æµï¼ˆreflowï¼‰"><a href="#å›æµï¼ˆreflowï¼‰" class="headerlink" title="å›æµï¼ˆreflowï¼‰"></a>å›æµï¼ˆreflowï¼‰</h4><p>å›æµæ˜¯å¸ƒå±€æˆ–è€…å‡ ä½•å±æ€§éœ€è¦æ”¹å˜å°±ç§°ä¸ºå›æµï¼Œå›æµæ˜¯å½±å“æµè§ˆå™¨æ€§èƒ½çš„å…³é”®å› ç´ ï¼Œå› ä¸ºå›æµè®¾è®¡æ¶‰åŠåˆ°éƒ¨åˆ†é¡µé¢ã€æˆ–è€…æ•´ä¸ªé¡µé¢çš„å¸ƒå±€æ›´æ–°ï¼Œä¸€ä¸ªå…ƒç´ çš„å›æµä¼šå¯¼è‡´å…¶æ‰€æœ‰å­å…ƒç´ ä»¥åŠDOMç´§éšå…¶åçš„èŠ‚ç”µç­‰å…ƒç´ çš„å›æµã€‚</p><h4 id="å…³ç³»"><a href="#å…³ç³»" class="headerlink" title="å…³ç³»"></a>å…³ç³»</h4><p>å›æµä¼šå¼•å‘é‡ç»˜ï¼Œé‡ç»˜ä¸ä¸€å®šä¼šå¼•èµ·å›æµã€‚</p><h4 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h4><ul><li><code>offsetTop</code>ã€<code>offsetLeft</code>ã€<code>offsetWidth</code>ã€<code>offsetHeight</code></li><li><code>scrollTop</code>ã€<code>scrollLeft</code>ã€<code>scrollWidth</code>ã€<code>scrollHeight</code></li><li><code>clientTop</code>ã€<code>clientLeft</code>ã€<code>clientWidth</code>ã€<code>clientHeight</code></li><li><code>width</code>ã€<code>height</code></li><li><code>getComputedStyle</code></li></ul><p>è¿™äº›å±æ€§ï¼Œå‡ä¼šå¼•èµ·å¼ºåˆ¶æ¸²æŸ“åˆ·æ–°é˜Ÿåˆ—ã€‚</p><h4 id="å‡å°‘é‡ç»˜ä¸å›æµ"><a href="#å‡å°‘é‡ç»˜ä¸å›æµ" class="headerlink" title="å‡å°‘é‡ç»˜ä¸å›æµ"></a>å‡å°‘é‡ç»˜ä¸å›æµ</h4><h5 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h5><ol><li>ä½¿ç”¨transformä»£æ›¿topï¼›</li><li>ä½¿ç”¨visibilityä»£æ›¿display: noneï¼Œå‰è€…é‡ç»˜ï¼Œåè€…å›æµï¼›</li><li>é¿å…ä½¿ç”¨tableå¸ƒå±€ï¼›</li><li>å°½å¯èƒ½å†DOMæ ‘æœ€æœ«ç«¯æ”¹å˜classï¼›</li><li>é¿å…å¤šå±‚å†…è”æ ·å¼<pre><code>span { color: red;}div &gt; a &gt; span { color: red;}</code></pre></li><li>å°†åŠ¨ç”»æ•ˆæœåº”ç”¨åˆ°positionä¸ºabsoluteæˆ–è€…fixedçš„å…ƒç´ ä¸Šï¼Œé¿å…å½±å“å…¶ä»–å…ƒç´ å¸ƒå±€ï¼›</li></ol><h5 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h5><ol><li>é¿å…é¢‘ç¹æ“ä½œæ ·å¼ï¼Œæœ€å¥½ä¸€æ¬¡æ€§å†™styleï¼Œä¸è¦åˆ†å¼€å¾ˆå¤šä¸ªï¼Œæˆ–è€…ä¸€æ¬¡æ€§æ›´æ”¹classï¼›</li><li>é¿å…é¢‘ç¹æ“ä½œDOMï¼›</li><li>é¿å…é¢‘ç¹è¯»å–ä¼šå¼•èµ·é‡ç»˜ã€å›æµçš„å±æ€§ï¼›</li><li>æœ‰è´Ÿè´£åŠ¨ç”»çš„å…ƒç´ ä½¿ç”¨ç»å¯¹å®šä½ï¼Œè„±ç¦»æ–‡æ¡£æµï¼Œå¦åˆ™å¼•èµ·çˆ¶å…ƒç´ åŠåç»­å…ƒç´ çš„é¢‘ç¹å›æµã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> CSS </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue-Diff</title>
      <link href="/2020/01/17/2020/Vue-Diff/"/>
      <url>/2020/01/17/2020/Vue-Diff/</url>
      
        <content type="html"><![CDATA[<p>å¤§éƒ¨åˆ†å†…å®¹å¼•ç”¨è‡ªæ­¤åšå®¢ï¼š<a href="http://hcysun.me/vue-design/zh/renderer-diff.html" target="_blank" rel="noopener">vue-design</a>ï¼Œ å†…å®¹æ›´å…¨é¢å’Œæ˜“æ‡‚ï¼Œæ¨èå¤§å®¶çœ‹åŸæ–‡ã€‚</p><h5 id="è™šæ‹ŸDOM"><a href="#è™šæ‹ŸDOM" class="headerlink" title="è™šæ‹ŸDOM"></a>è™šæ‹ŸDOM</h5><p><strong>ä»€ä¹ˆæ˜¯è™šæ‹ŸDOMï¼Ÿï¼š</strong></p><p>åœ¨å†…éƒ¨çš„è®¡ç®—ä¸­ï¼Œä½¿ç”¨JSå¯¹è±¡æ¥æè¿°å¹¶è®°å½•ä¸‹ä¸€ä¸ªDOMèŠ‚ç‚¹ï¼Œè¿™ä¸ªå°±æ˜¯è™šæ‹ŸDOM</p><a id="more"></a><p><img src="/2020/01/17/2020/Vue-Diff/NO1.png" alt="NO1" title="NO1"><br><img src="/2020/01/17/2020/Vue-Diff/NO2.png" alt="NO2" title="NO2"></p><p><strong>èµ·å› ï¼š</strong><br><em>æµè§ˆå™¨DOMæ ‘å¤ªå¤šåºæ‚ï¼Œå…·å¤‡çš„å±æ€§ååˆ†å¤æ‚ï¼Œæ›´æ–°æ¸²æŸ“æ‰€è€—è´¹çš„æ€§èƒ½å¤šã€å¤§ã€‚</em></p><p><strong>å®é™…ä¸Šçš„çš„ä½œç”¨ï¼Ÿï¼š</strong><br><img src="/2020/01/17/2020/Vue-Diff/NO3.png" alt="NO3" title="NO3"></p><p><strong>VDOMå®šä¹‰çš„ä½ç½®ï¼š</strong><br><em>src/core/vdom/vnode.js   æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°</em></p><pre><code>// å®šä¹‰äº†VNodeexport default class VNode {  tag: string | void; /** æœ€ç»ˆå¾—vnodeæ ‡ç­¾å±æ€§ */  data: VNodeData | void; /** åŒ…å«æœ€ç»ˆèŠ‚ç‚¹ä¸Šçš„style class attr */  children: ?Array&lt;VNode&gt;; /** å­èŠ‚ç‚¹ */  text: string | void; /** æ–‡æœ¬å±æ€§ */  elm: Node | void; /** å¯¹åº”å¾—çœŸæ˜¯dom */  ns: string | void;  context: Component | void; // rendered in this component&#39;s scope  key: string | number | void; /** keyå€¼ï¼Œ diffæ—¶å¯ä»¥æé«˜æ•ˆç‡ï¼Œ å…·ä½“å…¥v-foræ—¶ éœ€è¦å£°æ˜ :key */  componentOptions: VNodeComponentOptions | void;  componentInstance: Component | void; // component instance  parent: VNode | void; // component placeholder node  // strictly internal  raw: boolean; // contains raw HTML? (server only)  isStatic: boolean; // hoisted static node  isRootInsert: boolean; // necessary for enter transition check  isComment: boolean; // empty comment placeholder?  isCloned: boolean; // is a cloned node?  isOnce: boolean; // is a v-once node?  asyncFactory: Function | void; // async component factory function  asyncMeta: Object | void;  isAsyncPlaceholder: boolean;  ssrContext: Object | void;  fnContext: Component | void; // real context vm for functional nodes  fnOptions: ?ComponentOptions; // for SSR caching  devtoolsMeta: ?Object; // used to store functional render context for devtools  fnScopeId: ?string; // functional scope id support  constructor (    tag?: string,    data?: VNodeData,    children?: ?Array&lt;VNode&gt;,    text?: string,    elm?: Node,    context?: Component,    componentOptions?: VNodeComponentOptions,    asyncFactory?: Function  ) {    this.tag = tag    this.data = data    this.children = children    this.text = text    this.elm = elm    this.ns = undefined    this.context = context    this.fnContext = undefined    this.fnOptions = undefined    this.fnScopeId = undefined    this.key = data &amp;&amp; data.key    this.componentOptions = componentOptions    this.componentInstance = undefined    this.parent = undefined    this.raw = false    this.isStatic = false    this.isRootInsert = true    this.isComment = false    this.isCloned = false    this.isOnce = false    this.asyncFactory = asyncFactory    this.asyncMeta = undefined    this.isAsyncPlaceholder = false  }  // DEPRECATED: alias for componentInstance for backwards compat.  /* istanbul ignore next */  get child (): Component | void {    return this.componentInstance  }}</code></pre><p><strong>é‚£æˆ‘ä»¬è¦å®šä¹‰å¤šå°‘ç§ç±»å‹çš„VNODEå‘¢ï¼Ÿ</strong></p><ul><li>æ³¨é‡ŠèŠ‚ç‚¹</li><li>æ–‡æœ¬èŠ‚ç‚¹</li><li>å…ƒç´ èŠ‚ç‚¹</li><li>ç»„ä»¶èŠ‚ç‚¹</li><li>å‡½æ•°å¼ç»„ä»¶èŠ‚ç‚¹</li><li>å…‹éš†èŠ‚ç‚¹</li></ul><p><em>å‰è¾¹çš„åŸºæœ¬å°±æ˜¯è¯»å–ä¸€ä¸ªDOMå…ƒç´ ä¹‹åï¼Œå»æ‹†è§£å»ç»„è£…æˆä¸€ä¸ªç›¸å¯¹åº”DOMçš„VNODEå…ƒç´ ï¼Œå†å›å¤´çœ‹çœ‹è¿™ä¸ªè™šæ‹ŸDOMå…¨ç¨‹ï¼Œæœ€éº»çƒ¦çš„åœ°æ–¹åœ¨å“ªé‡Œå‘¢ï¼Ÿ</em></p><p><strong>è€ŒVNODEæ›´æ–°çš„è¿™ä¸ªè¿‡ç¨‹ï¼Ÿ</strong><br><em>DOM-Diffã€patchï¼š</em> æ‰“è¡¥ä¸</p><p>ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯å¯¹æ—§çš„VNODEæ ¹æ®æ–°çš„VNODEè¿›è¡Œä¿®è¡¥çš„è¿™ä¹ˆä¸€ä¸ªè¿‡ç¨‹ï¼Œä½¿å¾—æœ€ç»ˆæ–°æ—§VNODEä¿æŒä¸€è‡´ã€‚<strong>ä»¥newVNODEä¸ºåŸºå‡†ï¼Œæ”¹é€ oldVNODEï¼Œè¿™å°±æ˜¯patchå¹²çš„äº‹ï¼Œå½“ç„¶çš„å‰ææ˜¯ç›¸åŒç±»å‹çš„VNODEæ‰æœ‰å¯¹æ¯”çš„æ„ä¹‰ã€‚</strong></p><p><strong>å½“æ–°æ—§çš„VNODEç±»å‹ä¸åŒæ—¶ï¼š</strong>è°ƒç”¨ä¸€äº›replaceå°†æ–°çš„Vnodeæ›¿æ¢äº†æ—§Vnodeã€‚</p><p><strong>æ›´æ–°æ ‡ç­¾å…ƒç´ çš„åŸºæœ¬è§„åˆ™ï¼Œæ›´æ–°ç›¸åŒæ ‡ç­¾çš„VNodeæ—¶ï¼š</strong>ä¾‹å¦‚éƒ½ä¸ºdiv</p><pre><code>// æ—§çš„ VNodeconst prevVNode = h(&#39;div&#39;, {  style: {    width: &#39;100px&#39;,    height: &#39;100px&#39;,    backgroundColor: &#39;red&#39;  }})// æ–°çš„ VNodeconst nextVNode = h(&#39;div&#39;, {  style: {    width: &#39;100px&#39;,    height: &#39;100px&#39;,    border: &#39;1px solid green&#39;  }})</code></pre><ul><li>ç¬¬ 1 æ­¥ï¼šå½“æ–°çš„ VNodeData å­˜åœ¨æ—¶ï¼Œéå†æ–°çš„ VNodeDataã€‚</li><li>ç¬¬ 2 æ­¥ï¼šæ ¹æ®æ–° VNodeData ä¸­çš„ keyï¼Œåˆ†åˆ«å°è¯•è¯»å–æ—§å€¼å’Œæ–°å€¼ï¼Œå³ prevValue å’Œ nextValueã€‚</li><li>ç¬¬ 3 æ­¥ï¼šä½¿ç”¨ switchâ€¦case è¯­å¥åŒ¹é…ä¸åŒçš„æ•°æ®è¿›è¡Œä¸åŒçš„æ›´æ–°æ“ä½œ</li></ul><p><strong>æ›´æ–°å®ŒVNodeåï¼Œå…¶ä¸‹æ›´æ–°å­èŠ‚ç‚¹ï¼š</strong></p><p><img src="/2020/01/17/2020/Vue-Diff/NO4.png" alt="NO4" title="NO4"></p><p><strong>3 x 3 ç§ç»„åˆ</strong></p><ul><li>ä¸€ã€æ–°æ—§èŠ‚ç‚¹éƒ½æ˜¯å•å­èŠ‚ç‚¹ï¼Œé‚£æˆ‘ä»¬å¯¹æ¯”ä»–ä»¬æ›¿æ¢ä¸åŒå³å¯<pre><code>patch()</code></pre></li><li>äºŒã€æ—§èŠ‚ç‚¹ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œæ–°èŠ‚ç‚¹æ— å­èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å°†æ—§èŠ‚ç‚¹å­èŠ‚ç‚¹ç§»é™¤å³å¯<pre><code>removeChild()</code></pre></li><li>ä¸‰ã€æ—§èŠ‚ç‚¹æœ‰ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œæ–°èŠ‚ç‚¹æœ‰å¤šä¸ªå­èŠ‚ç‚¹çš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ç§»é™¤æ—§èŠ‚ç‚¹å­èŠ‚ç‚¹ï¼Œå†å°†æ–°èŠ‚ç‚¹å­èŠ‚ç‚¹éå†æŒ‚è½½ä¸Šå»ã€‚</li></ul><p><img src="/2020/01/17/2020/Vue-Diff/NO5.png" alt="NO5" title="NO5"></p><ul><li>å››ã€äº”ã€å…­ã€å½“æ—§èŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹çš„æ—¶å€™ï¼Œæ–°èŠ‚ç‚¹æœ‰ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œæˆ–è€…å¤šä¸ªå­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆä¾æ¬¡æŒ‚è½½ä¸Šå»å³å¯ï¼Œè‹¥æ–°èŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹ï¼Œé‚£å°±ä»€ä¹ˆéƒ½ä¸ç”¨åšäº†ã€‚</li><li>ä¸ƒã€å½“æ—§èŠ‚ç‚¹æœ‰å¤šä¸ªå­èŠ‚ç‚¹çš„æ—¶å€™ï¼Œæ–°èŠ‚ç‚¹åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆåˆ äº†æ—§èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼ŒæŒ‚è½½ä¸Šæ–°èŠ‚ç‚¹çš„é‚£ä¸€ä¸ªå­èŠ‚ç‚¹ã€‚</li><li>å…«ã€å½“æ—§èŠ‚ç‚¹æœ‰å¤šä¸ªå­èŠ‚ç‚¹çš„æ—¶å€™ï¼Œæ–°èŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆåˆ ç©ºæ—§èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹å³å¯ã€‚</li><li>ä¹ã€å½“æ—§èŠ‚ç‚¹æœ‰å¤šä¸ªå­èŠ‚ç‚¹æ—¶å€™ï¼Œæ–°èŠ‚ç‚¹ä¹Ÿæœ‰å¤šä¸ªå­èŠ‚ç‚¹çš„æ—¶å€™ï¼Œå°±æ˜¯æ ¸å¿ƒçš„Diffå¯¹æ¯”</li></ul><p><strong>å¯¹äºä¸¤å¤šçš„æƒ…å†µï¼Œå¤§å®¶èƒ½æƒ³åˆ°ç”¨ä»€ä¹ˆå½¢å¼è¿›è¡ŒDOMçš„æ›´æ–°å‘¢ï¼Ÿ</strong><br><strong>å…¨éƒ¨åˆ é™¤ï¼Ÿå†å…¨éƒ¨å¢åŠ </strong></p><h6 id="Diffç®—æ³•"><a href="#Diffç®—æ³•" class="headerlink" title="Diffç®—æ³•"></a>Diffç®—æ³•</h6><p>æ–°æ—§DOMçš„å†…éƒ¨èŠ‚ç‚¹åºæ‚ä¸”å¤æ‚ï¼Œæ‰€ä»¥æ ¸å¿ƒçš„Diffæ˜¯å±…äºåŒå±‚çº§é—´çš„æ¯”è¾ƒï¼Œå³æ˜¯ oldVnodeä¸­æœ‰å¤šä¸ªå­èŠ‚ç‚¹ï¼ŒnewVnodeæœ‰å¤šä¸ªå­èŠ‚ç‚¹çš„æƒ…å†µ</p><p><img src="/2020/01/17/2020/Vue-Diff/NO6.png" alt="NO6" title="NO6"></p><p>æˆ‘ä»¬å†VNodeçš„elä¸­æŒ‚è½½äº†DOMå…ƒç´ </p><p><img src="/2020/01/17/2020/Vue-Diff/NO7.png" alt="NO7" title="NO7"></p><p>å¦‚æœæ ‡ç­¾ä»€ä¹ˆçš„ç›¸åŒï¼Œæˆ‘ä»¬ç”¨ä¹‹å‰åˆ—ä¸¾çš„é›†ä¸­patchå³å¯è¿›è¡Œæ¯”è¾ƒã€‚</p><p><img src="/2020/01/17/2020/Vue-Diff/NO8.png" alt="NO8" title="NO8"></p><p><img src="/2020/01/17/2020/Vue-Diff/NO9.png" alt="NO9" title="NO9"></p><p>å¦‚æœæ–°çš„VNodeåˆ—è¡¨ç›¸è¾ƒäºæ—§çš„VNodeæ˜¯é•¿çš„ï¼Œé‚£ä¹ˆæœ€åçš„èŠ‚ç‚¹æˆ‘ä»¬ä¾ç„¶è¦åˆ›å»ºèŠ‚ç‚¹ï¼Œæ—§çš„VNodeèŠ‚ç‚¹ç›¸è¾ƒäºæ–°çš„VNodeèŠ‚ç‚¹æ˜¯çŸ­çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬æœ€åè¦åˆ é™¤é”€æ¯å¤šä½™çš„DOMèŠ‚ç‚¹ã€‚</p><h6 id="keyçš„ä½œç”¨"><a href="#keyçš„ä½œç”¨" class="headerlink" title="keyçš„ä½œç”¨"></a>keyçš„ä½œç”¨</h6><pre><code>å‡è®¾ ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯keyæ ‡è¯†// æ—§[  h(&#39;li&#39;, null, 1),  h(&#39;li&#39;, null, 2),  h(&#39;li&#39;, null, 3)]// æ–°[  h(&#39;li&#39;, null, 3),  h(&#39;li&#39;, null, 1),  h(&#39;li&#39;, null, 2)]</code></pre><p>å¦‚æœæˆ‘ä»¬æŒ‰ç…§ä¹‹å‰çš„å¯¹æ¯”ã€‚</p><pre><code>h(&#39;li&#39;, null, 1)// vsh(&#39;li&#39;, null, 3)</code></pre><p>æ¯«æ— ç–‘é—®æˆ‘ä»¬å¯èƒ½ä¸‰æ¬¡å¯¹æ¯”ä¸­éƒ½ä¼šå»æ‰§è¡Œä¸€ä¸‹å¯¹æ¯”æ–¹æ³•ï¼Œä½†æ˜¯æ ¹æ®æˆ‘ä»¬ç›´æ¥è§‚å¯Ÿï¼Œæˆ‘ä»¬æ˜¯å¯ä»¥é€šè¿‡ç§»åŠ¨ä»–ä»¬çš„é¡ºåºä»è€Œè¾¾åˆ°æ›´æ–°DOMçš„æ•ˆæœçš„ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿é€šè¿‡keyè¿›è¡Œå¯¹æ¯”çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬åœ¨åˆ›å»ºVNodeçš„æ—¶å€™è¿˜éœ€è¦ä¿ç•™å¯¹å®ƒçš„keyçš„è®°å½•ã€‚</p><p><img src="/2020/01/17/2020/Vue-Diff/NO10.png" alt="NO10" title="NO10"></p><p><strong>æˆ‘ä»¬é€šè¿‡keyçŸ¥é“äº†ä»–ä»¬ä¹‹é—´çš„æ˜ å°„å…³ç³»</strong>ï¼Œæˆ‘ä»¬åªéœ€è¦éå†æ–°çš„childrenä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå»æ—§çš„childrenä¸­å¯»æ‰¾æ˜¯å¦æœ‰ç›¸åŒçš„keyå€¼èŠ‚ç‚¹å³å¯ã€‚</p><pre><code>// éå†æ–°çš„ childrenfor (let i = 0; i &lt; nextChildren.length; i++) {  const nextVNode = nextChildren[i]  let j = 0  // éå†æ—§çš„ children  for (j; j &lt; prevChildren.length; j++) {    const prevVNode = prevChildren[j]    // å¦‚æœæ‰¾åˆ°äº†å…·æœ‰ç›¸åŒ key å€¼çš„ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œåˆ™è°ƒç”¨ `patch` å‡½æ•°æ›´    if (nextVNode.key === prevVNode.key) {      patch(prevVNode, nextVNode, container)      break     }  }}</code></pre><p><strong>ç”¨keyæ ‡è®°ååˆæ€ä¹ˆæ‰¾åˆ°éœ€è¦ç§»åŠ¨çš„èŠ‚ç‚¹å‘¢ï¼Ÿ</strong></p><p><img src="/2020/01/17/2020/Vue-Diff/NO11.png" alt="NO11" title="NO11"></p><p>æˆ‘ä»¬å¯¹æ–°çš„VnodeèŠ‚ç‚¹è¿›è¡Œéå†ï¼Œå»æ—§èŠ‚ç‚¹æ‰¾å¯»æ‰€åœ¨çš„ç´¢å¼•ä½ç½®ï¼Œä¾‹å¦‚ï¼šæˆ‘ä»¬åœ¨æ–°èŠ‚ç‚¹ä¸­æ‰¾åˆ°li-aï¼Œå‘ç°åœ¨æ—§èŠ‚ç‚¹ä¸­æ‰€å¯¹åº”çš„ç´¢å¼•æ˜¯0ï¼Œä¾æ¬¡ç±»æ¨ï¼Œæœ€åçš„ç´¢å¼•å°±æ˜¯0-1-2ã€‚<br>è¿™ä¸ªç´¢å¼•å¯¹æˆ‘ä»¬æœ‰ä»€ä¹ˆå¸®åŠ©å‘¢ï¼Ÿ<br><strong>è¿™æ˜¯ä¸€ä¸ªé€’å¢çš„é¡ºåºï¼Œè¿™è¯´æ˜å¦‚æœåœ¨å¯»æ‰¾çš„è¿‡ç¨‹ä¸­é‡åˆ°çš„ç´¢å¼•å‘ˆç°é€’å¢è¶‹åŠ¿ï¼Œåˆ™è¯´æ˜æ–°æ—§ children ä¸­èŠ‚ç‚¹é¡ºåºç›¸åŒï¼Œä¸éœ€è¦ç§»åŠ¨æ“ä½œã€‚ç›¸åçš„ï¼Œå¦‚æœåœ¨å¯»æ‰¾çš„è¿‡ç¨‹ä¸­é‡åˆ°çš„ç´¢å¼•å€¼ä¸å‘ˆç°é€’å¢è¶‹åŠ¿ï¼Œåˆ™è¯´æ˜éœ€è¦ç§»åŠ¨æ“ä½œ</strong></p><p><img src="/2020/01/17/2020/Vue-Diff/NO12.png" alt="NO12" title="NO12"></p><p>æŒ‰ç…§è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬æœ€ç»ˆæ‰¾å‡ºæ¥çš„ç´¢å¼•æ˜¯2-0-1</p><p>æˆ‘ä»¬ä¸€å¼€å§‹æ‰¾åˆ°çš„ç´¢å¼•æ˜¯2ï¼Œè€Œåæ˜¯0ï¼Œæˆ‘ä»¬é‡åˆ°äº†æ¯”2å°çš„ç´¢å¼•æ•°ï¼Œæ‰“ç ´äº†é€’å¢çš„è§„å¾‹ï¼Œæˆ‘ä»¬æ­¤æ—¶çŸ¥é“äº†ï¼Œåœ¨æ—§çš„Vnodeä¸­ï¼Œli-cæ‰€å¤„çš„ä½ç½®æ˜¯æ¯”li-aè¦é åçš„ï¼Œæˆ‘ä»¬å³ å¾—å‡º li-aå¦‚æœè¦æ›´æ–°åœ¨æ–°çš„VNodeä¸­ï¼Œå®ƒéœ€è¦åç§»ï¼Œ<strong>å¹¶ä»¥li-cåšæœ€å¤§ç´¢å¼•å‚ç…§ç‰©</strong></p><h6 id="ç§»åŠ¨èŠ‚ç‚¹"><a href="#ç§»åŠ¨èŠ‚ç‚¹" class="headerlink" title="ç§»åŠ¨èŠ‚ç‚¹"></a>ç§»åŠ¨èŠ‚ç‚¹</h6><p>æ–°çš„èŠ‚ç‚¹åœ¨ç»è¿‡å¯¹æ¯”åä¹Ÿå°†æ‹¥æœ‰å¯¹çœŸå®DOMçš„å¼•ç”¨</p><p><img src="/2020/01/17/2020/Vue-Diff/NO13.png" alt="NO13" title="NO13"></p><p><strong>æˆ‘ä»¬éœ€è¦æ€ä¹ˆç§»åŠ¨å…ƒç´ å‘¢ï¼Ÿ</strong><br>li-cä½œä¸ºç¬¬ä¸€å„å…ƒç´ ï¼Œæˆ‘ä»¬å®Œæˆå¯¹å®ƒçš„å†…éƒ¨çš„å¯¹æ¯”æ›´æ–°å³å¯</p><p>æˆ‘ä»¬éå†åˆ°li-açš„æ—¶å€™ï¼Œæˆ‘ä»¬çŸ¥é“å®ƒåœ¨æ—§DOMchildrenä¸­çš„ç´¢å¼•æ˜¯0ï¼Œæ‰€ä»¥0 &lt; 2ï¼Œæˆ‘ä»¬éœ€è¦ç§»åŠ¨li-aå…ƒç´ <br>è€Œæ­¤æ—¶æˆ‘ä»¬éå†çš„ä¸ºæ–°èŠ‚ç‚¹æ•°ç»„çš„li-aä½ç½®ï¼Œæˆ‘ä»¬æ‹¿åˆ°elçœŸå®DOMä¹‹åï¼Œåœ¨ä¸Šä¸€ä¸ªå…ƒç´ ä¹‹åæ’å…¥å³å¯ã€‚</p><pre><code>const refNode = nextChildren[i - 1].el.nextSibling // ä¸Šä¸€ä¸ªå…ƒç´ åŸæœ¬çš„ä¸‹ä¸€ä¸ªå…ƒç´ // è°ƒç”¨ insertBefore å‡½æ•°ç§»åŠ¨ DOMcontainer.insertBefore(prevVNode.el, refNode)</code></pre><p><img src="/2020/01/17/2020/Vue-Diff/NO14.png" alt="NO14" title="NO14"></p><h6 id="æ·»åŠ æ–°å…ƒç´ "><a href="#æ·»åŠ æ–°å…ƒç´ " class="headerlink" title="æ·»åŠ æ–°å…ƒç´ "></a>æ·»åŠ æ–°å…ƒç´ </h6><p><img src="/2020/01/17/2020/Vue-Diff/NO15.png" alt="NO15" title="NO15"></p><p>æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°ï¼Œåœ¨æ—§çš„childrenä¸­li-dæ˜¯ä¸å­˜åœ¨çš„ã€‚<br>æˆ‘ä»¬åªéœ€è¦å°†æ–°çš„æ­¤èŠ‚ç‚¹æŒ‚è½½åœ¨æ­£ç¡®ä½ç½®ä¸Šå³å¯ã€‚<br><strong>å¦‚ä½•çŸ¥é“æ­¤èŠ‚ç‚¹ä¸å­˜åœ¨ï¼Ÿ</strong><br>æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªæ ‡å¿—å˜é‡ï¼Œåœ¨éå†æ–°çš„childrenæ˜¯å£°æ˜ä¸ºfalseï¼Œåœ¨æ—§çš„å†…éƒ¨éå†æ—¶ï¼Œæ‰¾åˆ°æ­¤keyèŠ‚ç‚¹ï¼Œåˆ™ç½®ä¸ºtrueï¼Œæœ€ç»ˆéªŒè¯æ­¤å˜é‡å³å¯</p><pre><code>for (let i = 0; i &lt; nextChildren.length; i++) {  const nextVNode = nextChildren[i]  let j = 0,    find = false //   &lt;== è¿™  for (j; j &lt; prevChildren.length; j++) {    const prevVNode = prevChildren[j]    if (nextVNode.key === prevVNode.key) {      find = true      patch(prevVNode, nextVNode, container)      if (j &lt; lastIndex) {        const refNode = nextChildren[i - 1].el.nextSibling        container.insertBefore(prevVNode.el, refNode)        break      } else {        // æ›´æ–° lastIndex        lastIndex = j      }    }  }  if (!find) {    // æŒ‚è½½æ–°èŠ‚ç‚¹    const refNode =          i - 1 &lt; 0            ? prevChildren[0].el            : nextChildren[i - 1].el.nextSibling        mount(nextVNode, container, false, refNode)  }</code></pre><p>è¿™ä¸ªi-1&lt;0 æ˜¯å› ä¸ºå½“å‰ä¸€ä¸ªå­èŠ‚ç‚¹ä¸ºç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™ï¼Œæˆ‘ä»¬æŠŠå®ƒæ’åœ¨æœ€å‰é¢å³å¯ã€‚</p><h6 id="ç§»é™¤ä¸å­˜åœ¨äº†çš„å…ƒç´ "><a href="#ç§»é™¤ä¸å­˜åœ¨äº†çš„å…ƒç´ " class="headerlink" title="ç§»é™¤ä¸å­˜åœ¨äº†çš„å…ƒç´ "></a>ç§»é™¤ä¸å­˜åœ¨äº†çš„å…ƒç´ </h6><p><img src="/2020/01/17/2020/Vue-Diff/NO16.png" alt="NO16" title="NO16"></p><p>æˆ‘ä»¬ç”¨ä»€ä¹ˆæ–¹æ³•å»ç§»é™¤å¯»æ‰¾éœ€è¦ç§»é™¤çš„DOMèŠ‚ç‚¹ï¼Ÿ<br>è¿˜è®°å¾—æˆ‘ä»¬ä¸€å¼€å§‹éå†çš„å³æ˜¯æ–°çš„childrenå—ï¼Œåœ¨å†…éƒ¨æ‰éå†æ—§childrençš„å—ï¼Ÿæˆ‘ä»¬åªä¼šæ‰§è¡Œä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡è§£å†³li-aã€ç¬¬äºŒæ¬¡è§£å†³li-bï¼Œç„¶åå°±é€€å‡ºå¾ªç¯äº†</p><p>**æ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨æ–°çš„childrenéå†ç»“æŸåï¼Œåœ¨è¿›è¡Œä¸€éæ—§childrençš„éå†ï¼Œå¹¶ä¸”ç”¨æ—§childrenèŠ‚ç‚¹å»æ–°çš„childrenä¸­å¯»æ‰¾ç›¸åŒèŠ‚ç‚¹ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™è¯´æ˜å·²ç»æ²¡æœ‰è¿™ä¸ªDOMäº†ã€‚</p><pre><code>// ç§»é™¤å·²ç»ä¸å­˜åœ¨çš„èŠ‚ç‚¹// éå†æ—§çš„èŠ‚ç‚¹for (let i = 0; i &lt; prevChildren.length; i++) {  const prevVNode = prevChildren[i]  // æ‹¿ç€æ—§ VNode å»æ–° children ä¸­å¯»æ‰¾ç›¸åŒçš„èŠ‚ç‚¹  const has = nextChildren.find(    nextVNode =&gt; nextVNode.key === prevVNode.key  )  if (!has) {    // å¦‚æœæ²¡æœ‰æ‰¾åˆ°ç›¸åŒçš„èŠ‚ç‚¹ï¼Œåˆ™ç§»é™¤    container.removeChild(prevVNode.el)  }}</code></pre><p>ä¸Šé¢çš„å¯¹æ¯”ç¼ºé™·ï¼Ÿ</p><p><img src="/2020/01/17/2020/Vue-Diff/NO17.png" alt="NO17" title="NO17"></p><p><img src="/2020/01/17/2020/Vue-Diff/NO18.png" alt="NO18" title="NO18"></p><h5 id="VUEçš„å¯¹æ¯”ï¼Ÿï¼šåŒç«¯æ¯”è¾ƒ"><a href="#VUEçš„å¯¹æ¯”ï¼Ÿï¼šåŒç«¯æ¯”è¾ƒ" class="headerlink" title="VUEçš„å¯¹æ¯”ï¼Ÿï¼šåŒç«¯æ¯”è¾ƒ"></a>VUEçš„å¯¹æ¯”ï¼Ÿï¼šåŒç«¯æ¯”è¾ƒ</h5><p><img src="/2020/01/17/2020/Vue-Diff/NO19.png" alt="NO19" title="NO19"></p><p>æˆ‘ä»¬ä½¿ç”¨å››ä¸ªç´¢å¼•æŒ‡å‘ç€ old ä¸ new çš„å¼€å§‹ä¸ç»“æŸï¼Œå³åŒç«¯</p><pre><code>let oldStartIdx = 0let oldEndIdx = prevChildren.length - 1let newStartIdx = 0let newEndIdx = nextChildren.length - 1// åŒæ—¶let oldStartVNode = prevChildren[oldStartIdx]let oldEndVNode = prevChildren[oldEndIdx]let newStartVNode = nextChildren[newStartIdx]let newEndVNode = nextChildren[newEndIdx]</code></pre><p><strong>æ¯ä¸€æ¬¡çš„å¯¹æ¯”éƒ½ä¼šæ‰§è¡Œä»¥ä¸‹å››æ­¥ï¼š</strong><br>newStartIndex - oldStartIndex<br>newEndIndex - oldEndIndex<br>oldStartIndex - newEndIndex<br>newStartIndex - oldEndIndex</p><p><img src="/2020/01/17/2020/Vue-Diff/NO20.png" alt="NO20" title="NO20"></p><pre><code>if (oldStartVNode.key === newStartVNode.key) {  // æ­¥éª¤ä¸€ï¼šoldStartVNode å’Œ newStartVNode æ¯”å¯¹} else if (oldEndVNode.key === newEndVNode.key) {  // æ­¥éª¤äºŒï¼šoldEndVNode å’Œ newEndVNode æ¯”å¯¹} else if (oldStartVNode.key === newEndVNode.key) {  // æ­¥éª¤ä¸‰ï¼šoldStartVNode å’Œ newEndVNode æ¯”å¯¹}else if (oldEndVNode.key === newStartVNode.key) {  // æ­¥éª¤å››ï¼šoldEndVNode å’Œ newStartVNode æ¯”å¯¹}</code></pre><p> åœ¨ç¬¬å››æ­¥ä¸­æˆ‘ä»¬å¯ä»¥å¾—åˆ°å¯ä»¥å¤ç”¨çš„èŠ‚ç‚¹<br> æˆ‘ä»¬å°†li-dç§»åŠ¨åˆ°å¼€å¤´</p><pre><code>if (oldStartVNode.key === newStartVNode.key) {  // æ­¥éª¤ä¸€ï¼šoldStartVNode å’Œ newStartVNode æ¯”å¯¹  } else if (oldEndVNode.key === newEndVNode.key) {  // æ­¥éª¤äºŒï¼šoldEndVNode å’Œ newEndVNode æ¯”å¯¹  } else if (oldStartVNode.key === newEndVNode.key) {  // æ­¥éª¤ä¸‰ï¼šoldStartVNode å’Œ newEndVNode æ¯”å¯¹  } else if (oldEndVNode.key === newStartVNode.key) {   * * * * * * * *  * * * * * * * * * * * * * è¿™ * * * * * * * * * *      // æ­¥éª¤å››ï¼šoldEndVNode å’Œ newStartVNode æ¯”å¯¹      // å…ˆè°ƒç”¨ patch å‡½æ•°å®Œæˆæ›´æ–°      patch(oldEndVNode, newStartVNode, container)      // æ›´æ–°å®Œæˆåï¼Œå°†å®¹å™¨ä¸­æœ€åä¸€ä¸ªå­èŠ‚ç‚¹ç§»åŠ¨åˆ°æœ€å‰é¢ï¼Œä½¿å…¶æˆä¸ºç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹      container.insertBefore(oldEndVNode.el, oldStartVNode.el)      // æ›´æ–°ç´¢å¼•ï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªä½ç½®      oldEndVNode = prevChildren[--oldEndIdx]      newStartVNode = nextChildren[++newStartIdx]    }</code></pre><p> è€Œåæˆ‘ä»¬è¿›è¡Œä¸‹ä¸€æ¬¡çš„å¯¹æ¯”ï¼š</p><p><img src="/2020/01/17/2020/Vue-Diff/NO21.png" alt="NO21" title="NO21"></p><p><img src="/2020/01/17/2020/Vue-Diff/NO22.png" alt="NO22" title="NO22"></p><p><strong>ä»€ä¹ˆæ—¶å€™å¯ä»¥ç»“æŸå‘¢ï¼Ÿ</strong></p><pre><code>while (oldStartIdx &lt;= oldEndIdx &amp;&amp; newStartIdx &lt;= newEndIdx) {  if (oldStartVNode.key === newStartVNode.key) {    // æ­¥éª¤ä¸€ï¼šoldStartVNode å’Œ newStartVNode æ¯”å¯¹  } else if (oldEndVNode.key === newEndVNode.key) {    // æ­¥éª¤äºŒï¼šoldEndVNode å’Œ newEndVNode æ¯”å¯¹  } else if (oldStartVNode.key === newEndVNode.key) {    // æ­¥éª¤ä¸‰ï¼šoldStartVNode å’Œ newEndVNode æ¯”å¯¹  } else if (oldEndVNode.key === newStartVNode.key) {    // æ­¥éª¤å››ï¼šoldEndVNode å’Œ newStartVNode æ¯”å¯¹  }  }</code></pre><p> å½“oldStartIndex å¤§äº olaEndIndex æˆ–è€… newStartIndex å¤§äº newEndIndexçš„æ—¶å€™</p><p> <em>ç¬¬äºŒè½®ä¸­ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†li-cï¼Œè€Œå®ƒæ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼ŒDOMé¡ºåºçš„è¯ä¸éœ€è¦ç§»åŠ¨</em></p><pre><code>while (oldStartIdx &lt;= oldEndIdx &amp;&amp; newStartIdx &lt;= newEndIdx) {  if (oldStartVNode.key === newStartVNode.key) {    // æ­¥éª¤ä¸€ï¼šoldStartVNode å’Œ newStartVNode æ¯”å¯¹  } else if (oldEndVNode.key === newEndVNode.key) {    * * * * * * * * * * * * * * * * * * * * * è¿™ * * * * * * * * * *    // æ­¥éª¤äºŒï¼šoldEndVNode å’Œ newEndVNode æ¯”å¯¹    // è°ƒç”¨ patch å‡½æ•°æ›´æ–°    patch(oldEndVNode, newEndVNode, container)    // æ›´æ–°ç´¢å¼•ï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªä½ç½®    oldEndVNode = prevChildren[--oldEndIdx]    newEndVNode = nextChildren[--newEndIdx]  } else if (oldStartVNode.key === newEndVNode.key) {    // æ­¥éª¤ä¸‰ï¼šoldStartVNode å’Œ newEndVNode æ¯”å¯¹  } else if (oldEndVNode.key === newStartVNode.key) {    // æ­¥éª¤å››ï¼šoldEndVNode å’Œ newStartVNode æ¯”å¯¹    // å…ˆè°ƒç”¨ patch å‡½æ•°å®Œæˆæ›´æ–°    patch(oldEndVNode, newStartVNode, container)    // æ›´æ–°å®Œæˆåï¼Œå°†å®¹å™¨ä¸­æœ€åä¸€ä¸ªå­èŠ‚ç‚¹ç§»åŠ¨åˆ°æœ€å‰é¢ï¼Œä½¿å…¶æˆä¸ºç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹    container.insertBefore(oldEndVNode.el, oldStartVNode.el)    // æ›´æ–°ç´¢å¼•ï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªä½ç½®    oldEndVNode = prevChildren[--oldEndIdx]    newStartVNode = nextChildren[++newStartIdx]  }}</code></pre><p><img src="/2020/01/17/2020/Vue-Diff/NO23.png" alt="NO23" title="NO23"> </p><p> æˆ‘ä»¬æ‰§è¡Œç¬¬ä¸‰æ­¥çš„æ—¶å€™åœ¨li-aå¤„ï¼Œæ»¡è¶³äº†<br>oldStartVNode.key === newEndVNode.key</p><pre><code>while (oldStartIdx &lt;= oldEndIdx &amp;&amp; newStartIdx &lt;= newEndIdx) {  if (oldStartVNode.key === newStartVNode.key) {    // æ­¥éª¤ä¸€ï¼šoldStartVNode å’Œ newStartVNode æ¯”å¯¹  } else if (oldEndVNode.key === newEndVNode.key) {    // æ­¥éª¤äºŒï¼šoldEndVNode å’Œ newEndVNode æ¯”å¯¹    // è°ƒç”¨ patch å‡½æ•°æ›´æ–°    patch(oldEndVNode, newEndVNode, container)    // æ›´æ–°ç´¢å¼•ï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªä½ç½®    oldEndVNode = prevChildren[--oldEndIdx]    newEndVNode = newEndVNode[--newEndIdx]  } else if (oldStartVNode.key === newEndVNode.key) {    * * * * * * * * * è¿™ * * * * * * * * *    // æ­¥éª¤ä¸‰ï¼šoldStartVNode å’Œ newEndVNode æ¯”å¯¹    // è°ƒç”¨ patch å‡½æ•°æ›´æ–°    patch(oldStartVNode, newEndVNode, container)    // å°† oldStartVNode.el ç§»åŠ¨åˆ° oldEndVNode.el çš„åé¢ï¼Œä¹Ÿå°±æ˜¯ oldEndVNode.el.nextSibling çš„å‰é¢    container.insertBefore(      oldStartVNode.el,      oldEndVNode.el.nextSibling    )    // æ›´æ–°ç´¢å¼•ï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªä½ç½®    oldStartVNode = prevChildren[++oldStartIdx]    newEndVNode = nextChildren[--newEndIdx]  } else if (oldEndVNode.key === newStartVNode.key) {    // æ­¥éª¤å››ï¼šoldEndVNode å’Œ newStartVNode æ¯”å¯¹    // å…ˆè°ƒç”¨ patch å‡½æ•°å®Œæˆæ›´æ–°    patch(oldEndVNode, newStartVNode, container)    // æ›´æ–°å®Œæˆåï¼Œå°†å®¹å™¨ä¸­æœ€åä¸€ä¸ªå­èŠ‚ç‚¹ç§»åŠ¨åˆ°æœ€å‰é¢ï¼Œä½¿å…¶æˆä¸ºç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹    container.insertBefore(oldEndVNode.el, oldStartVNode.el)    // æ›´æ–°ç´¢å¼•ï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªä½ç½®    oldEndVNode = prevChildren[--oldEndIdx]    newStartVNode = nextChildren[++newStartIdx]  }}</code></pre><p><strong>æœ€åä¸€è½®</strong><br><img src="/2020/01/17/2020/Vue-Diff/NO24.png" alt="NO24" title="NO24"> </p><p><img src="/2020/01/17/2020/Vue-Diff/NO25.png" alt="NO25" title="NO25"> </p><p>patch li-b å³å¯</p><p><img src="/2020/01/17/2020/Vue-Diff/NO26.png" alt="NO26" title="NO26"> </p><h6 id="åŒç«¯æ¯”è¾ƒä¼˜åŠ¿"><a href="#åŒç«¯æ¯”è¾ƒä¼˜åŠ¿" class="headerlink" title="åŒç«¯æ¯”è¾ƒä¼˜åŠ¿"></a>åŒç«¯æ¯”è¾ƒä¼˜åŠ¿</h6><p><strong>è¿˜è®°å¾—è¿™ä¸ªå—ï¼Ÿ</strong><br><img src="/2020/01/17/2020/Vue-Diff/NO27.png" alt="NO27" title="NO27"> </p><p><img src="/2020/01/17/2020/Vue-Diff/NO28.png" alt="NO28" title="NO28"> </p><p>åœ¨Reactçš„æ¯”è¾ƒä¸ŠåŸºç¡€ä¸Šï¼Œæˆ‘ä»¬ä½¿ç”¨åŒç«¯æ¯”è¾ƒæ¥çœ‹çœ‹</p><p><img src="/2020/01/17/2020/Vue-Diff/NO29.png" alt="NO29" title="NO29"> </p><ul><li>â‘£ç›¸åŒkeyï¼Œå¯å¤ç”¨ï¼Œç§»åŠ¨li-c</li></ul><p><img src="/2020/01/17/2020/Vue-Diff/NO30.png" alt="NO30" title="NO30"> </p><ul><li>ç„¶åæˆ‘ä»¬å‘ç°å°±ä¸å†éœ€è¦æ”¹å˜äº†</li></ul><h6 id="éç†æƒ³æƒ…å†µçš„å¤„ç†æ–¹å¼"><a href="#éç†æƒ³æƒ…å†µçš„å¤„ç†æ–¹å¼" class="headerlink" title="éç†æƒ³æƒ…å†µçš„å¤„ç†æ–¹å¼"></a>éç†æƒ³æƒ…å†µçš„å¤„ç†æ–¹å¼</h6><p>æœ‰è¿™ä¹ˆä¸€ç§æƒ…å†µï¼Œå½“â‘ â‘¡â‘¢â‘£éƒ½æ— æ³•è¿›è¡ŒåŒ¹é…ä¸Šçš„æ—¶å€™</p><p><img src="/2020/01/17/2020/Vue-Diff/NO31.png" alt="NO31" title="NO31"> </p><p>é‚£åªèƒ½é€šè¿‡newStartIndexçš„è¿™èŠ‚ç‚¹å»oldChildrenä¸­å¯»æ‰¾å‡ºæ¥äº†</p><pre><code>while (oldStartIdx &lt;= oldEndIdx &amp;&amp; newStartIdx &lt;= newEndIdx) {  if (oldStartVNode.key === newStartVNode.key) {    // çœç•¥...  } else if (oldEndVNode.key === newEndVNode.key) {    // çœç•¥...  } else if (oldStartVNode.key === newEndVNode.key) {    // çœç•¥...  } else if (oldEndVNode.key === newStartVNode.key) {    // çœç•¥...  } else {  * * * * * * * è¿™ * * * * * * * * *    // éå†æ—§ childrenï¼Œè¯•å›¾å¯»æ‰¾ä¸ newStartVNode æ‹¥æœ‰ç›¸åŒ key å€¼çš„å…ƒç´     const idxInOld = prevChildren.findIndex(      node =&gt; node.key === newStartVNode.key    )  }}</code></pre><p><img src="/2020/01/17/2020/Vue-Diff/NO32.png" alt="NO32" title="NO32"> </p><p>else çš„å…³é”®åœ¨äºï¼Œæ‰¾åˆ°äº†åœ¨oldChildrenä¸­çš„è¿™ä¸ªDOMï¼Œå¹¶ä¸”æ˜ç™½å®ƒå·²ç»åœ¨newChildrenä¸­è¢«ç§»åŠ¨åˆ°äº†æœ€å‰é¢ã€‚</p><ul><li>oldChildren ä¸­çš„DOMè¢«ç§»åŠ¨åˆ°æœ€å‰é¢</li><li>è°ƒç”¨patchå‡½æ•°å®Œæˆæ›´æ–°</li><li>æŠŠoldChildrençš„ç›®æ ‡èŠ‚ç‚¹ç§»åŠ¨åœ¨æœ€å‰é¢ï¼Œå³oldStartIndex.elå‰é¢</li><li>åŒæ—¶å°†è¯¥ä½ç½®å°†è¢«ç½®ä¸ºundefined</li></ul><p><img src="/2020/01/17/2020/Vue-Diff/NO33.png" alt="NO33" title="NO33"> </p><p>é‚£ä¹ˆå‰é¢çš„å¯¹æ¯”ä¹Ÿéœ€è¦å¢åŠ é‡åˆ°undefindedçš„æƒ…å†µè°ƒè¿‡çš„æ­¥éª¤ã€‚</p><h6 id="æ·»åŠ æ–°å…ƒç´ -1"><a href="#æ·»åŠ æ–°å…ƒç´ -1" class="headerlink" title="æ·»åŠ æ–°å…ƒç´ "></a>æ·»åŠ æ–°å…ƒç´ </h6><p><img src="/2020/01/17/2020/Vue-Diff/NO34.png" alt="NO34" title="NO34"> </p><p>ç”¨li-d æ‰§è¡Œä¸Šè¿°çš„æ­¥éª¤ï¼Œæ‰§è¡Œä¸ä¸‹å»ï¼Œli-bæ˜¯æ–°çš„èŠ‚ç‚¹</p><p>é‚£æ˜¯ä¸æ˜¯æˆ‘ä»¬â‘ â‘¡â‘¢â‘£æ‰§è¡Œä¸ä¸‹å»çš„æ—¶å€™ï¼Œå°† li-d æŒ‚è½½åœ¨æœ€å‰é¢å°±å¯ä»¥äº†å‘¢ï¼Ÿ<br>å³æŒ‚è½½åœ¨oldStartIndex.elå‰é¢ï¼Ÿ</p><p>æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªä¾‹å­</p><p><img src="/2020/01/17/2020/Vue-Diff/NO35.png" alt="NO35" title="NO35"> </p><p>å¤§å®¶æ¨¡æ‹Ÿä¸€ä¸‹ï¼šè‡ªç”±æ€è€ƒ</p><p>åˆ·</p><pre><code>åˆ·</code></pre><ul><li>â‘¡ä¸­æ‰¾åˆ°å¯å¤ç”¨çš„èŠ‚ç‚¹ï¼ŒåŒæ—¶å› ä¸ºæ˜¯æœ€åï¼Œæ‰€ä»¥DOMä¸ç§»åŠ¨ï¼Œpatchå³å¯</li></ul><p><strong>ä¸‹ä¸€æ­¥</strong></p><p><img src="/2020/01/17/2020/Vue-Diff/NO36.png" alt="NO36" title="NO36"> </p><ul><li>â‘¡ä¸­æ‰¾åˆ°å¯å¤ç”¨èŠ‚ç‚¹ï¼ŒåŒæ—¶DOMä¹Ÿä¸éœ€è¦ç§»åŠ¨ï¼Œpatchå³å¯</li></ul><p><strong>ä¸‹ä¸€æ­¥</strong><br><img src="/2020/01/17/2020/Vue-Diff/NO37.png" alt="NO37" title="NO37"> </p><ul><li>â‘¡ä¸­å¯å¤ç”¨ï¼Œä¾æ—§å¤„ç†<br><img src="/2020/01/17/2020/Vue-Diff/NO38.png" alt="NO38" title="NO38"> </li></ul><p>æ‰€ä»¥æˆ‘ä»¬å‘ç° li-d å¹¶æ²¡æœ‰è¢«å¤„ç†åˆ°<br>æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¢åŠ å¤šä¸€ä¸ªåˆ¤æ–­ï¼ŒoldEndIndex å°äº oldStartIndexçš„è¯ï¼Œå°±å­˜åœ¨æ²¡æœ‰è¢«å¤„ç†åˆ°çš„å…¨æ–°èŠ‚ç‚¹</p><p><strong>æˆ‘ä»¬éœ€è¦æŠŠè¿™äº›å…¨æ–°çš„èŠ‚ç‚¹æŒ‚è½½åœ¨oldStartIndexå‰é¢</strong></p><pre><code>while (oldStartIdx &lt;= oldEndIdx &amp;&amp; newStartIdx &lt;= newEndIdx) {  // çœç•¥...}  * * * * * * * * è¿™ * * * * * *   if (oldEndIdx &lt; oldStartIdx) {      // æ·»åŠ æ–°èŠ‚ç‚¹      for (let i = newStartIdx; i &lt;= newEndIdx; i++) {        mount(nextChildren[i], container, false, oldStartVNode.el)      }   }</code></pre><h6 id="ç§»é™¤ä¸å­˜åœ¨çš„å…ƒç´ "><a href="#ç§»é™¤ä¸å­˜åœ¨çš„å…ƒç´ " class="headerlink" title="ç§»é™¤ä¸å­˜åœ¨çš„å…ƒç´ "></a>ç§»é™¤ä¸å­˜åœ¨çš„å…ƒç´ </h6><p>  <img src="/2020/01/17/2020/Vue-Diff/NO39.png" alt="NO39" title="NO39"> </p><p>  <strong>è‡ªç”±æ€è€ƒä¸€ä¸‹ï¼š</strong></p><pre><code></code></pre><p><img src="/2020/01/17/2020/Vue-Diff/NO41.png" alt="NO41" title="NO41"> </p><ul><li>â‘ ä¸­ patch äº† li-a</li></ul><p><strong>ä¸‹ä¸€æ­¥</strong><br><img src="/2020/01/17/2020/Vue-Diff/NO42.png" alt="NO42" title="NO42"> </p><ul><li>â‘¡ä¸­ patch äº† li-c<br><img src="/2020/01/17/2020/Vue-Diff/NO43.png" alt="NO43" title="NO43"> </li></ul><p><strong>ç»“æŸ</strong></p><p>æ¡ä»¶ newEndIndex &lt; newStartIndex äº†<br>æ‰€ä»¥ä»¥æ­¤æ¡ä»¶è¯´æ˜æœ‰å…ƒç´ è¢«ç§»é™¤äº†</p><pre><code>while (oldStartIdx &lt;= oldEndIdx &amp;&amp; newStartIdx &lt;= newEndIdx) {  // çœç•¥...}      if (oldEndIdx &lt; oldStartIdx) {      // æ·»åŠ æ–°èŠ‚ç‚¹      for (let i = newStartIdx; i &lt;= newEndIdx; i++) {        mount(nextChildren[i], container, false, oldStartVNode.el)      }} else if (newEndIdx &lt; newStartIdx) {      // ç§»é™¤æ“ä½œ      for (let i = oldStartIdx; i &lt;= oldEndIdx; i++) {        container.removeChild(prevChildren[i].el)      }  }</code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> è½¬è½½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSåŸå‹é“¾</title>
      <link href="/2019/12/15/2019/JS%E5%8E%9F%E5%9E%8B%E9%93%BE/"/>
      <url>/2019/12/15/2019/JS%E5%8E%9F%E5%9E%8B%E9%93%BE/</url>
      
        <content type="html"><![CDATA[<p>ğŸ‘‰ï¼š<a href="https://segmentfault.com/a/1190000021232132" target="_blank" rel="noopener">åŸæ–‡</a></p><h4 id="å›¾è§£"><a href="#å›¾è§£" class="headerlink" title="å›¾è§£"></a>å›¾è§£</h4><p><img src="/2019/12/15/2019/JSåŸå‹é“¾/NO1.png" alt="NO1" title="NO1"></p><h4 id="prototype"><a href="#prototype" class="headerlink" title="prototype"></a>prototype</h4><a id="more"></a><p>prototypeå±æ€§å¯ä»¥çœ‹æˆæ˜¯ä¸€å—ç‰¹æ®Šçš„å­˜å‚¨ç©ºé—´ï¼Œå­˜å‚¨äº†ä¾›â€œå¾’å¼Ÿâ€ã€â€œå¾’å­™â€ä»¬ä½¿ç”¨çš„æ–¹æ³•å’Œå±æ€§ã€‚</p><p><img src="/2019/12/15/2019/JSåŸå‹é“¾/NO2.png" alt="NO2" title="NO2"></p><h4 id="proto"><a href="#proto" class="headerlink" title="proto"></a><strong>proto</strong></h4><p><strong>proto</strong>å±æ€§ç›¸å½“äºé€šå¾€prototypeï¼ˆâ€œç…çŠç¦åœ°â€ï¼‰å”¯ä¸€çš„è·¯ï¼ˆæŒ‡é’ˆï¼‰<br>è®©â€œå¾’å¼Ÿâ€ã€â€œå¾’å­™â€ ä»¬æ‰¾åˆ°è‡ªå·±â€œå¸ˆçˆ¶â€ã€â€œå¸ˆçˆ¶çš„å¸ˆçˆ¶â€ æä¾›ç»™è‡ªå·±çš„æ–¹æ³•å’Œå±æ€§ã€‚</p><p><img src="/2019/12/15/2019/JSåŸå‹é“¾/NO3.png" alt="NO3" title="NO3"></p><h4 id="constructor-NaN"><a href="#constructor-NaN" class="headerlink" title="constructor"></a>constructor</h4><p>constructorå±æ€§æ˜¯è®©â€œå¾’å¼Ÿâ€ã€â€œå¾’å­™â€ ä»¬çŸ¥é“æ˜¯è°åˆ›é€ äº†è‡ªå·±ï¼Œè¿™é‡Œå¯ä¸æ˜¯â€œå¸ˆçˆ¶â€å•Šã€‚<br>è€Œæ˜¯è‡ªå·±çš„çˆ¶æ¯ï¼Œçˆ¶æ¯åˆ›é€ äº†è‡ªå·±ï¼Œçˆ¶æ¯åˆæ˜¯ç”±ä¸Šä¸€è¾ˆäººåˆ›é€ çš„ï¼Œâ€¦â€¦è¿½æº¯åˆ°å¤´å°±æ˜¯Function() </p><p><img src="/2019/12/15/2019/JSåŸå‹é“¾/NO4.png" alt="NO4" title="NO4"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScipt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¸©å‘eChartså‚æ•°</title>
      <link href="/2019/11/01/2019/%E8%B8%A9%E5%9D%91eCharts%E5%8F%82%E6%95%B0/"/>
      <url>/2019/11/01/2019/%E8%B8%A9%E5%9D%91eCharts%E5%8F%82%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<p><img src="/2019/11/01/2019/è¸©å‘eChartså‚æ•°/NO0.png" alt="NO0" title="NO0"></p><p>åœ¨echartsä¸­ï¼Œå½“å¯¹å…¶ä¸­çš„optionå‚æ•°æœ‰æ‰€ä½¿ç”¨çš„æ—¶å€™ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ç”¨äºåˆ¤æ–­æ˜¯å¦åˆå¹¶æ—§å‚æ•°æ•°æ®ã€‚<br>å¦‚æœä¸ºtrueï¼Œåˆ™å°†å®Œå…¨æ›¿ä»£ï¼Œè€Œä¸ä¼šåœ¨ç•Œé¢ä¸Šå‡ºç°â€œéƒ¨åˆ†æ›´æ–°â€çš„æ•ˆæœ<br>å¦‚æœä¸ºfalseï¼Œåˆ™æ˜¯è¿­ä»£è¿›å…¥æ–°å‚æ•°ï¼Œä¼šå‡ºç°å³ä½¿è®¾ç½®äº†æ–°æ•°æ®optionï¼Œè¿˜ä¼šä¿ç•™æœ‰ éƒ¨åˆ†æ—§æ•°æ®çš„æƒ…å†µã€‚</p><p>æå¾—æˆ‘æ•´äº†å¥½ä¸€ä¼šä¸çŸ¥é“ä¸ºå•¥æ•°æ®æ²¡å“åº”ï¼Œä¹Ÿæ˜¯è‡ªå·±è ¢ğŸ¤£</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¸©å‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>thisæŒ‡å‘</title>
      <link href="/2019/10/17/2019/this%E6%8C%87%E5%90%91/"/>
      <url>/2019/10/17/2019/this%E6%8C%87%E5%90%91/</url>
      
        <content type="html"><![CDATA[<h4 id="ä¸€å›¾è§£"><a href="#ä¸€å›¾è§£" class="headerlink" title="ä¸€å›¾è§£"></a>ä¸€å›¾è§£</h4><p><img src="/2019/10/17/2019/thisæŒ‡å‘/NO1.png" alt="NO1" title="NO1"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>canvasè¿›è¡Œå›¾åƒåƒç´ ç‚¹ç€è‰²</title>
      <link href="/2019/10/08/2019/canvas%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E5%83%8F%E7%B4%A0%E7%82%B9%E7%9D%80%E8%89%B2/"/>
      <url>/2019/10/08/2019/canvas%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E5%83%8F%E7%B4%A0%E7%82%B9%E7%9D%80%E8%89%B2/</url>
      
        <content type="html"><![CDATA[<h4 id="ä¸€ã€canvasçš„å¤„ç†å°æŠ€å·§"><a href="#ä¸€ã€canvasçš„å¤„ç†å°æŠ€å·§" class="headerlink" title="ä¸€ã€canvasçš„å¤„ç†å°æŠ€å·§"></a>ä¸€ã€canvasçš„å¤„ç†å°æŠ€å·§</h4><p>åœ¨ä¿éšœçš„ä¸šåŠ¡ç›‘æ§é‡Œï¼Œé‡åˆ°è¿™ä¹ˆä¸€ä¸ªéš¾é¢˜ï¼Œéœ€è¦åœ¨åœºé¦†ä¿éšœçš„åŒæ—¶ï¼Œå¯¹ç°åœºçš„é‡‡é›†çš„æŒ‡æ ‡è¿›è¡Œä¸åŒé—¨é™é¢„è­¦è¿›è¡Œé¢œè‰²åŒºåˆ†â€¦ï¼Œå¹¶ä¸”ç”»å‡ºæ¥</p><p>è¿™å¯â€¦<br><img src="/2019/10/08/2019/canvasè¿›è¡Œå›¾åƒåƒç´ ç‚¹ç€è‰²/NO0.png" alt="NO0" title="NO0"></p><p>UIç»™äº†å¦‚ä¸‹ä¸¤å¼ å›¾ç‰‡ï¼š</p><h6 id="å›¾ä¸€ï¼š"><a href="#å›¾ä¸€ï¼š" class="headerlink" title="å›¾ä¸€ï¼š"></a>å›¾ä¸€ï¼š</h6><p><img src="/2019/10/08/2019/canvasè¿›è¡Œå›¾åƒåƒç´ ç‚¹ç€è‰²/NO1.png" alt="NO1" title="NO1"><br><a id="more"></a></p><h6 id="å›¾äºŒï¼š"><a href="#å›¾äºŒï¼š" class="headerlink" title="å›¾äºŒï¼š"></a>å›¾äºŒï¼š</h6><p><img src="/2019/10/08/2019/canvasè¿›è¡Œå›¾åƒåƒç´ ç‚¹ç€è‰²/NO2.png" alt="NO2" title="NO2"><br>éœ€è¦å»åˆæˆå¦‚ä¸‹ç¬¬ä¸‰å¼ å®æ—¶æŒ‡æ ‡ç€è‰²å›¾ï¼š</p><h6 id="å›¾ä¸‰ï¼š"><a href="#å›¾ä¸‰ï¼š" class="headerlink" title="å›¾ä¸‰ï¼š"></a>å›¾ä¸‰ï¼š</h6><p><img src="/2019/10/08/2019/canvasè¿›è¡Œå›¾åƒåƒç´ ç‚¹ç€è‰²/NO3.png" alt="NO3" title="NO3"></p><p>é‚£ä¹ˆè¯¥å¦‚ä½•åšå‘¢ï¼Ÿ</p><p>æœ‰éœ€è¦éœ€è¦æ ¹æ®æ•°æ®çš„IDï¼Œå»åˆ¤æ–­ä¸åŒçš„æŒ‡æ ‡å€¼æ‰€å¸¦æ¥çš„é¢œè‰²ï¼Œå¦‚ä½•ç»™è¿™ä¹ˆä¸€ä¸ªæ¤­åœ†å½¢é™„ä¸Šé¢œè‰²å‘¢ï¼Ÿ</p><p>å’ŒUIå•†é‡ä¹‹åï¼Œç»™å‡ºäº†å›¾äºŒè¿™ä¹ˆä¸€ä¸ªå…³é”®ä¿¡æ¯ã€‚<br><strong>èƒ½çœ‹å‡ºæœ‰ä»€ä¹ˆå¥¥ç§˜å—?</strong></p><p>æˆ‘ä»¬å…ˆæ¥æ€è€ƒä¸€ä¸‹å¦‚ä½•åŒ¹é…ä¸Šå„ä¸ªIDï¼Œç”¨äºç»™æ¯ä¸ªåŒºå—é™„ä¸Šé¢œè‰²ã€‚</p><p>æˆ‘ä»¬æ‹¥æœ‰ä¸€æ‰¹æœ‰IDçš„æ•°æ® <strong>-&gt;</strong> éœ€è¦èƒ½è¯†åˆ«åˆ°å›¾ä¸Šæ‰€å¯¹åº”çš„ä½ç½® <strong>-&gt;</strong> ç›¸åº”ä½ç½®åº”è¯¥æœ‰èƒ½æ ‡è¯†çš„å…³é”®ä¿¡æ¯ <strong>-&gt;</strong> å¦‚ä½•ä¸ºå›¾ç‰‡æ‰“ä¸Šå…³é”®ä¿¡æ¯</p><p>å› æ­¤canvaså°±å‡ºåœºäº†ã€‚</p><p>canvasçš„å…³é”®å±æ€§æ–¹æ³•ï¼š<br><strong>getImageData()</strong> ï¼Œå¯ä»¥è¯†åˆ«åˆ°æŒ‡å®šèŒƒå›´çš„é¢œè‰²å€¼å‡ºæ¥ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å€Ÿç”¨è¿™ä¸ªå°±å¯ä»¥åšåˆ°</p><p>æ²¡é”™ï¼Œå›¾äºŒ æ˜¯UIåˆ†åˆ«å¯¹å„ä¸ªåŒºå—å¡«å……çš„æœ‰è§„å¾‹é¢œè‰²<br>åˆ†åˆ«åªå¯¹Rï¼ŒGï¼ŒBè¿›è¡Œäº†é¢œè‰²å¡«å……<br>ç”±å†…åˆ°å¤–ï¼Œå¯¹å›¾ä¸€çš„åº§ä½è¿›è¡Œäº†æ ‡å‡º<br>å†…åœˆä¸€äºŒå±‚åˆ†åˆ«ç”±R1æ’è‡³R64ï¼Œä¹Ÿå°±æ˜¯<br>rgba(1,0,0,1)ã€rgba(2,0,0,1)â€¦</p><p>å› æ­¤æˆ‘ä»¬åœ¨é€šè¿‡<br><strong>let imgData = ctx1.getImageData(0, 0, FDW, FDH);</strong></p><p>è¯»å–åˆ°çš„imgDataä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¯†åˆ«ç›¸åº”çš„Ræ•°ç»„ï¼ŒçŸ¥é“è¯¥ä½ç½®ç‚¹æ˜¯å“ªä¸ªIDå±æ€§çš„ï¼Œå¹¶ä¸”æ‰¾å¯»åˆ°ç›¸åº”IDçš„é¢œè‰²å€¼ï¼Œä¸ºè¯¥ç‚¹é™„ä¸Šï¼Œä¾æ¬¡ç±»æ¨ï¼Œå°±å¯ä»¥å»ºç«‹ä¸€ä¸ª<strong>é¢œè‰²-ID-å›¾ç‰‡</strong>çš„å…³ç³»å‡ºæ¥</p><pre><code>let r = imgData.data[i], g = imgData.data[i + 1], b = imgData.data[i + 2], a = imgData.data[i + 3];if(a !== 0 &amp;&amp; (r!==0 || g!== 0 || b!== 0)) {    DealColorData2(imgData, ObjData, r, g, b, a, i);}</code></pre><p><img src="/2019/10/08/2019/canvasè¿›è¡Œå›¾åƒåƒç´ ç‚¹ç€è‰²/GIF.gif" alt="NO4" title="NO4"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> canvas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€ä¸ªå¤±ç„¦æŒ‡ä»¤çš„å­¦ä¹ </title>
      <link href="/2019/09/26/2019/%E4%B8%80%E4%B8%AA%E5%A4%B1%E7%84%A6%E6%8C%87%E4%BB%A4%E7%9A%84%E5%AD%A6%E4%B9%A0/"/>
      <url>/2019/09/26/2019/%E4%B8%80%E4%B8%AA%E5%A4%B1%E7%84%A6%E6%8C%87%E4%BB%A4%E7%9A%84%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<h4 id="å‰æƒ…"><a href="#å‰æƒ…" class="headerlink" title="å‰æƒ…"></a>å‰æƒ…</h4><p>å‰æƒ…ï¼Œå±±è¥¿é¡¹ç›®ä¸­ç”±äºé€‰æ‹©ç­‰æ¡ä»¶å¢å¤šï¼Œäºæ˜¯æŠ½ç¦»å‡ºæ¥ä¸€ä¸ªç®€å•çš„å•é€‰å¤šé€‰ç»„ä»¶ã€‚æ ·å¼çš„è¯ï¼Œæ™®é€šæäº†ï¼Œä¹Ÿæ²¡ä¸å®Œå…¨æŒ‰ç…§æœ€åˆUIç»™çš„è®¾ç½®ç¨¿ã€‚å½“ç„¶è¿™æ˜¯å¦å¤–çš„è¯ã€‚<br>é‡åˆ°çš„å…¶ä¸­ä¸€ä¸ªé—®é¢˜å°±æ˜¯:<br>æˆ‘å¸Œæœ›å¯ä»¥æœ‰å¤±ç„¦æ—¶å¾—å›å¼¹ï¼Œé¦–å…ˆå°±æ˜¯æˆ‘æƒ³åˆ°å¾—æ˜¯åˆ©ç”¨æŒ‡ä»¤è¿›è¡Œåˆå§‹åŠ è½½æ—¶å€™å¯¹å„ç»„ä»¶å®ä¾‹ç»‘å®šä¸Šè¿™ä¹ˆä¸ªäº‹ä»¶é€»è¾‘ã€‚<br>äºæ˜¯æˆ‘å†™ä¸‹äº†è¿™ä¹ˆä¸€ä¸²ä»£ç ï¼š<br><a id="more"></a></p><pre><code>bind: (el, event, vM) =&gt; {    let _that = vM.context;    const aimdomArr = [&#39;Moretext_&#39;, &#39;MoreTextcontent_&#39;, &#39;MoreTextTriDown_&#39;, &#39;MoreTextTriUp_&#39;, &#39;MoreSelcontent_&#39;,        &#39;MoreSelUnit_&#39;, &#39;SelUnitIcon_ SelUnitUnCho&#39;, &#39;SelUnitText&#39;, &#39;SelUnitIcon_ SelUnitCho&#39;,        &#39;Singletext_&#39;, &#39;SingleTextcontent_&#39;, &#39;SingleTextTriDown_&#39;, &#39;SingleTextTriUp_&#39;, &#39;SingleSelcontent_&#39;,         &#39;SingleSelUnit_&#39;    ]    document.body.onclick = ((e) =&gt; {        let TARGETName = e.target.className;        let judgeclick = aimdomArr.indexOf(TARGETName);        if(judgeclick === -1) {            _that.isclickMore = false;            _that.isclickSingle = false;        }    }); }</code></pre><p>æˆ‘å¾—åˆè¡·æ˜¯è®°å½•ä¸‹ç»„ä»¶å¾—thisï¼Œç„¶ååœ¨ç›‘å¬å‘ç”Ÿåœ¨bodyä¸Šå¾—ç‚¹å‡»äº‹ä»¶ï¼Œå¦‚è‹¥ä¸æ˜¯å‘ç”Ÿåœ¨ç›¸å…³å¾—classç±»ä¸Šå¾—ï¼Œåˆ™å¯ä»¥è¿›è¡Œåˆ¤æ–­åˆ°ã€‚<br>ä½†æ˜¯ï¼Œå®é™…ä¸Šç»‘å®šå¾—thisï¼ˆ_thatï¼‰å¹¶ä¸ä¼šä¸€ç›´æ˜¯æ­£ç¡®å¾—é‚£ä¸ªï¼Œåœ¨bingå¾—å¤–å±‚å¹¶æ²¡æœ‰å“åº”å¾—ä½œç”¨åŸŸï¼Œæˆ‘ä»¬æ‰“å°ä¸€ä¸‹_tahtæ˜¯ä»€ä¹ˆã€‚</p><p><img src="/2019/09/26/2019/ä¸€ä¸ªå¤±ç„¦æŒ‡ä»¤çš„å­¦ä¹ /NO1.png" alt="NO1" title="NO1"></p><p>ä»¥åŠè§¦å‘äº‹ä»¶æ—¶å¾—that</p><p><img src="/2019/09/26/2019/ä¸€ä¸ªå¤±ç„¦æŒ‡ä»¤çš„å­¦ä¹ /NO2.png" alt="NO2" title="NO2"></p><p>éƒ½åœ¨æ¯ä¸€æ¬¡ç»„ä»¶å®ä¾‹ç»‘å®šæ—¶æŠŠ_thatä¸æ–­åˆ·æ–°æˆæœ€æ–°å¾—é‚£ä¸ªäº†<br>é‚£è¿™æ—¶å€™åº”è¯¥æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ<br>ï¼ˆä»€ä¹ˆ, å¤§å£°ğŸ”ˆï¼‰<br>é—­åŒ…ã€‚</p><p>åœ¨åæ¥æˆ‘æƒ³åˆ°å¯ä»¥çœ‹çœ‹elementæ˜¯å¦‚ä½•å®ç°ç›¸å…³é€»è¾‘å¾—å‘¢ï¼Ÿäºæ˜¯å°±æ‰¾ä¸€æ‰¾elementå¯¹äºel-selectçš„å°è£…ã€‚<br><em>element-dev\packages\select\index.js</em><br>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°</p><pre><code>&lt;div class=&quot;el-select&quot; :class=&quot;[selectSize ? &#39;el-select--&#39; + selectSize : &#39;&#39;]&quot;    @click.stop=&quot;toggleMenu&quot;    v-clickoutside=&quot;handleClose&quot;&gt;</code></pre><p>ä¹Ÿä»¥æŒ‡ä»¤å¾—å½¢å¼ <strong>clickoutside</strong>å¯¹è¿™ä¸ªé€»è¾‘è¿›è¡Œå°è£…ä»¥å¤‡å¤ç”¨<br><em>element-dev\src\utils\clickoutside.js</em></p><pre><code>bind(el, binding, vnode) {    nodeList.push(el);    const id = seed++;    el[ctx] = {      id,      documentHandler: createDocumentHandler(el, binding, vnode),      methodName: binding.expression,      bindingFn: binding.value    };},nodeList.forEach(node =&gt; node[ctx].documentHandler(e, startClick));if (binding.expression &amp;&amp; el[ctx].methodName &amp;&amp; vnode.context[el[ctx].methodName]) {     vnode.context[el[ctx].methodName](); } else {    el[ctx].bindingFn &amp;&amp; el[ctx].bindingFn();}</code></pre><p><img src="/2019/09/26/2019/ä¸€ä¸ªå¤±ç„¦æŒ‡ä»¤çš„å­¦ä¹ /NO3.png" alt="NO3" title="NO3"><br><img src="/2019/09/26/2019/ä¸€ä¸ªå¤±ç„¦æŒ‡ä»¤çš„å­¦ä¹ /GIF.gif" alt="GIF" title="GIF"></p><h4 id="VueæŒ‡ä»¤çš„ç¼–å†™"><a href="#VueæŒ‡ä»¤çš„ç¼–å†™" class="headerlink" title="VueæŒ‡ä»¤çš„ç¼–å†™"></a>VueæŒ‡ä»¤çš„ç¼–å†™</h4><p>æˆ‘ä»¬é¡ºä¾¿å›é¡¾ä¸€ä¸‹å¯¹äºVueæŒ‡ä»¤çš„æŒ‡å¯¼å§ã€‚</p><h5 id="æ³¨å†Œå…¨å±€æŒ‡ä»¤"><a href="#æ³¨å†Œå…¨å±€æŒ‡ä»¤" class="headerlink" title="æ³¨å†Œå…¨å±€æŒ‡ä»¤"></a>æ³¨å†Œå…¨å±€æŒ‡ä»¤</h5><pre><code>Vue.directive(&#39;focus&#39;, {  // å½“è¢«ç»‘å®šçš„å…ƒç´ æ’å…¥åˆ° DOM ä¸­æ—¶â€¦â€¦  inserted: function (el) {    // èšç„¦å…ƒç´     el.focus()  }})</code></pre><h5 id="æ³¨å†Œå±€éƒ¨æŒ‡ä»¤"><a href="#æ³¨å†Œå±€éƒ¨æŒ‡ä»¤" class="headerlink" title="æ³¨å†Œå±€éƒ¨æŒ‡ä»¤"></a>æ³¨å†Œå±€éƒ¨æŒ‡ä»¤</h5><pre><code>directives: {  focus: {    // æŒ‡ä»¤çš„å®šä¹‰    inserted: function (el) {      el.focus()    }  }}</code></pre><h5 id="æŒ‡ä»¤æ¥æ”¶çš„é’©å­å‡½æ•°"><a href="#æŒ‡ä»¤æ¥æ”¶çš„é’©å­å‡½æ•°" class="headerlink" title="æŒ‡ä»¤æ¥æ”¶çš„é’©å­å‡½æ•°"></a>æŒ‡ä»¤æ¥æ”¶çš„é’©å­å‡½æ•°</h5><p>ä¸€ä¸ªæŒ‡ä»¤å®šä¹‰å¯¹è±¡å¯ä»¥æä¾›å¦‚ä¸‹å‡ ä¸ªé’©å­å‡½æ•° (å‡ä¸ºå¯é€‰)ï¼š</p><ul><li>bindï¼šåªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶è°ƒç”¨ã€‚åœ¨è¿™é‡Œå¯ä»¥è¿›è¡Œä¸€æ¬¡æ€§çš„åˆå§‹åŒ–è®¾ç½®ã€‚</li><li>insertedï¼šè¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ (ä»…ä¿è¯çˆ¶èŠ‚ç‚¹å­˜åœ¨ï¼Œä½†ä¸ä¸€å®šå·²è¢«æ’å…¥æ–‡æ¡£ä¸­)ã€‚</li><li>updateï¼šæ‰€åœ¨ç»„ä»¶çš„ VNode æ›´æ–°æ—¶è°ƒç”¨ï¼Œä½†æ˜¯å¯èƒ½å‘ç”Ÿåœ¨å…¶å­ VNode æ›´æ–°ä¹‹å‰ã€‚æŒ‡ä»¤çš„å€¼å¯èƒ½å‘ç”Ÿäº†æ”¹å˜ï¼Œä¹Ÿå¯èƒ½æ²¡æœ‰ã€‚ä½†æ˜¯ä½ å¯ä»¥é€šè¿‡æ¯”è¾ƒæ›´æ–°å‰åçš„å€¼æ¥å¿½ç•¥ä¸å¿…è¦çš„æ¨¡æ¿æ›´æ–° (è¯¦ç»†çš„é’©å­å‡½æ•°å‚æ•°è§ä¸‹)ã€‚</li><li>componentUpdatedï¼šæŒ‡ä»¤æ‰€åœ¨ç»„ä»¶çš„ VNode åŠå…¶å­ VNode å…¨éƒ¨æ›´æ–°åè°ƒç”¨ã€‚</li><li>unbindï¼šåªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘æ—¶è°ƒç”¨ã€‚</li></ul><h5 id="é’©å­å‡½æ•°æ¥æ”¶çš„å‚æ•°"><a href="#é’©å­å‡½æ•°æ¥æ”¶çš„å‚æ•°" class="headerlink" title="é’©å­å‡½æ•°æ¥æ”¶çš„å‚æ•°"></a>é’©å­å‡½æ•°æ¥æ”¶çš„å‚æ•°</h5><ul><li>elï¼šæŒ‡ä»¤æ‰€ç»‘å®šçš„å…ƒç´ ï¼Œå¯ä»¥ç”¨æ¥ç›´æ¥æ“ä½œ DOMã€‚</li><li>bindingï¼šä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä»¥ä¸‹ property:<pre><code>  nameï¼šæŒ‡ä»¤åï¼Œä¸åŒ…æ‹¬ v- å‰ç¼€ã€‚  valueï¼šæŒ‡ä»¤çš„ç»‘å®šå€¼ï¼Œä¾‹å¦‚ï¼šv-my-directive=&quot;1 + 1&quot; ä¸­ï¼Œç»‘å®šå€¼ä¸º 2ã€‚  oldValueï¼šæŒ‡ä»¤ç»‘å®šçš„å‰ä¸€ä¸ªå€¼ï¼Œä»…åœ¨ update å’Œ componentUpdated é’©å­ä¸­å¯ç”¨ã€‚æ— è®ºå€¼æ˜¯å¦æ”¹å˜éƒ½å¯ç”¨ã€‚  expressionï¼šå­—ç¬¦ä¸²å½¢å¼çš„æŒ‡ä»¤è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ v-my-directive=&quot;1 + 1&quot; ä¸­ï¼Œè¡¨è¾¾å¼ä¸º &quot;1 + 1&quot;ã€‚  argï¼šä¼ ç»™æŒ‡ä»¤çš„å‚æ•°ï¼Œå¯é€‰ã€‚ä¾‹å¦‚ v-my-directive:foo ä¸­ï¼Œå‚æ•°ä¸º &quot;foo&quot;ã€‚  modifiersï¼šä¸€ä¸ªåŒ…å«ä¿®é¥°ç¬¦çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼šv-my-directive.foo.bar ä¸­ï¼Œä¿®é¥°ç¬¦å¯¹è±¡ä¸º { foo: true, bar: true }ã€‚  vnodeï¼šVue ç¼–è¯‘ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹ã€‚ç§»æ­¥ VNode API æ¥äº†è§£æ›´å¤šè¯¦æƒ…ã€‚  oldVnodeï¼šä¸Šä¸€ä¸ªè™šæ‹ŸèŠ‚ç‚¹ï¼Œä»…åœ¨ update å’Œ componentUpdated é’©å­ä¸­å¯ç”¨ã€‚</code></pre></li></ul><p><strong>ä¸¾ä¾‹è¯´æ˜</strong></p><pre><code>&lt;div id=&quot;hook-arguments-example&quot; v-demo:foo.a.b=&quot;message&quot;&gt;&lt;/div&gt;</code></pre><pre><code>Vue.directive(&#39;demo&#39;, {  bind: function (el, binding, vnode) {    var s = JSON.stringify    el.innerHTML =      &#39;name: &#39;       + s(binding.name) + &#39;&lt;br&gt;&#39; +  // demo      &#39;value: &#39;      + s(binding.value) + &#39;&lt;br&gt;&#39; + // messageçš„å€¼      &#39;expression: &#39; + s(binding.expression) + &#39;&lt;br&gt;&#39; + // è¡¨è¾¾å¼ï¼Œå³message      &#39;argument: &#39;   + s(binding.arg) + &#39;&lt;br&gt;&#39; + // æŒ‡ä»¤çš„ä¼ å‚ï¼Œå³foo      &#39;modifiers: &#39;  + s(binding.modifiers) + &#39;&lt;br&gt;&#39; // ä¿®é¥°å¯¹è±¡ï¼Œå³a: true, b: true  }})</code></pre><p>å½“ç„¶ï¼Œå¦‚æœæœ‰éœ€è¦è‡ªå®šä¹‰ä¼ å‚ï¼Œfooä¹Ÿæ˜¯å¯ä»¥ä¿®æ”¹ä¸ºåŠ¨æ€å‚æ•°çš„ã€‚</p><h6 id="åŠ¨æ€å‚æ•°"><a href="#åŠ¨æ€å‚æ•°" class="headerlink" title="åŠ¨æ€å‚æ•°"></a>åŠ¨æ€å‚æ•°</h6><pre><code>v-mydirective:[argument]=&quot;value&quot;</code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Element </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¯•ä¸šäº†</title>
      <link href="/2019/06/27/2019/%E6%AF%95%E4%B8%9A%E4%BA%86/"/>
      <url>/2019/06/27/2019/%E6%AF%95%E4%B8%9A%E4%BA%86/</url>
      
        <content type="html"><![CDATA[<h5 id="æ¯•ä¸šäº†"><a href="#æ¯•ä¸šäº†" class="headerlink" title="æ¯•ä¸šäº†"></a>æ¯•ä¸šäº†</h5><p>è¯¸å¤šä¸èˆï¼Œå­¦ç”Ÿæ—¶ä»£å¤šå¥½ğŸ˜”</p>]]></content>
      
      
      <categories>
          
          <category> è¯»ä¹¦Vç”Ÿæ´» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ—¥å¸¸ç¢ç¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flexå¸ƒå±€çš„åŸºæœ¬å±æ€§ä»‹ç»</title>
      <link href="/2019/05/13/2019/Flex%E5%B8%83%E5%B1%80%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%B1%9E%E6%80%A7%E4%BB%8B%E7%BB%8D/"/>
      <url>/2019/05/13/2019/Flex%E5%B8%83%E5%B1%80%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%B1%9E%E6%80%A7%E4%BB%8B%E7%BB%8D/</url>
      
        <content type="html"><![CDATA[<h4 id="flexçš„å¸ƒå±€å®šä¹‰ï¼š"><a href="#flexçš„å¸ƒå±€å®šä¹‰ï¼š" class="headerlink" title="flexçš„å¸ƒå±€å®šä¹‰ï¼š"></a>flexçš„å¸ƒå±€å®šä¹‰ï¼š</h4><ul><li>displayï¼š flexï¼›</li></ul><p>æœ‰æ‰€åŒºåˆ†å‡ºï¼Œä¸»è½´ï¼ˆmain-axisï¼‰ä¸äº¤å‰è½´(cross-axis)</p><p><img src="/2019/05/13/2019/Flexå¸ƒå±€çš„åŸºæœ¬å±æ€§ä»‹ç»/bg2015071004.png" alt="1" title="1"></p><a id="more"></a><h4 id="å®¹å™¨ï¼ˆçˆ¶å…ƒç´ ï¼‰æœ‰ä»¥ä¸‹å…­ä¸ªå±æ€§"><a href="#å®¹å™¨ï¼ˆçˆ¶å…ƒç´ ï¼‰æœ‰ä»¥ä¸‹å…­ä¸ªå±æ€§" class="headerlink" title="å®¹å™¨ï¼ˆçˆ¶å…ƒç´ ï¼‰æœ‰ä»¥ä¸‹å…­ä¸ªå±æ€§"></a>å®¹å™¨ï¼ˆçˆ¶å…ƒç´ ï¼‰æœ‰ä»¥ä¸‹å…­ä¸ªå±æ€§</h4><h5 id="flex-direction"><a href="#flex-direction" class="headerlink" title="flex-direction"></a>flex-direction</h5><p>ï¼ˆrow/row-reverse/column/column-reverseï¼‰</p><ul><li>row : ä¸»è½´æ°´å¹³ï¼Œèµ·ç‚¹å·¦ç«¯</li><li>row-reverse : ä¸»è½´æ°´å¹³ï¼Œèµ·ç‚¹å³ç«¯</li><li>column : ä¸»è½´å‚ç›´ï¼Œèµ·ç‚¹ä¸Šç«¯</li><li>column-reverse : ä¸»è½´å‚ç›´ï¼Œèµ·ç‚¹ä¸‹ç«¯</li></ul><p><img src="/2019/05/13/2019/Flexå¸ƒå±€çš„åŸºæœ¬å±æ€§ä»‹ç»/bg2015071005.png" alt="2" title="2"></p><h5 id="flex-wrap"><a href="#flex-wrap" class="headerlink" title="flex-wrap"></a>flex-wrap</h5><p>(nowrap/wrap/wrap-reverse)</p><ul><li>wrap : å½“ä¸»è½´æ’åˆ—ä¸ä¸‹æ—¶ï¼Œæ¢è¡Œ</li><li>nowrap : ä¸æ¢è¡Œ</li><li>wrap-reverse : æ¢è¡Œï¼Œä½†è½¬å‘çš„</li></ul><h5 id="flex-flow"><a href="#flex-flow" class="headerlink" title="flex-flow"></a>flex-flow</h5><p>(flex-flowæ˜¯flex-directionä¸flex-wrapçš„ç®€å†™å½¢å¼)</p><h5 id="justify-content"><a href="#justify-content" class="headerlink" title="justify-content"></a>justify-content</h5><p>ï¼š å®šä¹‰äº†é¡¹ç›®åœ¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼<br>(flex-start/ flex-end/ center/ space-between/ space-around)</p><ul><li>flex-start : ä¸»è½´å¼€å§‹æ–¹å‘å¯¹é½</li><li>flex-end : ä¸»è½´ç»“æŸæ–¹å‘å¯¹é½</li><li>center : ä¸»è½´æ–¹å‘å±…ä¸­</li><li>space-between : ä¸¤ç«¯å¯¹é½ï¼Œé¡¹ç›®é—´éš™ç›¸ç­‰</li><li>space-around : é¡¹ç›®ä¸¤ä¾§é—´éš”ç›¸ç­‰ï¼Œé—´éš”æ˜¯ä¸è¾¹æ¡†çš„ä¸¤å€</li></ul><p><img src="/2019/05/13/2019/Flexå¸ƒå±€çš„åŸºæœ¬å±æ€§ä»‹ç»/bg2015071010.png" alt="3" title="3"></p><h5 id="align-items"><a href="#align-items" class="headerlink" title="align-items"></a>align-items</h5><p>ï¼šå®šä¹‰äº† <strong>æ¯è¡Œ</strong> é¡¹ç›®çš„åœ¨ä¾§è½´æ–¹å‘ä¸Šçš„å¯¹é½æ–¹å¼</p><ul><li>flex-start : ä¾§è½´å¼€å§‹æ–¹å‘å¯¹é½</li><li>flex-end : ä¾§è½´ç»“æŸæ–¹å‘å¯¹é½</li><li>center ï¼š ä¾§è½´å±…ä¸­å¯¹é½</li><li>baseline ï¼šé¡¹ç›®æ¯ä¸€è¡Œæ–‡å­—çš„å‡ çº¿å¯¹é½</li><li>stretch : é¡¹ç›®é«˜åº¦ä¸ºautoæ—¶ï¼Œå æ»¡æ•´ä¸ªå®¹å™¨</li></ul><p><img src="/2019/05/13/2019/Flexå¸ƒå±€çš„åŸºæœ¬å±æ€§ä»‹ç»/bg2015071011.png" alt="4" title="4"></p><h5 id="align-content"><a href="#align-content" class="headerlink" title="align-content"></a>align-content</h5><p>ï¼š å®šä¹‰äº†å®¹å™¨åœ¨ä¾§è½´æ–¹å‘ä¸Šæœ‰é¢å¤–ç©ºé—´æ—¶ï¼Œå¦‚ä½•æ’å¸ƒæ¯ä¸€è¡Œ</p><ul><li>felx-start : ä¾§è½´å¼€å§‹æ–¹å‘å¯¹é½</li><li>felx-end : ä¾§è½´ç»“æŸæ–¹å‘å¯¹é½</li><li>center : ä¾§è½´ä¸­å¿ƒå¯¹é½</li><li>space-between ï¼š ä¸ä¾§è½´ä¸¤ç«¯å¯¹é½ï¼Œæ¯è¡Œè½´çº¿é—´éš”å¹³å‡</li><li>space-around : æ¯æ ¹è½´çº¿ä¸¤ä¾§é—´éš”ç›¸ç­‰</li><li>stretch : å æ»¡æ•´ä¸ªä¾§è½´</li></ul><p><img src="/2019/05/13/2019/Flexå¸ƒå±€çš„åŸºæœ¬å±æ€§ä»‹ç»/bg2015071012.png" alt="5" title="5"></p><h4 id="é¡¹ç›®ï¼ˆå­å…ƒç´ ï¼‰æœ‰ä»¥ä¸‹å…­ä¸ªå±æ€§"><a href="#é¡¹ç›®ï¼ˆå­å…ƒç´ ï¼‰æœ‰ä»¥ä¸‹å…­ä¸ªå±æ€§" class="headerlink" title="é¡¹ç›®ï¼ˆå­å…ƒç´ ï¼‰æœ‰ä»¥ä¸‹å…­ä¸ªå±æ€§"></a>é¡¹ç›®ï¼ˆå­å…ƒç´ ï¼‰æœ‰ä»¥ä¸‹å…­ä¸ªå±æ€§</h4><h5 id="order"><a href="#order" class="headerlink" title="order"></a>order</h5><p>ï¼šå®šä¹‰äº†é¡¹ç›®çš„æ’åˆ—é¡ºåºï¼Œæ•°å€¼è¶Šå°æ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º0</p><p><img src="/2019/05/13/2019/Flexå¸ƒå±€çš„åŸºæœ¬å±æ€§ä»‹ç»/bg2015071013.png" alt="6" title="6"></p><h5 id="flex-grow"><a href="#flex-grow" class="headerlink" title="flex-grow"></a>flex-grow</h5><p>ï¼šå®šä¹‰äº†å±æ€§é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼›<br>é»˜è®¤ä¸º0ï¼Œå³ä½¿æœ‰å‰©ä½™ç©ºé—´ï¼Œä¹Ÿä¸æ”¾å¤§ï¼›<br>å¦‚æœæ‰€æœ‰éƒ½ä¸º1ï¼Œä»–ä»¬å°†ç­‰åˆ†å‰©ä½™ç©ºé—´ï¼›<br>å¦‚æœæœ‰ä¸€ä¸ªä¸º2ï¼Œå…¶ä»–ä¸º1æ—¶ï¼Œå‰è€…å æ®åè€…ä¸¤å€çš„é¡¹ç›®ç©ºé—´ï¼›</p><h5 id="flex-shrink"><a href="#flex-shrink" class="headerlink" title="flex-shrink"></a>flex-shrink</h5><p>ï¼šå®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œè‹¥é¡¹ç›®ç©ºé—´ä¸è¶³æ—¶ï¼Œé¡¹ç›®å°†ç¼©å°<br>å¦‚æœæ‰€æœ‰éƒ½ä¸º1ï¼Œç©ºé—´ä¸è¶³æ—¶ï¼Œéƒ½å°†ç­‰æ¯”ä¾‹ç¼©å°ï¼›<br>å¦‚æœæœ‰ä¸€ä¸ªä¸º0ï¼Œå…¶ä»–ä¸º1æ—¶ï¼Œå‰è€…ç©ºé—´ä¸ç¼©å°ï¼Œåè€…ç­‰æ¯”ä¾‹å‡åˆ†ç¼©å°</p><p><img src="/2019/05/13/2019/Flexå¸ƒå±€çš„åŸºæœ¬å±æ€§ä»‹ç»/bg2015071015.jpg" alt="7" title="7"></p><h5 id="flex-basis"><a href="#flex-basis" class="headerlink" title="flex-basis"></a>flex-basis</h5><p>ï¼šå®šä¹‰äº†åœ¨åˆ†é…å¤šä½™ç©ºé—´ï¼›åœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®æ‰€å æ®çš„ä¸»è½´ç©ºé—´ï¼Œæ ¹æ®è¿™ä¸ªå±æ€§ï¼Œè®¡ç®—ä¸»è½´æ˜¯å¦è¿˜æœ‰å¤šä½™ç©ºé—´<br>å¯ä»¥å®šä¹‰å’Œwidthå’Œheightå±æ€§ä¸€æ ·çš„å€¼ã€‚</p><h5 id="flex"><a href="#flex" class="headerlink" title="flex"></a>flex</h5><p>ï¼šflexæ˜¯flex-growã€flex-shrinkã€flex-basisçš„ç¼©å†™</p><h5 id="align-self"><a href="#align-self" class="headerlink" title="align-self"></a>align-self</h5><p>ï¼šå®šä¹‰å…è®¸å•ä¸ªé¡¹ç›®ä¸å…¶ä»–é¡¹ç›®æœ‰ä¸ä¸€æ ·çš„ä¾§è½´å¯¹é½æ–¹å¼ï¼Œå¯è¦†ç›–align-item</p><p><img src="/2019/05/13/2019/Flexå¸ƒå±€çš„åŸºæœ¬å±æ€§ä»‹ç»/bg2015071016.png" alt="8" title="8"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> å¸ƒå±€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gulpæºç åˆ†æå­¦ä¹ (ä¸‰</title>
      <link href="/2019/04/09/2019/Gulp%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E5%AD%A6%E4%B9%A0-%E4%B8%89/"/>
      <url>/2019/04/09/2019/Gulp%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E5%AD%A6%E4%B9%A0-%E4%B8%89/</url>
      
        <content type="html"><![CDATA[<h1 id="vinyl-fséƒ¨åˆ†"><a href="#vinyl-fséƒ¨åˆ†" class="headerlink" title="vinyl-fséƒ¨åˆ†"></a>vinyl-fséƒ¨åˆ†</h1><p>å½“æˆ‘ä»¬è¿›å…¥vinyl-fsçš„æ ¹ç›®å½•index.jsä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°vinyl-fsæ‰€å®ç°çš„srcã€destæ¥å£æ˜¯è¢«åˆ†å±äºäº†å‡ ä¸ªå¤–éƒ¨æ¨¡å— =&gt; </p><pre><code>&#39;use strict&#39;;// è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å„è‡ªæ‰€å±çš„æ–‡ä»¶module.exports = {  // æ–‡ä»¶çš„å¤„ç†ä¸Š  src: require(&#39;./lib/src&#39;),  dest: require(&#39;./lib/dest&#39;),  symlink: require(&#39;./lib/symlink&#39;),};</code></pre><h2 id="ä¸€ã€glob"><a href="#ä¸€ã€glob" class="headerlink" title="ä¸€ã€glob"></a>ä¸€ã€glob</h2><p>åœ¨è¿›å…¥ç›¸åº”çš„æ¨¡å—æ–¹æ³•åˆ†æä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ä»€ä¹ˆæ˜¯globï¼›</p><p>nodeçš„globæ˜¯æŒ‡å…è®¸ä½ ä½¿ç”¨ä¸€äº›æ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨äºåŒ¹é…å¯¹åº”è§„åˆ™çš„æ–‡ä»¶ï¼Œ</p><a id="more"></a><p>ç±»ä¼¼äºæˆ‘ä»¬é€šå¸¸åœ¨gulpæ‰“åŒ…é…ç½®ä¸­æ‰€å†™çš„ä¸€æ ·ï¼š</p><pre><code>gulp.src([&#39;./lib/images/*&#39;, &#39;./lib/images/*/*&#39;])</code></pre><p>è€Œè¿™å…¶ä¸­å³æ˜¯æˆ‘ä»¬çš„globæ¨¡å¼ï¼Œä¹Ÿæ˜¯å¦‚æ­¤æˆ‘ä»¬å¯ä»¥åŒ¹é…æˆ‘ä»¬ç›¸åº”çš„ä¼ å…¥æ–‡ä»¶ã€‚</p><p><strong>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é™†ç»­çš„æ¥çœ‹ä¸€ä¸‹</strong>src<strong> ã€ </strong>dest<strong> çš„å…·ä½“å®ç°ã€‚</strong></p><h2 id="äºŒã€src"><a href="#äºŒã€src" class="headerlink" title="äºŒã€src"></a>äºŒã€src</h2><p>æˆ‘ä»¬è¿›å…¥ ./lib/src/index.js ä¸­æŸ¥çœ‹ç›¸åº”çš„å…¥å£æ–‡ä»¶</p><pre><code>&#39;use strict&#39;;var gs = require(&#39;glob-stream&#39;);// ç»“åˆæµçš„é˜µåˆ—æˆä½¿ç”¨å•ä¸ªåŒå·¥æµæ³µå’Œduplexify// å¦‚æœå…¶ä¸­ä¸€ä¸ªæµå…³é—­/é”™è¯¯ï¼Œç®¡é“ä¸­çš„æ‰€æœ‰æµéƒ½å°†è¢«é”€æ¯ã€‚var pumpify = require(&#39;pumpify&#39;);// åœ¨transformStreamä¸­åŒ…è£…ReadableStreamvar toThrough = require(&#39;to-through&#39;);var isValidGlob = require(&#39;is-valid-glob&#39;);var createResolver = require(&#39;resolve-options&#39;);// ä»¥ä¸‹å„å¯¼å…¥æ¨¡å—å¯ä»¥è¿›å…¥ç›¸åº”æ–‡ä»¶ä¸­æŸ¥çœ‹æ³¨é‡Šåˆ†ævar config = require(&#39;./options&#39;);var prepare = require(&#39;./prepare&#39;);var wrapVinyl = require(&#39;./wrap-vinyl&#39;);var sourcemap = require(&#39;./sourcemap&#39;);var readContents = require(&#39;./read-contents&#39;);var resolveSymlinks = require(&#39;./resolve-symlinks&#39;);function src(glob, opt) {  // æ­¤å¤„è¿›è¡Œé»˜è®¤çš„é…ç½®ä¸ä¼ å…¥çš„é…ç½®è¿›è¡Œè§£æé…ç½®ï¼Œè¯¦æƒ…å¯è§vintl-fs-Test\createResolverTest.js  // ç±»ä¼¼åˆå¹¶é»˜è®¤é…ç½®é¡¹ä¸ç”¨æˆ·ä¼ å…¥é…ç½®é¡¹  var optResolver = createResolver(config, opt);  // åˆ¤æ–­æ˜¯å¦æœ‰æ•ˆçš„glob(ç®€åŒ–çš„æ­£åˆ™è¡¨è¾¾å¼)  if (!isValidGlob(glob)) {    throw new Error(&#39;Invalid glob argument: &#39; + glob);  }  var streams = [    // ä½¿ç”¨äº†glob-streamæ¨¡å—ï¼Œä¼ å…¥ä¸€ä¸ª(ç®€åŒ–çš„æ­£åˆ™è¡¨è¾¾å¼)åšä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œoptå¯¹è±¡ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼Œ    // è¿”å›åˆ›å»ºglobæµ    gs(glob, opt),    // ä¼ å…¥ä¸Šè¿°çš„è§£æé…ç½®ï¼Œåˆ›å»ºä¸€ä¸ªvinlyæ–‡ä»¶å¯¹è±¡    wrapVinyl(optResolver),    // globçš„statä¸ºsymlinkçš„æƒ…å†µä¸‹ï¼Œè½¬ä¸ºç¡¬é“¾æ¥    resolveSymlinks(optResolver),    // è¿›è¡Œæ–‡ä»¶statä»¥åŠä¸optResolveré…ç½®é€‰é¡¹ä¸Šè¿›è¡Œæ—¶é—´çš„æ¯”è¾ƒ    prepare(optResolver),    // å¯¹æµè¿›è¡Œæ“ä½œï¼Œè·å–æ–‡ä»¶å†…å®¹ï¼Œå†™å…¥file.contentå±æ€§    // é¢„è®¾ä¸ºBufferæ˜¯é€šè¿‡readBufferè·å–    // å¦åˆ™åˆ™é€šè¿‡readStreamè·å–    readContents(optResolver),    // å¯¹æ–‡ä»¶çš„æ˜ å°„ï¼Œæ˜¯å¦å¼€å¯ sourcemap    sourcemap(optResolver),    /*    ä¸€æ­¥æ­¥çš„åŠ å·¥æˆstreams    ä¼ äºpumpify    */  ];  var outputStream = pumpify.obj(streams);  // è¿”å›outputStreamä½œä¸ºå‚æ•°çš„toThroughæµ  return toThrough(outputStream);}module.exports = src;</code></pre><p>è‡³æ­¤ï¼Œç®€å•çš„å°†å³æ˜¯æˆ‘ä»¬çš„gulp.srcä¾¿æ˜¯ä½¿ç”¨äºå°†åŒ¹é…çš„æ–‡ä»¶è½¬æ¢ä¸ºæµçš„å½¢å¼è¿›è€Œé€šè¿‡å„é¡¹å¤„ç†</p><p><strong>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹destä¸­å¯¹streamçš„å¤„ç†</strong></p><h2 id="ä¸‰ã€dest"><a href="#ä¸‰ã€dest" class="headerlink" title="ä¸‰ã€dest"></a>ä¸‰ã€dest</h2><p>æˆ‘ä»¬ä¾æ—§è¿›å…¥ç›¸åº”çš„ ./lib/dest/index.js ä¸­æŸ¥çœ‹å…¶å…¥å£æ–‡ä»¶</p><pre><code>&#39;use strict&#39;;/*destä¸»è¦ä½œç”¨æ˜¯æ ¹æ®srcæ¥å£æ¥æ”¶é€è¿‡æ¥çš„è¾“å‡ºæµï¼Œå¹¶ç”Ÿæˆæ–‡ä»¶äºæŒ‡å®šæ–‡ä»¶å¤¹*/// å°†æµä¿¡æ¯è½¬ä¸ºvar lead = require(&#39;lead&#39;);// ç»“åˆæµçš„é˜µåˆ—æˆä½¿ç”¨å•ä¸ªåŒå·¥æµæ³µå’Œduplexify// å¦‚æœå…¶ä¸­ä¸€ä¸ªæµå…³é—­/é”™è¯¯ï¼Œç®¡é“ä¸­çš„æ‰€æœ‰æµéƒ½å°†è¢«é”€æ¯ã€‚var pumpify = require(&#39;pumpify&#39;);// åœ¨å†™å…¥æ–‡ä»¶å‰ç¡®è®¤ç›®æ ‡æ–‡ä»¶å¤¹å­˜åœ¨var mkdirpStream = require(&#39;fs-mkdirp-stream&#39;);// é…ç½®é€‰é¡¹çš„è§£ævar createResolver = require(&#39;resolve-options&#39;);// é…ç½®var config = require(&#39;./options&#39;);// ç”¨äºæ¯”è¾ƒvar prepare = require(&#39;./prepare&#39;);// ç”Ÿæˆsourcemapvar sourcemap = require(&#39;./sourcemap&#39;);var writeContents = require(&#39;./write-contents&#39;);var folderConfig = {  outFolder: {    type: &#39;string&#39;,  },};function dest(outFolder, opt) {  // å¦‚æœç›®æ ‡outFolderä¸ºç©º---&gt;æŠ¥é”™  if (!outFolder) {    throw new Error(&#39;Invalid dest() folder argument.&#39; +      &#39; Please specify a non-empty string or a function.&#39;);  }  // é…ç½®ä¸ç”¨æˆ·ä¼ å…¥é…ç½®çš„è§£æ  var optResolver = createResolver(config, opt);  // æ–‡ä»¶è·¯å¾„çš„é…ç½®è§£æ---åœ°å€  var folderResolver = createResolver(folderConfig, { outFolder: outFolder });  //   function dirpath(file, callback) {    var dirMode = optResolver.resolve(&#39;dirMode&#39;, file);    callback(null, file.dirname, dirMode);  }  // æµ  var saveStream = pumpify.obj(    // æå–ä»¥åŠæ ¡éªŒæµä¿¡æ¯    prepare(folderResolver, optResolver),    // ç”Ÿæˆsourcemapåœ°å›¾    sourcemap(optResolver),    // ä¼ å…¥è§£ædirModeçš„ä»¥ä¸‹æ–¹æ³•ï¼Œ...    mkdirpStream.obj(dirpath),    // æƒ³åˆåçš„ç›¸åº”é…ç½®ä¼ å…¥writeContentsï¼Œç„¶åå†™å…¥ç›¸åº”æ–‡ä»¶    writeContents(optResolver)  );  // Sink the output stream to start flowing  // æµæ²‰æ·€ä¸ºæ–‡ä»¶  return lead(saveStream);}module.exports = dest;</code></pre><p>ä¾æ®ç€ç›¸åº”çš„æ¨¡å—æŒ‡ç¤ºï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¤§è‡´çš„æ¸…æ¥šäº†gulpè¿›è¡Œæ‰“åŒ…æ“ä½œçš„æµç¨‹</p>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Gulp </tag>
            
            <tag> æºç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gulpæºç åˆ†æå­¦ä¹ (äºŒ</title>
      <link href="/2019/04/06/2019/Gulp%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E5%AD%A6%E4%B9%A0-%E4%BA%8C/"/>
      <url>/2019/04/06/2019/Gulp%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E5%AD%A6%E4%B9%A0-%E4%BA%8C/</url>
      
        <content type="html"><![CDATA[<h2 id="undertakeræ¨¡å—æ–‡ä»¶åˆ†æ"><a href="#undertakeræ¨¡å—æ–‡ä»¶åˆ†æ" class="headerlink" title="undertakeræ¨¡å—æ–‡ä»¶åˆ†æ"></a>undertakeræ¨¡å—æ–‡ä»¶åˆ†æ</h2><p>æˆ‘ä»¬ä»ä¸Šä¸€ç¯‡çš„å…¥å£æ–‡ä»¶åˆ†æå¯ä»¥å¾—çŸ¥ï¼Œ<strong>Gulp</strong>è¿›è¡Œtaskã€seriesã€parallelç­‰ä»»åŠ¡æ—¶ï¼Œæ‰€æ‰§è¡Œçš„æ–¹æ³•å…¥å£å…¶å®æ¥æºäº<em>undertaker</em>æ¨¡å—</p><p>å› æ­¤æˆ‘ä»¬ä¹Ÿè¿›å…¥ç›¸åº”çš„<em>undertaker</em>æ¨¡å—ä¸€æ¢ç©¶ç«Ÿ</p><h2 id="ä¸€ã€undertaker-index-js"><a href="#ä¸€ã€undertaker-index-js" class="headerlink" title="ä¸€ã€undertaker-index.js"></a>ä¸€ã€undertaker-index.js</h2><a id="more"></a><p>undertakeræ¨¡å—ä¸‹çš„index.jsæ–¹æ³• =&gt;</p><pre><code>// Nodeå·¥å…·å‡½æ•°ä¸­çš„ç»§æ‰¿var inherits = require(&#39;util&#39;).inherits;// Nodeä¸­çš„äº‹ä»¶è§¦å‘å™¨var EventEmitter = require(&#39;events&#39;).EventEmitter;var DefaultRegistry = require(&#39;undertaker-registry&#39;);var tree = require(&#39;./lib/tree&#39;);var task = require(&#39;./lib/task&#39;);var series = require(&#39;./lib/series&#39;);var lastRun = require(&#39;./lib/last-run&#39;);var parallel = require(&#39;./lib/parallel&#39;);var registry = require(&#39;./lib/registry&#39;);var _getTask = require(&#39;./lib/get-task&#39;);var _setTask = require(&#39;./lib/set-task&#39;);</code></pre><pre><code>inherits(Undertaker, EventEmitter);// ç„¶åç»§ç»­çœ‹ä¸€ä¸‹å…¶ä»–æ¨¡å—æ–¹æ³•çš„å…·ä½“ä½œç”¨Undertaker.prototype.tree = tree;Undertaker.prototype.task = task;Undertaker.prototype.series = series;Undertaker.prototype.lastRun = lastRun;Undertaker.prototype.parallel = parallel;Undertaker.prototype.registry = registry;Undertaker.prototype._getTask = _getTask;Undertaker.prototype._setTask = _setTask;</code></pre><p>ä¾æ—§é‡‡ç”¨æ ¸å¿ƒå·¥å…·å‡½æ•°çš„inheritsæ–¹æ³•è¿›è¡Œæ„é€ å‡½æ•°çš„ç»§æ‰¿</p><p>inherits(Undertaker, EventEmitter); æ­¤å¤„ä½¿å¾—<strong>Undertake</strong>ræ„é€ å‡½æ•°ç»§æ‰¿è‡ª<strong>Node</strong>æ ¸å¿ƒæ¨¡å—<strong>EventEmitter</strong> çš„åŸå‹é“¾ä¸Šæ–¹æ³•ï¼Œä»¥åŠå°†EventEmitterçš„æ„é€ å‡½æ•°ç»‘å®šåœ¨Undertakeræ„é€ å‡½æ•°çš„<strong>super_</strong>ä¸Šã€‚</p><p>å¹¶ä¸”å°†æˆ‘ä»¬åœ¨å¼€å§‹éƒ¨åˆ†æ‰€requireè¿›æ¥çš„æ–¹æ³•å‡½æ•°æ·»åŠ è‡³åŸå§‹é“¾prototypeä¸Šï¼Œä»¥ä¾¿è°ƒç”¨</p><font color="ffff00"><em>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å…¶ä¸­è¿˜æœ‰ä¸€ä¸ªä¸»æ–¹æ³•ï¼Œå½“ä¸­åˆå®ç°äº†ä»€ä¹ˆå‘¢ =&gt; ?</em></font><pre><code>function Undertaker(customRegistry) {  EventEmitter.call(this);  /*  æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹DefaultRegistry(undertaker-registry)éƒ½å¹²äº†ä»€ä¹ˆ  */  this._registry = new DefaultRegistry();  // å…è®¸ç”¨æˆ·è‡ªå®šä¹‰çš„å¯„å­˜å™¨ä»»åŠ¡  if (customRegistry) {    this.registry(customRegistry);  }  // process.env =&gt; åŒ…å«å¯¹ç”¨æˆ·ç¯å¢ƒä¿¡æ¯çš„ å¯¹è±¡  this._settle = (process.env.UNDERTAKER_SETTLE === &#39;true&#39;);}</code></pre><p>EventEmitter.call(this); å°†EventEmitteræ‰§è¡Œå‡½æ•°çš„thisç»‘å®š</p><p>this._registry = new DefaultRegistry(); newäº†ä¸€ä¸ªDefaultRegistryçš„å®ä¾‹èµ‹äºˆthis._registryå±æ€§</p><p>// åä¸¤å¥æˆ‘ä»¬ç¨åå¤„ç†</p><p><em>DefaultRegistry</em>æ¥æºäº<em>undertaker-registry</em></p><p>å¥½çš„ï¼Œé‚£è®©æˆ‘ä»¬ç°åœ¨æ¥çœ‹ä¸€ä¸‹ï¼Œ<strong>undertaker-registry</strong> éƒ½å°†å¹²äº›ä»€ä¹ˆäº‹ã€‚</p><h2 id="äºŒã€undertaker-registry-index-js"><a href="#äºŒã€undertaker-registry-index-js" class="headerlink" title="äºŒã€undertaker-registry - index.js"></a>äºŒã€undertaker-registry - index.js</h2><pre><code>// æä¾›äº†å½¢å¦‚getã€setçš„æ¥å£,å……å½“å¯„å­˜å™¨çš„ä½œç”¨å­˜æ”¾ç€é‚£äº›ä»»åŠ¡é˜Ÿåˆ—function DefaultRegistry() {  if (this instanceof DefaultRegistry === false) {    return new DefaultRegistry();  }  this._tasks = {};}// å¯èƒ½æ˜¯åˆå§‹åŒ–çš„ä½œç”¨DefaultRegistry.prototype.init = function init(taker) {};// ä»ä¸Šè¾¹çš„_taskså¯¹è±¡ä¸­å»key=nameçš„é‚£ä¸ªDefaultRegistry.prototype.get = function get(name) {  return this._tasks[name];};// setçš„æ—¶å€™,é’ˆå¯¹ä¼ å…¥çš„nameä½œä¸ºkey,å­˜æ”¾ç›¸åº”çš„å¤„ç†æ–¹æ³•fnDefaultRegistry.prototype.set = function set(name, fn) {  return this._tasks[name] = fn;};DefaultRegistry.prototype.tasks = function tasks() {  var self = this;  // æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºç´¯åŠ å™¨-&gt;æ‰©å±•-&gt;reduce()çš„ç”¨æ³•  return Object.keys(this._tasks).reduce(function(tasks, name) {    tasks[name] = self.get(name);    return tasks;  }, {});  // {}å°†ä½œä¸ºtasksçš„åˆå§‹å€¼-&gt;ä¹Ÿå°±æ˜¯=&gt; ç›¸å½“äºä»¤ä¸€å¼€å§‹çš„  tasks={},  æœ€ç»ˆè¿”å›};module.exports = DefaultRegistry;</code></pre><p>undertaker-registryæ–¹æ³•ï¼Œå¢åŠ åœ¨å…¶æ„é€ å‡½æ•°ä¸­åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡_tasks = {}</p><p>å¹¶ä¸”åœ¨å…¶åŸå‹é“¾ä¸Šæä¾›äº†å››ä¸ªæ–¹æ³•</p><ul><li>init</li><li>get</li><li>set</li><li>tasks</li></ul><p>ä¹Ÿå°±æ˜¯å®šä¹‰äº†ä¸€ä¸ªå†…éƒ¨å±æ€§_registryä½œä¸ºå¯„å­˜å™¨<strong>æ³¨å†Œ/å¯„å­˜å™¨æ¨¡å¼çš„å®ç°ï¼Œæä¾›ç»Ÿä¸€æ¥å£æ¥å­˜å‚¨å’Œè¯»å– tasks</strong></p><h3 id="å›åˆ°undertaker-index-js"><a href="#å›åˆ°undertaker-index-js" class="headerlink" title="å›åˆ°undertaker-index.js"></a>å›åˆ°undertaker-index.js</h3><pre><code>// å…è®¸ç”¨æˆ·è‡ªå®šä¹‰çš„å¯„å­˜å™¨ä»»åŠ¡  if (customRegistry) {    this.registry(customRegistry);  }</code></pre><p>æ¥ä¸‹æ¥çš„è¿™ä¸€å¥ï¼š</p><p>æ˜¯æ ¹æ®å‰éƒ¨å¼•å…¥çš„æ¥å®ç°çš„ï¼Œé‚£ä¹ˆå®ƒå…·ä½“å®ç°äº†ä»€ä¹ˆåŠŸèƒ½å‘¢ï¼Ÿ</p><pre><code>var registry = require(&#39;./lib/registry&#39;);</code></pre><p>æˆ‘ä»¬æ¥ä¸‹æ¥çœ‹ä¸€ä¸‹ =&gt; </p><h2 id="ä¸‰ã€-lib-registry"><a href="#ä¸‰ã€-lib-registry" class="headerlink" title="ä¸‰ã€ ./lib/registry"></a>ä¸‰ã€ ./lib/registry</h2><pre><code>function setTasks(inst, task, name) {  inst.set(name, task);  return inst;}function registry(newRegistry) {  if (!newRegistry) {    return this._registry;  }  //éªŒè¯æ˜¯å¦æœ‰æ•ˆï¼Œä¸»è¦åˆ¤æ–­æ˜¯å¦å¸¦æœ‰ .get/.set/.tasks/.init æ¥å£ï¼Œè‹¥ä¸ç¬¦åˆåˆ™æŠ›å‡ºé”™è¯¯  validateRegistry(newRegistry);  var tasks = this._registry.tasks();  //å°†ç°æœ‰ tasks æ‹·è´åˆ°æ–°çš„å¯„å­˜å™¨ä¸Š  this._registry = reduce(tasks, setTasks, newRegistry);  //è°ƒç”¨åˆå§‹åŒ–æ¥å£ï¼ˆæ— è®ºæ˜¯å¦éœ€è¦ï¼Œå¯„å­˜å™¨åŠ¡å¿…å¸¦æœ‰ä¸€ä¸ªinitæ¥å£ï¼‰  this._registry.init(this);}module.exports = registry;</code></pre><p>è‡³æ­¤ï¼Œå°†æ¥é€æ­¥åˆ†æå…¶ä½™å„ä»»åŠ¡æ–¹æ³•æ¨¡å—çš„ä½œç”¨</p><p>å…¶ä¸­åŒ…æ‹¬</p><p>Undertaker.prototype.tree = tree; </p><p>Undertaker.prototype.task = task; </p><p>Undertaker.prototype.series = series;</p><p>Undertaker.prototype.lastRun = lastRun;</p><p>Undertaker.prototype.parallel = parallel;</p><p>Undertaker.prototype.registry = registry;</p><p>Undertaker.prototype._getTask = _getTask;</p><p>Undertaker.prototype._setTask = _setTask;</p><p>å°†æŒ‰ä»¥ä¸‹é¡ºåºè¿›è¡Œ =&gt; </p><p><strong>/lib/set-task</strong></p><p><strong>/lib/get-task</strong></p><p><strong>/lib/last-run</strong></p><p><strong>/lib/task</strong></p><p><strong>/lib/tree</strong></p><p><strong>/lib/series</strong></p><p><strong>/lib/parallel</strong></p><h2 id="å››ã€-lib-set-task"><a href="#å››ã€-lib-set-task" class="headerlink" title="å››ã€./lib/set-task"></a>å››ã€./lib/set-task</h2><p>set-task</p><pre><code>&#39;use strict&#39;;var assert = require(&#39;assert&#39;);var metadata = require(&#39;./helpers/metadata&#39;);/*var WM = require(&#39;es6-weak-map&#39;);var metadata = new WM();=&gt;ES6ä¸­çš„WeakMapæ–°ç±»å‹,åœ¨å…¶ä¸­å¼•ç”¨çš„å¯¹è±¡ä¸è®¡å…¥åƒåœ¾å›æ”¶æœºåˆ¶,ä¾‹å¦‚ä¹¦ä¸­è®²å¯ç”¨äºå­˜æ”¾ä¸€äº›DOMç›¸å…³å¯¹è±¡=&gt;æ­¤å¤„ä¸ºä»€ä¹ˆç”¨WeakMapä¸ç”¨Map,å¯èƒ½æ˜¯æ–¹ä¾¿ä»»åŠ¡æ‰§è¡Œç»“æŸ,æœ‰æ•ˆæ¸…ç†å†…å­˜æä¾›getã€setç­‰æ–¹æ³•*/// setæ–¹æ³•é‡‡ç”¨äº†map(WeakMap)çš„æ•°æ®ç±»å‹è¿›è¡Œå­˜æ”¾// æš´éœ²äº†ä¸€ä¸ªsetæ–¹æ³•function set(name, fn) {  // å…¶ä¸­å¯¹taskç¬¬ä¸€ä¸ªå‚æ•°çš„nameè¿›è¡Œç±»å‹åˆ¤æ–­=&gt;é”™è¯¯åˆ™æŠ¥  assert(name, &#39;Task name must be specified&#39;);  assert(typeof name === &#39;string&#39;, &#39;Task name must be a string&#39;);  assert(typeof fn === &#39;function&#39;, &#39;Task function must be specified&#39;);  // ç»‘å®šthis, åœ¨thisä¸­ä½¿ç”¨å‚æ•° fn å¯¹è±¡çš„æ–¹æ³•ä»¥åŠå‚æ•°  // å› ä¸ºWeakMapä¸­è¦æ±‚çš„keyå¯¹è±¡ä¸èƒ½è¢«å¼•ç”¨è¿‡  function taskWrapper() {    // è¿”å›ä¸€ä¸ªæ–°åŒ…è£…thisåçš„å‡½æ•°    return fn.apply(this, arguments);  }  function unwrap() {    // è¿”å›åŸæœ¬çš„fnå‡½æ•°æ–¹æ³•    return fn;  }  // å°†nameã€fnåŒ…è£…  taskWrapper.unwrap = unwrap;  taskWrapper.displayName = name;  // æ‰“å°ä¸€ä¸‹è¾“å‡ºæ˜¯ä»€ä¹ˆ =&gt;   console.log(`taskWrapperï¼š ${taskWrapper}`)  var meta = metadata.get(fn) || {};  // æ‰“å°ä¸€ä¸‹è¾“å‡ºæ˜¯ä»€ä¹ˆ =&gt;   console.log(`meta: ${meta}`)  var nodes = [];  if (meta.branch) {    nodes.push(meta.tree);  }  var task = this._registry.set(name, taskWrapper) || taskWrapper;  // æ‰“å°ä¸€ä¸‹è¾“å‡ºæ˜¯ä»€ä¹ˆ =&gt;   console.log(`task: ${task}`)  // å­˜å…¥WeakMapå¯¹è±¡  metadata.set(task, {    name: name,    orig: fn,    tree: {      label: name,      type: &#39;task&#39;,      nodes: nodes,    },  });  // æ‰“å°ä¸€ä¸‹è¾“å‡ºæ˜¯ä»€ä¹ˆ =&gt;   console.log(`metadata: ${metadata.get(task)}`)}module.exports = set;</code></pre><h2 id="äº”ã€-lib-get-task"><a href="#äº”ã€-lib-get-task" class="headerlink" title="äº”ã€./lib/get-task"></a>äº”ã€./lib/get-task</h2><p>get-taskæ–¹æ³•æ¨¡å—ä»£ç å¾ˆç®€å•</p><pre><code>&#39;use strict&#39;;// ä¹Ÿå°±æ˜¯å¯¹undertaker-registryä¸­çš„getæ–¹æ³•æå–function get(name) {  // ä»_registryå¯„å­˜å™¨ä¸­get  return this._registry.get(name);}module.exports = get;</code></pre><h2 id="å…­ã€-lib-last-run"><a href="#å…­ã€-lib-last-run" class="headerlink" title="å…­ã€./lib/last-run"></a>å…­ã€./lib/last-run</h2><p>ç”¨æ¥è®°å½•å’Œè·å–é’ˆå¯¹æŸä¸ªæ–¹æ³•çš„æ‰§è¡Œå‰/åæ—¶é—´</p><pre><code>&#39;use strict&#39;;// npmä¸­å…¶ä»‹ç»çš„åŠŸèƒ½ä¸º,è®°å½•å‡½æ•°çš„æ—¶é—´ç‚¹ =&gt; å¯¹metadataå¯¹è±¡çš„å±æ€§ä¸€é¡¿æ“ä½œvar retrieveLastRun = require(&#39;last-run&#39;);var metadata = require(&#39;./helpers/metadata&#39;);function lastRun(task, timeResolution) {  if (timeResolution == null) {    timeResolution = process.env.UNDERTAKER_TIME_RESOLUTION;  }  var fn = task;  if (typeof task === &#39;string&#39;) {    fn = this._getTask(task);  }  var meta = metadata.get(fn);  if (meta) {    fn = meta.orig || fn;  }  return retrieveLastRun(fn, timeResolution);}module.exports = lastRun;</code></pre><h2 id="ä¸ƒã€-lib-tree"><a href="#ä¸ƒã€-lib-tree" class="headerlink" title="ä¸ƒã€./lib/tree"></a>ä¸ƒã€./lib/tree</h2><p>é€šè¿‡éå†metadataï¼Œè·å–å½“å‰æ³¨å†Œè¿‡çš„æ‰€æœ‰ä»»åŠ¡çš„metadata</p><pre><code>&#39;use strict&#39;;var defaults = require(&#39;object.defaults&#39;);var map = require(&#39;collection-map&#39;);var metadata = require(&#39;./helpers/metadata&#39;);// å¯ç”¨äºè·å–å½“å‰æ³¨å†Œè¿‡çš„æ‰€æœ‰ä»»åŠ¡çš„metadata-WeakMap// ä¹Ÿå°±æ˜¯è¯´,å¯ä»¥è·å–åˆ°å½“å‰æˆ‘ä»¬å®šä¹‰äº†é‚£äº›ä»»åŠ¡,å¯¹åº”æ–¹æ³•,ä»»åŠ¡é—´ä¾èµ–ç­‰å…³ç³»function tree(opts) {  // æ­¤æ–¹æ³•ä¼šè¦†ç›–åˆ¤æ–­æ˜¯å¦å­˜åœ¨opts,å¹¶è¦†ç›–å…¶ä¸­çš„{deep: false}  opts = defaults(opts || {}, {    deep: false,  });  // è·å–å¯„å­˜å™¨ä¸­çš„tasks  var tasks = this._registry.tasks();  // éå†taskså¹¶ä¸”è¿”å›WeakMap(metadata)çš„â€œä»»åŠ¡æ•°ç»„â€   var nodes = map(tasks, function(task) {    var meta = metadata.get(task);    if (opts.deep) {      return meta.tree;    }    return meta.tree.label;  });  return {    label: &#39;Tasks&#39;,    nodes: nodes,  };}module.exports = tree;/*var undertaker = require(&#39;undertaker&#39;);ut = new undertaker();ut.task(&#39;taskA&#39;, function(cb){console.log(&#39;A&#39;); cb()});ut.task(&#39;taskB&#39;, function(cb){console.log(&#39;B&#39;); cb()});ut.task(&#39;taskC&#39;, function(cb){console.log(&#39;C&#39;); cb()});ut.task(&#39;taskD&#39;, function(cb){console.log(&#39;D&#39;); cb()});ut.task(&#39;taskE&#39;, function(cb){console.log(&#39;E&#39;); cb()});ut.task(&#39;taskC&#39;, ut.series(&#39;taskA&#39;, &#39;taskB&#39;));ut.task(&#39;taskE&#39;, ut.parallel(&#39;taskC&#39;, &#39;taskD&#39;));var tree = ut.tree();console.log(tree);*/</code></pre><h2 id="å…«ã€-lib-task"><a href="#å…«ã€-lib-task" class="headerlink" title="å…«ã€./lib/task"></a>å…«ã€./lib/task</h2><p>ä½¿ç”¨ä¸¾ä¾‹ï¼š</p><pre><code>gulp.task(&#39;css_comm&#39;, function() {  return gulp.src([&#39;1.css&#39;,&#39;2.css&#39;])      .pipe(concat(&#39;common.css&#39;))      .pipe(gulp.dest(&#39;./build/css&#39;))});</code></pre><pre><code>&#39;use strict&#39;;function task(name, fn) {  // æ­¤å¤„ ifåˆ¤æ–­ å†™æ³•ä¸ºå¤„ç†â€œæ–°â€æ‰“åŒ…å†™æ³•  /*  function uglify(){    return gulp.src([&#39;src/*.js&#39;])        .pipe(uglify())        .pipe(gulp.dest(&#39;dist&#39;));  }  gulp.task(uglify);  */  if (typeof name === &#39;function&#39;) {    fn = name;    name = fn.displayName || fn.name;  }  // å½“ç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸ºç©ºä¸å­˜åœ¨æ—¶ï¼Œå³æ˜¯å¯¹ç›¸åº”ä»»åŠ¡çš„è·å–----é…åˆä¸Šä¸€æ®µ  if ä¸€èµ·çœ‹  /*    gulp.task(&#39;css_comm&#39;, function() {    });  */  if (!fn) {    return this._getTask(name);  }  // è°ƒæ•´å¥½å…³ç³»,å†æ¬¡å­˜å…¥task  this._setTask(name, fn);  // console.log(`name: ${name}, fn: ${fn}`)  /*æ­¤ä¸¤å¤„çš„_getTaskå’Œ_setTask=&gt;å¯ä»¥çœ‹ä¸€ä¸‹,ç±»ä¼¼äºä¸€å¼€å§‹DefaultRegistryä¸­å¯¹tasksä¸­    ä»»åŠ¡çš„æ“ä½œ(get\set)  */}module.exports = task;</code></pre><h2 id="ä¹ã€-lib-parallel"><a href="#ä¹ã€-lib-parallel" class="headerlink" title="ä¹ã€./lib/parallel"></a>ä¹ã€./lib/parallel</h2><p>this.parallelçš„ä½¿ç”¨ =&gt;</p><pre><code>var undertaker = require(&#39;undertaker&#39;);ut = new undertaker();  ut.task(&#39;taskA&#39;, function(){});  ut.task(&#39;taskB&#39;, function(){});  ut.task(&#39;taskC&#39;, function(){});  ut.task(&#39;taskD&#39;, function(){});// taskD éœ€è¦åœ¨ &#39;taskA&#39;, &#39;taskB&#39;, &#39;taskC&#39; æ‰§è¡Œå®Œæ¯•åæ‰å¼€å§‹æ‰§è¡Œï¼Œ// å…¶ä¸­ &#39;taskA&#39;, &#39;taskB&#39;, &#39;taskC&#39; çš„æ‰§è¡Œæ˜¯å¼‚æ­¥çš„ut.task(&#39;taskD&#39;, ut.parallel(&#39;taskA&#39;, &#39;taskB&#39;, &#39;taskC&#39;));</code></pre><p><strong>é‚£è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹parallelä¸­åˆ†åˆ«å®ç°äº†äº›ä»€ä¹ˆå§ï¼</strong></p><pre><code>&#39;use strict&#39;;var bach = require(&#39;bach&#39;);var metadata = require(&#39;./helpers/metadata&#39;);var buildTree = require(&#39;./helpers/buildTree&#39;);var normalizeArgs = require(&#39;./helpers/normalizeArgs&#39;);var createExtensions = require(&#39;./helpers/createExtensions&#39;);function parallel() {  var create = this._settle ? bach.settleParallel : bach.parallel;  // æ ¹æ®â€œä»»åŠ¡â€æ•°ç»„ä»å¯„å­˜å™¨ä¸­è·å–å±•å¼€çš„ä»»åŠ¡æ•°ç»„  var args = normalizeArgs(this._registry, arguments);  // ä¸ºå¯¹è±¡æ‰©å±•æ–°â€œâ€å¯¹è±¡  var extensions = createExtensions(this);  // å°†å‚æ•°ä¸æ‰©å±•çš„å¯¹è±¡(after,before,create,error)åšå…³è”  // æ‰€ä»¥æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å®ƒå…·ä½“å®ç°äº†äº›ä»€ä¹ˆ =&gt;   // bach.settleParallel+  (args, extensions) : bach.parallel(args, extensions)  var fn = create(args, extensions);  fn.displayName = &#39;&lt;parallel&gt;&#39;;  metadata.set(fn, {    name: fn.displayName,    branch: true,    tree: {      label: fn.displayName,      type: &#39;function&#39;,      branch: true,      nodes: buildTree(args),    },  });  return fn;}module.exports = parallel;</code></pre><p>è®©æˆ‘ä»¬ä»ä¸Šåˆ°ä¸‹çš„åˆ†æä¸€ä¸‹</p><pre><code>// æ ¹æ®â€œä»»åŠ¡â€æ•°ç»„ä»å¯„å­˜å™¨ä¸­è·å–å±•å¼€çš„ä»»åŠ¡æ•°ç»„var args = normalizeArgs(this._registry, arguments);</code></pre><p><strong>normalizeArgs</strong> æ–¹æ³•æ˜¯æ¥æºäºæ¨¡å— <strong>./helpers/normalizeArgs</strong></p><p>é‚£è®©æˆ‘ä»¬è½¬å‘æ¥çœ‹ä¸€ä¸‹æ­¤æ¨¡å—</p><h3 id="ä¹-1-ã€normalizeArgs"><a href="#ä¹-1-ã€normalizeArgs" class="headerlink" title="ä¹(1)ã€normalizeArgs"></a>ä¹(1)ã€normalizeArgs</h3><pre><code>&#39;use strict&#39;;// nODEçš„æ–­è¨€æµ‹è¯•var assert = require(&#39;assert&#39;);// ç±»ä¼¼äºArray.map()çš„æ”¹è¿›ç‰ˆæœ¬=&gt;æœ€ç»ˆè¿”å›çš„ä¹Ÿæ˜¯æ•°ç»„/*:npmä¸­çš„è®²è§£map([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;], function(ele, i) {  return i + ele;});//=&gt; [&#39;0a&#39;, &#39;1b&#39;, &#39;2c&#39;]*/var map = require(&#39;arr-map&#39;);// å°†æ•°ç»„å±•å¼€ä¸ºå¹³é¢æ•°ç»„,è§£é™¤åµŒå¥—/*flatten([&#39;a&#39;, [&#39;b&#39;, [&#39;c&#39;]], &#39;d&#39;, [&#39;e&#39;]]);//=&gt; [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;]*/var flatten = require(&#39;arr-flatten&#39;);// æ¥æ”¶åˆ°å¯„å­˜å™¨ä»¥åŠç›¸åº”çš„â€œä»»åŠ¡æ•°ç»„â€function normalizeArgs(registry, args) {  // ä¼ é€’å…¥ä¸€ä¸ªä¸€ä¸ªçš„â€œä»»åŠ¡â€æ–¹æ³•  function getFunction(task) {    // taskç±»å‹åˆ¤æ–­    if (typeof task === &#39;function&#39;) {      return task;    }    // ä»æˆ‘ä»¬å¯„å­˜å™¨ä¸­æ‰¾åˆ°æœ‰æ²¡æœ‰è¿™ä¸ªkeyçš„function,å› ä¸ºå­˜åœ¨æ—§çš„å†™æ³•----ä¸çŸ¥æ˜¯å¦æœ‰ç†è§£é”™    /*    gulp.task(&#39;uglify&#39;, function(){        return gulp.src([&#39;src/*.js&#39;])            .pipe(uglify())            .pipe(gulp.dest(&#39;dist&#39;));    });    gulp.task(&#39;default&#39;, [&#39;uglify&#39;]);    =&gt;ä¸Šé¢çš„ä¸€å¼€å§‹ç»™registryä¼ å…¥çš„æ˜¯ä¸€ä¸ªuglifyçš„key    */    var fn = registry.get(task);    // é”™è¯¯å¤„ç†    assert(fn, &#39;Task never defined: &#39; + task);    // å›    return fn;  }  // â€œä»»åŠ¡æ•°ç»„â€å±•å¼€  var flattenArgs = flatten(args);  // æ ¹æ®é•¿åº¦,åˆ¤æ–­æ˜¯å¦å†™ç©ºäº†  assert(flattenArgs.length, &#39;One or more tasks should be combined using series or parallel&#39;);  // å¯¹â€œä»»åŠ¡æ•°ç»„â€çš„ä»»åŠ¡è¿›è¡Œæ–¹æ³•çš„éå†  return map(flattenArgs, getFunction);}module.exports = normalizeArgs;</code></pre><p>//é€šè¿‡å‚æ•°è·å–å­˜åœ¨å¯„å­˜å™¨ï¼ˆregistryï¼‰ä¸­çš„ taskFunctionsï¼ˆæ•°ç»„å½¢å¼ï¼‰<br>var args = normalizeArgs(this._registry, arguments);</p><p><strong>æ¥ä¸‹æ¥æˆ‘ä»¬ç»§ç»­é˜…è¯»ä¸‹ä¸€å¥ï¼š</strong><br>var extensions = createExtensions(this);</p><p>è€Œ<strong>createExtensions</strong>æ˜¯æ¥æºäºæ¨¡å—<strong>helpers/createExtensions</strong></p><p>é‚£ä¹ˆæˆ‘ä»¬çœ‹ä¸€ä¸‹å…¶ä¸­å®ç°äº†ä»€ä¹ˆ = ?</p><h3 id="ä¹-2-ã€createExtensions"><a href="#ä¹-2-ã€createExtensions" class="headerlink" title="ä¹(2)ã€createExtensions"></a>ä¹(2)ã€createExtensions</h3><pre><code>&#39;use strict&#39;;// ä½¿ç”¨æŸå‡½æ•°,å¹¶è®°å½•æ•è·å½“å‰æ—¶é—´æˆ³æˆ–è€…ä¼ å…¥æ—¶é—´æˆ³var captureLastRun = require(&#39;last-run&#39;).capture;// è·å–ä¸€ä¸ªfunctionå¹¶åˆ é™¤æœ€åä¸€æ¬¡è¿è¡Œæ—¶æ—¶é—´æˆ³var releaseLastRun = require(&#39;last-run&#39;).release;var metadata = require(&#39;./metadata&#39;);var uid = 0;function Storage(fn) {  var meta = metadata.get(fn);  this.fn = meta.orig || fn;  this.uid = uid++;  this.name = meta.name;  this.branch = meta.branch || false;  this.captureTime = Date.now();  this.startHr = [];}Storage.prototype.capture = function() {  captureLastRun(this.fn, this.captureTime);};Storage.prototype.release = function() {  releaseLastRun(this.fn);};function createExtensions(ee) {  return {    create: function(fn) {      // è°ƒç”¨createæ—¶å€™,è®°å½•ä¸€ä¸‹ç›¸å…³ä¿¡æ¯,å¹¶è¿”å›      return new Storage(fn);    },    before: function(storage) {      // Nodeè·å–ç›¸å¯¹äºè¿‡å»æŸä¸€åˆ»çš„æ—¶é—´      storage.startHr = process.hrtime();      // Nodeè§¦å‘startäº‹ä»¶,åé¢ä¸ºå‚æ•°      ee.emit(&#39;start&#39;, {        uid: storage.uid,        name: storage.name,        branch: storage.branch,        time: Date.now(),      });    },    after: function(result, storage) {      // è°ƒç”¨æ—¶åˆ¤æ–­æ˜¯å¦æœ‰é”™,æœ‰åˆ™çˆ†      if (result &amp;&amp; result.state === &#39;error&#39;) {        return this.error(result.value, storage);      }      // è®°å½•å½“å‰æ—¶é—´æˆ³      storage.capture();      // Nodeè§¦å‘stopäº‹ä»¶      ee.emit(&#39;stop&#39;, {        uid: storage.uid,        name: storage.name,        branch: storage.branch,        duration: process.hrtime(storage.startHr),        time: Date.now(),      });    },    error: function(error, storage) {      if (Array.isArray(error)) {        error = error[0];      }      // åˆ é™¤å‡ºé”™çš„æ­¤æ¬¡æ‰§è¡Œæ—¶é—´æˆ³      storage.release();      ee.emit(&#39;error&#39;, {        uid: storage.uid,        name: storage.name,        branch: storage.branch,        error: error,        duration: process.hrtime(storage.startHr),        time: Date.now(),      });    },  };}module.exports = createExtensions;</code></pre><p>æ­¤æ–¹æ³•æ‰©å±•ï¼Œä¸ºå˜é‡æ–°å¢æ‹¥æœ‰<strong>create</strong>ã€<strong>before</strong>ã€<strong>after</strong>ã€<strong>error</strong>ç­‰æ–¹æ³•çš„ä¸€ä¸ªå¯¹è±¡</p><p>æœ€ç»ˆæœŸæœ›å°†æ‰©å±•å‡ºæ¥çš„å¯¹è±¡ä¸æˆ‘ä»¬çš„â€œä»»åŠ¡â€taskå…³è”</p><p><strong>æ¥ç€æˆ‘ä»¬æ¥çœ‹ä¸‹ä¸€å¥:</strong></p><p>var fn = create(args, extensions);</p><p>create =&gt; var create = this._settle ? bach.settleParallel : bach.parallel;</p><p><strong>bach</strong>æ¨¡å—æ¥æºäº<strong>bach</strong></p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹bachæ¨¡å—å®ç°äº†äº›ä»€ä¹ˆ =&gt; ?</p><h3 id="ä¹-3-ã€bach"><a href="#ä¹-3-ã€bach" class="headerlink" title="ä¹(3)ã€bach"></a>ä¹(3)ã€bach</h3><pre><code>module.exports = {  series: require(&#39;./lib/series&#39;),  parallel: require(&#39;./lib/parallel&#39;),  settleSeries: require(&#39;./lib/settleSeries&#39;),  settleParallel: require(&#39;./lib/settleParallel&#39;),};</code></pre><p>è€Œæˆ‘ä»¬æ‰€éœ€è¦ç”¨çš„çš„parallelæ˜¯æ¥æºäº<strong>lib/parallel</strong></p><p>è€Œ<strong>lib/parallel</strong>å…·ä½“ä»£ç å¦‚ä¸‹:</p><pre><code>&#39;use strict&#39;;// å¯¹æ•°ç»„å–å€¼æ“ä½œ,å–ç¬¬ä¸€åŠæœ€åä¸€ä¸ªvar initial = require(&#39;array-initial&#39;);var last = require(&#39;array-last&#39;);// ç”¨äºå¼‚æ­¥åŒ–å‡½æ•°var asyncDone = require(&#39;async-done&#39;);var nowAndLater = require(&#39;now-and-later&#39;);var helpers = require(&#39;./helpers&#39;);function iterator(fn, key, cb) {  // é‚£asyncDoneåˆæ˜¯åšä»€ä¹ˆçš„å‘¢ =&gt; ?  // ä¼ å…¥ä¸€ä¸ªæ–¹æ³•ä¸å›è°ƒ  return asyncDone(fn, cb);}function buildParallel() {  // æ ¡éªŒä¼ å…¥å‚æ•°(argumentsçš„åˆæ³•æ€§)  var args = helpers.verifyArguments(arguments);  // å–åˆ°æœ€åä¸€ä¸ªå‚æ•°,å³ä¼ å…¥æ—¶çš„extensions,ç„¶åæ‰§è¡Œæ­¤æ–¹æ³•  // å¦‚æœæœ€åä¸€ä¸ªå‚æ•°!==functionåˆ™return å›  var extensions = helpers.getExtensions(last(args));  if (extensions) {    // å¦‚æœæ‰©å±•å¯¹è±¡å­˜åœ¨,å–ç¬¬ä¸€ä¸ªå‚æ•°    args = initial(args);  }  // æˆ‘ä»¬å…·ä½“æ¥çœ‹ä¸€ä¸‹nowAndLater.mapåšäº†ä»€ä¹ˆ =&gt;   function parallel(done) {    /*    ä¼ å…¥äº†å››ä¸ªå€¼(args, function iterator(fn, key, cb) {return asyncDone(fn, cb);}, æ‰©å±•çš„å¯¹è±¡, done)    */    nowAndLater.map(args, iterator, extensions, done);    //éå†tasksæ•°ç»„ï¼Œå°†å…¶ç”Ÿå‘½å‘¨æœŸå’Œextensionså±æ€§å…³è”èµ·æ¥,ä¸”å°†æ¯ä¸ªtaskå¼‚æ­¥åŒ–ï¼Œä¸”å¹¶å‘æ‰§è¡Œ  }  return parallel;}module.exports = buildParallel;</code></pre><p>è¿™ä¸€æ®µä»£ç ä¸­æ‰€ç”¨çš„çš„é‡è¦æ–¹æ³•å‡½æ•°æœ‰è¿™äº›ï¼š</p><pre><code>function iterator(fn, key, cb) {  return asyncDone(fn, cb);}/*...çœç•¥*/function parallel(done) {  nowAndLater.map(args, iterator, extensions, done);}</code></pre><p>é¦–å…ˆå¯ä»¥è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹<strong>async-Done</strong>åˆ†åˆ«åšäº†ä»€ä¹ˆ =&gt; ï¼Ÿ</p><h3 id="ä¹-4-async-Done"><a href="#ä¹-4-async-Done" class="headerlink" title="ä¹(4)async-Done"></a>ä¹(4)async-Done</h3><p>å®ƒå¯ä»¥æŠŠä¸€ä¸ªæ™®é€šå‡½æ•°ï¼ˆä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰å¼‚æ­¥åŒ–</p><pre><code>//demo1var asyncDone = require(&#39;async-done&#39;);asyncDone(function(done){    console.log(&#39;æµ‹è¯•AsyncDone---1--å¼€å§‹&#39;);    done(null, &#39;æµ‹è¯•AsyncDone---1--ç»“æŸ&#39;)}, function(err, data){  //  æˆåŠŸæ‰§è¡Œç¬¬ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œ``error`å°†ä¸ºnullã€‚  //  `result`å°†æ˜¯ç¬¬ä¸€ä¸ªå‡½æ•°çš„ç»“æœã€‚    console.log(data)});asyncDone(function(done){    console.log(&#39;æµ‹è¯•AsyncDone---2--å¼€å§‹&#39;);    setTimeout( done.bind(this, null, &#39;æµ‹è¯•AsyncDone---2--ç»“æŸ&#39;), 1000 )}, function(err, data){    console.log(data)});asyncDone(function(done){    console.log(&#39;æµ‹è¯•AsyncDone---3--å¼€å§‹&#39;);    done(null, &#39;æµ‹è¯•AsyncDone---3--ç»“æŸ&#39;)}, function(err, data){    console.log(data)});</code></pre><p><strong>æ‰§è¡Œçš„ç»“æœ :</strong></p><ul><li>æµ‹è¯•AsyncDoneâ€”1â€“å¼€å§‹</li><li>æµ‹è¯•AsyncDoneâ€”1â€“ç»“æŸ</li><li>æµ‹è¯•AsyncDoneâ€”2â€“å¼€å§‹</li><li>æµ‹è¯•AsyncDoneâ€”3â€“å¼€å§‹</li><li>æµ‹è¯•AsyncDoneâ€”3â€“ç»“æŸ</li><li>æµ‹è¯•AsyncDoneâ€”2â€“ç»“æŸ</li></ul><p>å…¶ä¸­ç¬¬ä¸€ä¸ªå‚æ•°æ–¹æ³•ä¸­çš„doneå°†ä¼šæé†’ç¬¬äºŒä¸ªå‚æ•°(callback)å»æ‰§è¡Œç›¸å…³å›è°ƒ</p><p><strong>æ¥ä¸‹æ¥æˆ‘ä»¬æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹parallelçš„é‡è¦éƒ¨åˆ† :</strong></p><pre><code>function parallel(done) {nowAndLater.map(args, iterator, extensions, done);}</code></pre><p>è€ŒnowAndLaterçš„æ¨¡å—æ¥å£æ¥æºäº<strong>now-and-later</strong></p><p>é‚£æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹<strong>now-and-later</strong>å®ç°äº†äº›ä»€ä¹ˆå‘¢?</p><h3 id="ä¹-5-ã€now-and-later"><a href="#ä¹-5-ã€now-and-later" class="headerlink" title="ä¹(5)ã€now-and-later"></a>ä¹(5)ã€now-and-later</h3><pre><code>var once = require(&#39;once&#39;);var helpers = require(&#39;./helpers&#39;);function map(values, iterator, extensions, done) {    if (typeof extensions === &#39;function&#39;) {        done = extensions;        extensions = {};    }    if (typeof done !== &#39;function&#39;) {        done = helpers.noop;  //æ²¡æœ‰ä¼ å…¥doneåˆ™èµ‹äºˆä¸€ä¸ªç©ºå‡½æ•°    }    //è®© done å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡    done = once(done);    var keys = Object.keys(values);    var length = keys.length;    var count = length;    var idx = 0;    // åˆå§‹åŒ–ä¸€ä¸ªç©ºçš„ã€å’Œvaluesç­‰é•¿çš„æ•°ç»„    var results = helpers.initializeResults(values);    /**     * helpers.defaultExtensions(extensions) è¿”å›å¦‚ä¸‹å¯¹è±¡ï¼š     *  {            create: extensions.create || defaultExts.create,            before: extensions.before || defaultExts.before,            after: extensions.after || defaultExts.after,            error: extensions.error || defaultExts.error,        }     */    var exts = helpers.defaultExtensions(extensions);    for (idx = 0; idx &lt; length; idx++) {        var key = keys[idx];        next(key);    }    function next(key) {        var value = values[key];        //åˆ›å»ºä¸€ä¸ª Storage å®ä¾‹        var storage = exts.create(value, key) || {};        //è§¦å‘&#39;start&#39;äº‹ä»¶        exts.before(storage);        //åˆ©ç”¨ async-done å°† taskFunction è½¬ä¸ºå¼‚æ­¥æ–¹æ³•å¹¶æ‰§è¡Œ        iterator(value, once(handler));        function handler(err, result) {            if (err) {                //è§¦å‘&#39;error&#39;äº‹ä»¶                exts.error(err, storage);                return done(err, results);            }            //è§¦å‘&#39;stop&#39;äº‹ä»¶            exts.after(result, storage);            results[key] = result;            if (--count === 0) {                done(err, results);            }        }    }}module.exports = map;</code></pre><p>åœ¨è¿™æ®µä»£ç çš„ map æ–¹æ³•ä¸­ï¼Œé€šè¿‡ for å¾ªç¯éå†äº†æ¯ä¸ªä¼ å…¥ parallel æ¥å£çš„ taskFunctionï¼Œç„¶åä½¿ç”¨ iteratorï¼ˆasync-doneï¼‰å°† taskFunction å¼‚æ­¥åŒ–å¹¶æ‰§è¡Œï¼ˆæ‰§è¡Œå®Œæ¯•ä¼šè§¦å‘ hadlerï¼‰ï¼Œå¹¶å°† extensions çš„å„æ–¹æ³•å’Œ task çš„ç”Ÿå‘½å‘¨æœŸå…³è”èµ·æ¥ï¼ˆæ¯”å¦‚åœ¨ä»»åŠ¡å¼€å§‹æ—¶æ‰§è¡Œâ€œstartâ€äº‹ä»¶ã€ä»»åŠ¡å‡ºé”™æ—¶æ‰§è¡Œâ€œerrorâ€äº‹ä»¶ï¼‰ã€‚ â€”â€”[å¼•ç”¨è‡ªvaoyåšå®¢è¯´æ˜]</p><h2 id="åã€-lib-series"><a href="#åã€-lib-series" class="headerlink" title="åã€./lib/series"></a>åã€./lib/series</h2><p>seriesæ¥å£çš„ä½¿ç”¨:</p><pre><code>ut.task(&#39;taskA&#39;, function(){/*ç•¥*/});  ut.task(&#39;taskB&#39;, function(){/*ç•¥*/});  ut.task(&#39;taskC&#39;, function(){/*ç•¥*/});  ut.task(&#39;taskD&#39;, function(){/*ç•¥*/});// taskD éœ€è¦åœ¨ &#39;taskA&#39;, &#39;taskB&#39;, &#39;taskC&#39; æ‰§è¡Œå®Œæ¯•åæ‰å¼€å§‹æ‰§è¡Œï¼Œ// å…¶ä¸­ &#39;taskA&#39;, &#39;taskB&#39;, &#39;taskC&#39; çš„æ‰§è¡Œå¿…é¡»æ˜¯æŒ‰é¡ºåºä¸€ä¸ªæ¥ä¸€ä¸ªçš„  ut.task(&#39;taskD&#39;, ut.series(&#39;taskA&#39;, &#39;taskB&#39;, &#39;taskC&#39;));</code></pre><p>å…¶å®ç°å’Œparallelæ˜¯åŸºæœ¬ä¸€è‡´çš„ï¼Œä½†åœ¨seriesä¸­ä½¿ç”¨çš„æ˜¯nowAndlaterçš„mapSeriesæ¥å£</p><pre><code>next(key);    function next(key) {        var value = values[key];        var storage = exts.create(value, key) || {};        exts.before(storage);        iterator(value, once(handler));        function handler(err, result) {            if (err) {                exts.error(err, storage);                return done(err, results); //æœ‰ä»»åŠ¡å‡ºé”™ï¼Œæ•…æ‰€æœ‰ä»»åŠ¡åº”åœæ­¢è°ƒç”¨            }            exts.after(result, storage);            results[key] = result;            if (++idx &gt;= length) {                done(err, results); //å…¨éƒ¨ä»»åŠ¡å·²ç»ç»“æŸäº†            } else {                next(keys[idx]);  //nextä¸åœ¨æ˜¯æ”¾åœ¨å¤–é¢çš„å¾ªç¯é‡Œï¼Œè€Œæ˜¯åœ¨ä»»åŠ¡çš„å›è°ƒé‡Œ            }        }    }</code></pre><p>æ­¤å¤„åœ¨seriesæ¥å£ä¸­é€šè¿‡æ”¹åŠ¨ next çš„ä½ç½®ï¼Œå¯ä»¥å¾ˆå¥½åœ°è¦æ±‚ä¼ å…¥çš„ä»»åŠ¡å¿…é¡»ä¸€ä¸ªæ¥ä¸€ä¸ªå»æ‰§è¡Œï¼ˆåä¸€ä¸ªä»»åŠ¡åœ¨å‰ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæ¯•çš„å›è°ƒé‡Œæ‰ä¼šå¼€å§‹æ‰§è¡Œï¼‰ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Gulp </tag>
            
            <tag> æºç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gulpæºç åˆ†æå­¦ä¹ (ä¸€</title>
      <link href="/2019/04/05/2019/Gulp%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E5%AD%A6%E4%B9%A0-%E4%B8%80/"/>
      <url>/2019/04/05/2019/Gulp%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E5%AD%A6%E4%B9%A0-%E4%B8%80/</url>
      
        <content type="html"><![CDATA[<p align="center"><br>  <a href="https://gulpjs.com" target="_blank" rel="noopener"><br>    <img height="257" width="114" src="https://raw.githubusercontent.com/gulpjs/artwork/master/gulp-2x.png"><br>  </a><br></p><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>ç›®å‰å·¥ä½œä¼šä¾èµ–äºGulpè¿›è¡Œé¡¹ç›®çš„æ„å»ºæ‰“åŒ…ï¼Œä¹Ÿä¸ºäº†å¯ä»¥æœ‰æ›´æ·±å…¥çš„å­¦ä¹ å¿ƒå¾—ä¸æ”¶è·ã€‚å› æ­¤åœ¨æ­¤è®°å½•å¯¹äº<em>Gulp</em>æºç çš„é˜…è¯»ã€åŠä¸ªäººç†è§£</p><p>åœ¨æ€»ç»“çš„markdown ä¸ <strong>ä¸ªäººåšå®¢</strong> æœ‰ç›¸å…³ç³»åˆ—æ–‡ç« ï¼Œåœ¨æ­¤é¡¹ç›®å„æ–‡ä»¶å¤¹çš„æºç ä¸­ä¹Ÿæœ‰ç›¸åº”çš„æºç åˆ†æçš„æ³¨é‡Š</p><p><em>ç‰ˆæœ¬ </em><br><strong>gulpï¼š ^4.0.0 ç‰ˆæœ¬ä¸ºä¾‹</strong></p><h2 id="Gulp"><a href="#Gulp" class="headerlink" title="Gulp"></a>Gulp</h2><a id="more"></a><p>æºç ç›¸å…³ï¼š</p><ul><li><p>gulpä¸»å…¥å£åˆ†æâ€”<a href="https://github.com/Jayantxu/gulp-source/tree/master/gulp" target="_blank" rel="noopener">gulp-index.js</a></p></li><li><p>glob-watcheræ¨¡å—åˆ†æâ€”<a href="https://github.com/Jayantxu/gulp-source/tree/master/glob-watcher" target="_blank" rel="noopener">glob-watcher-index.js</a></p></li><li><p>undertakeræ¨¡å—åˆ†æâ€”<a href="https://github.com/Jayantxu/gulp-source/tree/master/undertaker" target="_blank" rel="noopener">undertaker-index.js</a></p></li><li><p>vinyl-fsæ¨¡å—åˆ†æâ€”<a href="https://github.com/Jayantxu/gulp-source/tree/master/vinyl-fs" target="_blank" rel="noopener">vinyl-fs-index.js</a></p></li></ul><h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><p>æ­¤ç¯‡åˆ†ææœ‰å†…å®¹å€Ÿé‰´äºå‰è¾ˆçš„gulpæºç åˆ†æåšå®¢ï¼Œæ·±è¡¨æ„Ÿè°¢ï¼Œåœ¨æ­¤è¯´æ˜ï¼š</p><p><a href="https://www.cnblogs.com/vajoy/p/6349817.html" target="_blank" rel="noopener">gulpæºç è§£æ ç³»åˆ—</a></p><p>åŒæ—¶ä¹Ÿæ¨èä¸€ä¸ªæ”¶é›†ä¸°å¯Œgulpèµ„æ–™çš„GHé¡¹ç›®ï¼Œä½œä¸ºå­¦ä¹ ä¹‹ç”¨ï¼š</p><p><a href="https://github.com/Platform-CUF/use-gulp" target="_blank" rel="noopener">use-gulp</a></p><h2 id="å…³äºæˆ‘"><a href="#å…³äºæˆ‘" class="headerlink" title="å…³äºæˆ‘"></a>å…³äºæˆ‘</h2><p>ä½œè€…ï¼š JayantXu</p><p>é‚®ç®±ï¼š <a href="mailto:Jayant89@163.com" target="_blank" rel="noopener">Jayant89@163.com</a></p><p>ä¸ªäººåšå®¢ï¼š <a href="www.essssss.com">Jayantxu</a></p><p>Github(è‹¥å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©,æ„Ÿè°¢star)   - ï¼š<a href="https://github.com/Jayantxu/gulp-source" target="_blank" rel="noopener">GitHub</a> </p><p>ç¬¬ä¸€æ¬¡å†™æºç åˆ†æç³»åˆ—ï¼Œè‹¥æœ‰ä¸è¶³ä¹‹å¤„è¯·è°…è§£ï¼Œå¯¹ä»»ä½•å†…å®¹æœ‰æ‰€ç–‘é—®ï¼Œæ¬¢è¿è”ç³»æˆ‘ã€‚</p><hr><h2 id="gulp-index-jsçš„åˆ†æ"><a href="#gulp-index-jsçš„åˆ†æ" class="headerlink" title="gulp-index.jsçš„åˆ†æ:"></a>gulp-index.jsçš„åˆ†æ:</h2><h2 id="gulpåŸºæœ¬ä½¿ç”¨"><a href="#gulpåŸºæœ¬ä½¿ç”¨" class="headerlink" title="gulpåŸºæœ¬ä½¿ç”¨"></a>gulpåŸºæœ¬ä½¿ç”¨</h2><p><a href="https://www.gulpjs.com.cn/docs/api/" target="_blank" rel="noopener">gulp-apiä»‹ç»</a></p><h2 id="å…¥å£æ–‡ä»¶åˆ†æ"><a href="#å…¥å£æ–‡ä»¶åˆ†æ" class="headerlink" title="å…¥å£æ–‡ä»¶åˆ†æ"></a>å…¥å£æ–‡ä»¶åˆ†æ</h2><h2 id="ä¸€"><a href="#ä¸€" class="headerlink" title="ä¸€"></a>ä¸€</h2><p>å¯ä»¥åœ¨æœ¬æ–‡ä»¶ç›®å½•ä¸‹å¯»æ‰¾åˆ°index.jsï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹å…¶ä¸­éƒ½æœ‰ä»€ä¹ˆå†…å®¹ =&gt;</p><pre><code>&#39;use strict&#39;;var util = require(&#39;util&#39;); var Undertaker = require(&#39;undertaker&#39;);var vfs = require(&#39;vinyl-fs&#39;);var watch = require(&#39;glob-watcher&#39;);function Gulp() {  Undertaker.call(this);  // Bind the functions for destructuring  this.watch = this.watch.bind(this);  this.task = this.task.bind(this);  this.series = this.series.bind(this);  this.parallel = this.parallel.bind(this);  this.registry = this.registry.bind(this);  this.tree = this.tree.bind(this);  this.lastRun = this.lastRun.bind(this);}util.inherits(Gulp, Undertaker);Gulp.prototype.src = vfs.src;Gulp.prototype.dest = vfs.dest;Gulp.prototype.symlink = vfs.symlink;Gulp.prototype.watch = function(glob, opt, task) {};// Let people use this class from our instanceGulp.prototype.Gulp = Gulp;var inst = new Gulp();module.exports = inst;</code></pre><h2 id="äºŒ"><a href="#äºŒ" class="headerlink" title="äºŒ"></a>äºŒ</h2><p>è®©æˆ‘ä»¬ç”±ä¸Šåˆ°ä¸‹çš„çœ‹ä¸€éï¼š</p><p>å…¶ä¸­ï¼Œå£°æ˜äº†æ‰€éœ€è¦åŠ è½½çš„ä¾èµ–åŒ…</p><pre><code>// Nodeå†…éƒ¨utilæ¨¡å—ï¼Œæ˜¯Nodeä¸­ä¸€ä¸ªæ ¸å¿ƒçš„å·¥å…·å‡½æ•°æ¨¡å—var util = require(&#39;util&#39;); // æ‰§è¡Œä»»åŠ¡ç®¡ç†æœ‰å…³çš„é€»è¾‘,---&gt; gulp.task()var Undertaker = require(&#39;undertaker&#39;);// vinyl-fsæ¨¡å—: src/dest/symlinkvar vfs = require(&#39;vinyl-fs&#39;);// npmä¸­ä»‹ç»ä¸º ï¼š è§‚å¯Ÿå…¨å±€å¹¶åœ¨æ›´æ”¹æ—¶æ‰§è¡ŒåŠŸèƒ½ï¼Œå…·æœ‰ç”¨äºå»æŠ–åŠ¨å’Œæ’é˜Ÿçš„æ™ºèƒ½é»˜è®¤å€¼ã€‚var watch = require(&#39;glob-watcher&#39;);</code></pre><h2 id="ä¸‰"><a href="#ä¸‰" class="headerlink" title="ä¸‰"></a>ä¸‰</h2><p>æˆ‘ä»¬æ¥ä¸‹å»çœ‹ä¸€ä¸‹<strong>Gulp</strong>è¿™ä¸ªæ–¹æ³•ä¸­å®ç°äº†ä»€ä¹ˆåŠŸèƒ½</p><pre><code>function Gulp() {  // è½¬this,å°†Undertakerçš„æ–¹æ³•ç»‘å®šåˆ°thisä¸­  Undertaker.call(this);  // ç»‘å®šå‡½æ•°ä¸ºè§£æ„  this.watch = this.watch.bind(this);  this.task = this.task.bind(this);  this.series = this.series.bind(this);  this.parallel = this.parallel.bind(this);  this.registry = this.registry.bind(this);  this.tree = this.tree.bind(this);  this.lastRun = this.lastRun.bind(this);}</code></pre><p>æˆ‘ä»¬å¯ä»¥åœ¨æ­¤çœ‹åˆ°æˆ‘ä»¬æ‰€ç”¨åˆ°çš„gulp.task\gulp.seriesç­‰æ–¹æ³•éƒ½æ˜¯æ¥æºäº<font color="ff0000"><strong>undertaker</strong></font>è¿™ä¸ªæ¨¡å—</p><h2 id="å››"><a href="#å››" class="headerlink" title="å››"></a>å››</h2><pre><code>// ç»§æ‰¿,(æ„é€ å‡½æ•°,çˆ¶ç±»æ„é€ å‡½æ•°)util.inherits(Gulp, Undertaker);</code></pre><p>utilæ˜¯Nodeä¸­çš„æ ¸å¿ƒå·¥å…·å‡½æ•°æ¨¡å—ï¼Œå…¶ä¸­çš„inheritsæ˜¯å®ç°ç»§æ‰¿çš„ä¸€ç§æ–¹æ³•</p><p><a href="http://nodejs.cn/api/util.html#util_util_inherits_constructor_superconstructor" target="_blank" rel="noopener">Node-Api-util.inherits</a></p><p>å…¶ä¸­ä¼ å…¥çš„å‚æ•°ä¸º(å­ç±»æ„é€ å‡½æ•°, çˆ¶ç±»æ„é€ å‡½æ•°)</p><h2 id="äº”"><a href="#äº”" class="headerlink" title="äº”"></a>äº”</h2><pre><code>Gulp.prototype.src = vfs.src;Gulp.prototype.dest = vfs.dest;Gulp.prototype.symlink = vfs.symlink;Gulp.prototype.watch = function(glob, opt, task) {  // çœç•¥äº›è®¸ä»£ç ---åç»­æ¶‰åŠæ­¤éƒ¨åˆ†å°†å†æåŠ};// Let people use this class from our instanceGulp.prototype.Gulp = Gulp;</code></pre><p>ç¬¬äº”éƒ¨åˆ†çš„ä»£ç æ—¢æ˜¯å°†åœ¨Gulpçš„åŸå‹peototypeä¸Šå¢åŠ éƒ¨åˆ†æ–¹æ³•ï¼Œä¸”æ¥æºäº<font color="ff0000"><strong>vinyl-fs</strong></font>è¿™ä¸ªæ¨¡å—</p><h2 id="å…­"><a href="#å…­" class="headerlink" title="å…­"></a>å…­</h2><pre><code>var inst = new Gulp();module.exports = inst;</code></pre><p>æœ€åä¸€å—å³æ˜¯newä¸€ä¸ªGulpçš„å®ä¾‹ï¼Œå¹¶å°†å…¶æš´éœ²å‡ºæ¥ä¾›è°ƒç”¨ä½¿ç”¨</p><h2 id="ä¸ƒ"><a href="#ä¸ƒ" class="headerlink" title="ä¸ƒ"></a>ä¸ƒ</h2><p>ç”±æ­¤</p><p>æˆ‘ä»¬å¯ä»¥çŸ¥é“æˆ‘ä»¬éœ€è¦äº†è§£gulpçš„å†…éƒ¨æ‰§è¡Œæœºåˆ¶ä»¥åŠæµç¨‹ï¼Œæˆ‘ä»¬éœ€è¦å…³æ³¨äº</p><pre><code>undertakerã€vinyl-fsã€glob-watcher</code></pre><p>è¿™ä¸‰æ¨¡å—åˆ†åˆ«éƒ½å°†å®ç°ä»€ä¹ˆåŠŸèƒ½ã€‚</p><hr><h4 id="é¢˜å¤–-gt"><a href="#é¢˜å¤–-gt" class="headerlink" title="é¢˜å¤–-&gt;"></a>é¢˜å¤–-&gt;</h4><h5 id="util-inheritså®ç°äº†ä»€ä¹ˆï¼Ÿ"><a href="#util-inheritså®ç°äº†ä»€ä¹ˆï¼Ÿ" class="headerlink" title="util.inheritså®ç°äº†ä»€ä¹ˆï¼Ÿ"></a>util.inheritså®ç°äº†ä»€ä¹ˆï¼Ÿ</h5><pre><code>var util = require(&#39;util&#39;); function Base() {     this.name = &#39;base&#39;;     this.base = 1991;     this.sayHello = function() {     console.log(&#39;Hello &#39; + this.name);     }; } Base.prototype.showName = function() {     console.log(this.name);}; function Sub() {     this.name = &#39;sub&#39;; } util.inherits(Sub, Base); var objBase = new Base(); objBase.showName();  // baseobjBase.sayHello(); // Hello baseconsole.log(objBase);  // Base()var objSub = new Sub(); objSub.showName();  // sub// objSub.sayHello();  // is not a functionconsole.log(objSub);</code></pre><p>åœ¨ç½‘ä¸Šå¯»æ‰¾çš„æµ‹è¯•ï¼Œinheritsæ˜¯é€šè¿‡å°†çˆ¶ç±»æ„é€ å‡½æ•°çš„åŸå‹é“¾å¤åˆ¶åˆ°å­ç±»çš„åŸå‹é“¾ä¸Šï¼Œè¿›è€Œå®ç°çš„ç»§æ‰¿ï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿåªèƒ½ç»§æ‰¿åˆ°ç›¸åº”åŸå‹é“¾ä¸Šçš„æ–¹æ³•</p><pre><code>exports.inherits = function(ctor, superCtor) {  // ä¸€äº›å‚æ•°çš„åˆæ³•æ€§åˆ¤æ–­ï¼Œç•¥â€¦â€¦  ctor.super_ = superCtor;  ctor.prototype = Object.create(superCtor.prototype, {    constructor: {      value: ctor,      enumerable: false,      writable: true,      configurable: true    }  });};åŒæ—¶ç»§æ‰¿çš„å­ç±»ä¹Ÿå¯ä»¥é€šè¿‡super_è®¿é—®åˆ°çˆ¶ç±»çš„æ„é€ å‡½æ•°console.log(Sub.super_ === Base) // true</code></pre>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Gulp </tag>
            
            <tag> æºç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nodeè¯»å–å›¾ç‰‡å¹¶è½¬Base64</title>
      <link href="/2019/03/30/2019/Node%E8%AF%BB%E5%8F%96%E5%9B%BE%E7%89%87%E5%B9%B6%E8%BD%ACBase64/"/>
      <url>/2019/03/30/2019/Node%E8%AF%BB%E5%8F%96%E5%9B%BE%E7%89%87%E5%B9%B6%E8%BD%ACBase64/</url>
      
        <content type="html"><![CDATA[<p>Nodeä½œä¸ºåç«¯å¼€å‘æ—¶ï¼Œå¯ä»¥é‡‡ç”¨è¯»å–å›¾ç‰‡æ–‡ä»¶ï¼Œå¹¶è½¬ä¸ºbase64ç¼–ç ï¼Œä½¿å¾—å‰ç«¯å¾—åˆ°å±•ç¤º</p><p>è¿ç”¨åˆ°çš„æ¨¡å—åˆ†åˆ«æœ‰<strong>fs</strong>ã€<strong>path</strong>ã€<strong>mime-types</strong></p><p>mime-typeéœ€è¦é¢å¤–å®‰è£…ï¼Œå¯äºé¡¹ç›®æ ¹ç›®å½•è¿è¡Œï¼š</p><pre><code>npm install --save mime-type</code></pre><p>å¹¶ä¸”è€ƒè™‘åˆ°åç»­çš„è¯»å–è½¬åŒ–çš„éœ€è¦ï¼Œå¯å°†æ–¹æ³•ä½¿ç”¨promiseå¼‚æ­¥ï¼Œå¹¶ä¸”åœ¨æ•°é‡ä¸å®šæ—¶å¯ä»¥ä½¿ç”¨<em>promise.all()</em>è¿›è¡Œå¼‚æ­¥ç­‰å¾…</p><pre><code>const fs = require(&#39;fs&#39;)const path = require(&#39;path&#39;)const mineType = require(&#39;mime-types&#39;)module.exports = {  base64img: function (file) {    var base64imgpromise = new Promise(function (resolve, reject) {      var result      // åˆ¤æ–­ä¼ å…¥è·¯å¾„æ˜¯å¦ä¸ºç©ºï¼Œç©ºå³ä¸å­˜åœ¨      if (!file) {        result = &#39;&#39;        resolve(result)      }      // è½¬æ¢è·¯å¾„      file = path.join(__dirname, &#39;../&#39;, file)      let filePath = path.resolve(file)      fs.readFile(path.resolve(filePath), &#39;base64&#39;, function (err, data) {        if (err) {          console.log(err + &#39;è¯»å–é”™è¯¯&#39;)          result = {            code: &#39;1&#39;,            data: {            },            msg: &#39;æœåŠ¡å™¨å‡ºé”™&#39;          }          reject(result)        }        result = &#39;data:&#39; + mineType.lookup(filePath) + &#39;;base64,&#39; + data        resolve(result)      })    })    return base64imgpromise  }}</code></pre><p>å½“æœ€ç»ˆæˆ‘ä»¬å¾—åˆ°äº†base64ç¼–ç çš„å›¾ç‰‡åï¼Œæ—¢å¯ä»¥å‘é€å›å‰ç«¯ï¼Œå¯¹imgæ ‡ç­¾çš„srcè¿›è¡Œç»‘å®šbase64ï¼Œä»è€Œåœ¨å‰ç«¯é¡µé¢å±•ç¤º</p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gridå¸ƒå±€</title>
      <link href="/2019/03/26/2019/Grid%E5%B8%83%E5%B1%80/"/>
      <url>/2019/03/26/2019/Grid%E5%B8%83%E5%B1%80/</url>
      
        <content type="html"><![CDATA[<p>æ˜¨å¤©çœ‹è§é˜®å¤§ç¥çš„åšå®¢æ›´æ–°Gridå¸ƒå±€çš„ç›¸å…³çŸ¥è¯†æ€»ç»“ï¼Œå­¦ä¹ ç›¸å…³çš„çŸ¥è¯†ç‚¹</p><font><strong>åŸæ–‡é“¾æ¥ï¼š</strong></font> <a href="http://www.ruanyifeng.com/blog/2019/03/grid-layout-tutorial.html" target="_blank" rel="noopener">é˜®ä¸€å³°-Gridå¸ƒå±€</a><br><a id="more"></a><br><br><font><strong>ä¸ªäººç»ƒä¹ å°demoï¼š</strong></font><pre><code>&lt;!--    ç½‘æ ¼Gridå¸ƒå±€    --&gt;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;    &lt;title&gt;ç½‘æ ¼Gridå¸ƒå±€&lt;/title&gt;    &lt;style&gt;        *{            padding: 0;            margin: 0;        }        .container{            display: grid;    /*è¡Œå†…çš„gridå¸ƒå±€*/            grid-template-columns: 100px 100px 100px;            grid-template-rows: 100px 100px 100px;            grid-column-gap: 10px;            grid-row-gap: 10px;            justify-content: center;            grid-auto-flow: row;    /*å¸ƒå±€åŸºå‡†ï¼ŒæŒ‰è¡Œè¿˜æ˜¯åˆ—*/            /* grid-template-areas:&#39;header header header&#39;                                                    &#39;main main aside&#39;                                                    &#39;footer footer footer&#39;; */            /*            align-items:center è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„å‚ç›´ä½ç½®;            justify-items: è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„æ°´å¹³ä½ç½®;            place-items: åˆå¹¶ç®€å†™äº†ä¸Šè¿°ä¸¤ä¸ª;                        place-items: &lt;align-items&gt; &lt;justify-items&gt;;             */            /*             align-content: è®¾ç½®æ•´ä¸ªå†…å®¹åŒºåŸŸåœ¨gridå®¹å™¨é‡Œçš„å‚ç›´ä½ç½®;            justify-content: è®¾ç½®æ•´ä¸ªå†…å®¹åŒºåŸŸåœ¨gridå®¹å™¨é‡Œçš„æ°´å¹³ä½ç½®;            place-content: åˆå¹¶å‰ä¸¤è€…; */        }        .item-a{            background-color: pink;            /*ä»ç¬¬å‡ æ¡ç½‘æ ¼çº¿å¼€å§‹ï¼Œåˆ°ç¬¬å‡ æ¡ç½‘æ ¼çº¿ç»“æŸ*/            grid-column-start: 1;            /*å·¦è¾¹æ¡†çš„èµ·å§‹çº¿*/            grid-column-end: 3;            /* å³è¾¹æ¡†çš„ç»“æŸçº¿ */            /* åŒç†æœ‰ä¸Šä¸‹ï¼šgrid-row-start; grid-row-end */            /* justify-self: è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„æ°´å¹³ä½ç½®;ä¸justice-itemsä½œç”¨ä¸€è‡´,ä½†åªæ§åˆ¶å•ä¸ªé¡¹ç›®;            align-self: è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„å‚ç›´ä½ç½®;ä¸align-itemsä½œç”¨ä¸€è‡´,ä½†åªæ§åˆ¶å•ä¸ªé¡¹ç›®;            place-self: å‰ä¸¤è€…çš„åˆå¹¶å†™æ³•; */        }        .item-b{            background-color: red;        }        .item-c{            background-color: blue;            /*ç¼©å†™ç‰ˆï¼šä»ç¬¬å‡ æ¡å¼€å§‹ï¼Œåˆ°ç¬¬å‡ æ¡ç»“æŸ*/            grid-row: 2/4;        }        .item-d{            background-color: yellow;            grid-column: 2/4;        }        .item-e{            background-color: black;            color: white;        }        .item-f{            background-color: grey;        }    &lt;/style&gt;&lt;/head&gt;&lt;body&gt;    &lt;span&gt;foo&lt;/span&gt;    &lt;div class=&#39;container&#39;&gt;        &lt;div class=&quot;item-a&quot;&gt;item-a&lt;/div&gt;        &lt;div class=&quot;item-b&quot;&gt;item-b&lt;/div&gt;        &lt;div class=&quot;item-c&quot;&gt;item-c&lt;/div&gt;        &lt;div class=&quot;item-d&quot;&gt;item-d&lt;/div&gt;        &lt;div class=&quot;item-e&quot;&gt;item-d&lt;/div&gt;        &lt;div class=&quot;item-f&quot;&gt;item-d&lt;/div&gt;    &lt;/div&gt;    &lt;span&gt;bar&lt;/span&gt;&lt;/body&gt;&lt;/html&gt;</code></pre><p><img src="/2019/03/26/2019/Gridå¸ƒå±€/Gridå¸ƒå±€.png" alt="Gridå¸ƒå±€" title="Gridå¸ƒå±€"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> å¸ƒå±€ </tag>
            
            <tag> è½¬è½½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é˜»æ­¢å†’æ³¡ã€é»˜è®¤äº‹ä»¶</title>
      <link href="/2019/03/03/2019/%E9%98%BB%E6%AD%A2%E5%86%92%E6%B3%A1%E3%80%81%E9%BB%98%E8%AE%A4%E4%BA%8B%E4%BB%B6/"/>
      <url>/2019/03/03/2019/%E9%98%BB%E6%AD%A2%E5%86%92%E6%B3%A1%E3%80%81%E9%BB%98%E8%AE%A4%E4%BA%8B%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p>å–æ¶ˆå†’æ³¡ï¼š</p><p>w3cçš„æ–¹æ³•æ˜¯e.stopPropagationï¼ŒIEä¸ºe.cancelBubble = true<br>window.event ? window.event.cancelBubble = true : e.stopPropagation</p><p>å–æ¶ˆé»˜è®¤ï¼š</p><p>w3cçš„æ–¹æ³•æ˜¯e.prcentDefault()ï¼ŒIEä¸ºe.returnValue = false<br>return false;</p><pre><code>&lt;script&gt;  function stopBubble (e) {    if(e &amp;&amp; e.stopPropagation) {      e.stopPropagation();    } else {      window.event.cancelBubble = true;    }  }  function stopDefault (e) {    if(e &amp;&amp; e.prventDefault) {      e.prventDefault();    } else {      window.event.returnValue = false;      return false;    }  }&lt;/script&gt;</code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSSæ¸…é™¤æµ®åŠ¨çš„å‡ ç§æ–¹å¼</title>
      <link href="/2019/03/03/2019/CSS%E6%B8%85%E9%99%A4%E6%B5%AE%E5%8A%A8/"/>
      <url>/2019/03/03/2019/CSS%E6%B8%85%E9%99%A4%E6%B5%AE%E5%8A%A8/</url>
      
        <content type="html"><![CDATA[<p>2019-3-3æ›´æ–°<br><a id="more"></a></p><font color="#ff0000"><strong>æµ®åŠ¨æ•ˆæœé‡ç°</strong></font><pre><code>  .parent {    padding:10px;    width:1000px;    background: red;  }  .child {    float: left;    margin-right: 10px;    width: 50px;    height: 50px;    background: green;  }&lt;!-- æµ®åŠ¨æ•ˆæœ --&gt;    &lt;div class=&quot;parent&quot;&gt;        &lt;div class=&quot;child&quot;&gt; child&lt;/div&gt;        &lt;div class=&quot;child&quot;&gt; child&lt;/div&gt;        &lt;div class=&quot;child&quot;&gt; child&lt;/div&gt;    &lt;/div&gt;</code></pre><p>å›¾ï¼š<br><img src="/2019/03/03/2019/CSSæ¸…é™¤æµ®åŠ¨/æµ®åŠ¨é‡ç°.png" alt="æµ®åŠ¨é‡ç°" title="æµ®åŠ¨é‡ç°"></p><font color="#ff0000"><strong>æ¸…é™¤æµ®åŠ¨çš„æ–¹å¼1 clear:both</strong></font><pre><code>/*æ¸…é™¤æµ®åŠ¨æ–¹å¼1 clear:both*/        .parent1 {            padding:10px;            width:1000px;            margin-top: 50px;            background: red;        }        .child1 {            float: left;            margin-right: 10px;            width: 50px;            height: 50px;            background: green;        }        .clear1 {            clear: both;        }    &lt;!-- æ¸…é™¤æµ®åŠ¨çš„æ–¹å¼1,ä½¿ç”¨é¢å¤–æ ‡ç­¾clear:both --&gt;    &lt;div class=&quot;parent1&quot;&gt;      &lt;div class=&quot;child1&quot;&gt; child&lt;/div&gt;      &lt;div class=&quot;child1&quot;&gt; child&lt;/div&gt;      &lt;div class=&quot;child1&quot;&gt; child&lt;/div&gt;      &lt;div class=&quot;clear1&quot;&gt;&lt;/div&gt;    &lt;/div&gt;</code></pre><p>å›¾ï¼š</p><p><img src="/2019/03/03/2019/CSSæ¸…é™¤æµ®åŠ¨/è§£å†³æµ®åŠ¨çš„æ–¹å¼1.png" alt="è§£å†³æµ®åŠ¨çš„æ–¹å¼1" title="è§£å†³æµ®åŠ¨çš„æ–¹å¼1"></p><font color="#ff0000"><strong>æ¸…é™¤æµ®åŠ¨çš„æ–¹å¼2 overflow: hidden</strong></font><pre><code>/* æ¸…é™¤æµ®åŠ¨æ–¹å¼2,overflow*/        .parent2 {            padding:10px;            width:1000px;            overflow: hidden;            margin-top: 50px;            background: red;        }        .child2 {            float: left;            margin-right: 10px;            width: 50px;            height: 50px;            background: green;        }    &lt;!-- æ¸…é™¤æµ®åŠ¨æ–¹å¼2,ä½¿ç”¨overflowå±æ€§,å®šä¹‰äº†overflowåï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨æ£€æŸ¥æµ®åŠ¨åŒºåŸŸé«˜åº¦ --&gt;    &lt;div class=&quot;parent2&quot;&gt;      &lt;div class=&quot;child2&quot;&gt; child&lt;/div&gt;      &lt;div class=&quot;child2&quot;&gt; child&lt;/div&gt;      &lt;div class=&quot;child2&quot;&gt; child&lt;/div&gt;      &lt;!-- ä¸èƒ½å’Œpositioné…åˆä½¿ç”¨ --&gt;    &lt;/div&gt;</code></pre><p>å›¾ï¼š</p><p><img src="/2019/03/03/2019/CSSæ¸…é™¤æµ®åŠ¨/è§£å†³æµ®åŠ¨çš„æ–¹å¼1.png" alt="è§£å†³æµ®åŠ¨çš„æ–¹å¼1" title="è§£å†³æµ®åŠ¨çš„æ–¹å¼1"></p><font color="#ff0000"><strong>æ¸…é™¤æµ®åŠ¨çš„æ–¹å¼3 å®šä¹‰çˆ¶å…ƒç´ ä¼ªç±»afteræ¸…é™¤æµ®åŠ¨</strong></font><pre><code>/* æ¸…é™¤æµ®åŠ¨æ–¹å¼3,:after*/        .parent3 {            padding:10px;            background: red;            margin-top: 50px;        }        .parent3:after {            content: &#39;&#39;;            display: block;            clear: both;        }        .child3 {            float: left;            margin-right: 10px;            width: 50px;            height: 50px;            background: green;        }&lt;!-- ä½¿ç”¨ä¼ªå…ƒç´ æ¸…é™¤æµ®åŠ¨:after --&gt;    &lt;div class=&quot;parent3&quot;&gt;        &lt;div class=&quot;child3&quot;&gt; child&lt;/div&gt;        &lt;div class=&quot;child3&quot;&gt; child&lt;/div&gt;        &lt;div class=&quot;child3&quot;&gt; child&lt;/div&gt;    &lt;/div&gt;</code></pre><p><img src="/2019/03/03/2019/CSSæ¸…é™¤æµ®åŠ¨/è§£å†³æµ®åŠ¨çš„æ–¹å¼1.png" alt="è§£å†³æµ®åŠ¨çš„æ–¹å¼1" title="è§£å†³æµ®åŠ¨çš„æ–¹å¼1"></p><hr><p>2019-2-2</p><p>ç»å¸¸åœ¨å„ç§å‰ç«¯é¢è¯•é¢˜ä¸­å‡ºç°ï¼Œä»Šå¤©å°±å°†åŸæœ¬CSDNåšå®¢ä¸Šæ€»ç»“çš„æ¸…é™¤æµ®åŠ¨çš„æ–¹å¼å†æ¬¡å›é¡¾å¹¶ä¸”æ¬è¿è¿‡æ¥</p><font color="ff0000"><strong>1</strong></font><p>å®šä¹‰ä¼ªç±»æ¸…é™¤</p><pre><code>.clearfloat:after {   display: block;  clear: both;  content: &quot;&quot;;  visibility: hidden;  height: 0}</code></pre><font color="ff0000"><strong>2</strong></font><p>å®šä¹‰ç©ºdivè¿›è¡Œclear</p><pre><code>.clearfloat {   clear: both}</code></pre><font color="ff0000"><strong>3</strong></font><p>ä¸ºçˆ¶å…ƒç´ è®¾ç½®é«˜åº¦</p><pre><code>.div1 {  background: #000080;  border: 1px solid red;/*è§£å†³ä»£ç */  height: 200px;}</code></pre><font color="ff0000"><strong>4</strong></font><p>ä¸ºçˆ¶å…ƒç´ è®¾ç½®overflow:hidden</p><pre><code>.div1 {  background: #000080;  border: 1px solid red;/*è§£å†³ä»£ç */  width: 98%;  overflow: hidden}</code></pre><font color="ff0000"><strong>5</strong></font><p>çˆ¶å…ƒç´ ä¸€å¹¶æµ®åŠ¨</p><pre><code>.div1 {  background: #000080;  border: 1px solid red;/*è§£å†³ä»£ç */  width: 98%;  margin-bottom: 10px;  float: left}</code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>marginé‡å ä»¥åŠè§£å†³åŠæ³•</title>
      <link href="/2019/03/01/2019/margin%E9%87%8D%E5%8F%A0%E4%BB%A5%E5%8F%8A%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/"/>
      <url>/2019/03/01/2019/margin%E9%87%8D%E5%8F%A0%E4%BB%A5%E5%8F%8A%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>å…ˆé‡ç°ä¸€éä¸¤ä¸ªå—çº§å…ƒç´ åœ¨ä¸Šä¸‹marginæ–¹å‘çš„é‡å ç°è±¡<br><a id="more"></a></p><pre><code>&lt;!-- é‡ç°æµ®åŠ¨ --&gt;/* é‡ç°æµ®åŠ¨*/.contain {    color: #fff;}.first {    margin-bottom:20px;    padding-left: 10px;    height: 200px;    width: 200px;    background-color: black;}.second {    margin-top: 20px;    height: 200px;    width: 200px;    background-color: red;}&lt;div class=&quot;contain&quot;&gt;    &lt;div class=&quot;first&quot;&gt;first &lt;/div&gt;    &lt;div class=&quot;second&quot;&gt;second  &lt;/div&gt;&lt;/div&gt;</code></pre><p><img src="/2019/03/01/2019/marginé‡å ä»¥åŠè§£å†³åŠæ³•/marginé‡ç°.png" alt="marginé‡ç°" title="marginé‡ç°"></p><p>æ­¤å¤„æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå½“ç¬¬ä¸€ä¸ª(first)æ‹¥æœ‰çš„margin-bottomï¼š20px;ä¸ç¬¬äºŒä¸ª(second)divå—æ‰€æ‹¥æœ‰çš„margin-top:20px;å åŠ åœ¨äº†ä¸€å—</p><p>è€Œæˆ‘ä»¬æ ¹æ®BFCï¼ˆå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼‰æˆ‘ä»¬å¯ä»¥åœ¨å¿…è¦æ—¶å€™æœ‰æ•ˆé¿å…è¿™ç§ç°è±¡å¯¹äºæˆ‘ä»¬å¸ƒå±€çš„å½±å“<br>è€Œæˆ‘ä»¬åˆ›å»ºBFCçš„æ¡ä»¶æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š</p><ul><li>floatä¸æ˜¯noneï¼Œä½¿è¯¥å…ƒç´ æµ®åŠ¨èµ·æ¥</li><li>positionçš„å€¼ä¸æ˜¯staticæˆ–è€…relative</li><li>displayçš„å€¼æ˜¯inline-blockï¼Œtable-cellï¼Œ flexï¼Œtable-captionï¼Œ inline-flex</li><li>overflowä¸æ˜¯visible</li></ul><p>BFCçš„ç‰¹å¾ï¼š</p><ul><li>æ‰€æœ‰å­å…ƒç´ åŒ…æ‹¬æµ®åŠ¨å…ƒç´ ï¼Œä¸å®¹å™¨å·¦è¾¹å¯¹é½</li><li>å±äºåŒä¸€ä¸ªBFCçš„çˆ¶å…ƒç´ ä¸å­å…ƒç´ ï¼Œç›¸é‚»çš„<strong>çˆ¶å­</strong>æˆ–è€…<strong>å…„å¼Ÿ</strong>é—´çš„marginå‚ç›´æ–¹å‘ä¼šé‡å ï¼Œ<strong>è‹¥ä¸¤ä¸ªå…ƒç´ å±äºä¸åŒBFC</strong>ï¼Œåˆ™å‚ç›´æ–¹å‘ä¸Šä¸é‡å </li><li>å¯ä»¥æ’‘å¼€å®¹å™¨ï¼ˆè‹¥å­å…ƒç´ æ˜¯floatï¼Œåˆ™çˆ¶å…ƒç´ è®¾ç½®overflowï¼šhiddenï¼Œçˆ¶å…ƒç´ å°±å½¢æˆä¸€ä¸ªBFC</li></ul><p>å› æ­¤æˆ‘ä»¬å®è·µå°è¯•å¦‚ä½•ä½¿ç”¨å½¢æˆBFCè§£å†³marginé‡å æ‰€å¸¦æ¥çš„å½±å“</p><font color="#ff0000"><strong>ä¸€</strong></font><pre><code>/* æ¸…é™¤marginæ–¹å¼1*/.contain1 {    color: #fff;}.first1 {    margin-bottom:20px;    padding-left: 10px;    height: 200px;    width: 200px;    background-color: yellow;}.second1 {    margin-top: 20px;    height: 200px;    width: 200px;    background-color: blue;}&lt;!-- æ¸…é™¤ï¼Œmarginé‡å æ–¹å¼1 é€šè¿‡æ–°å¢çˆ¶å…ƒç´ ï¼Œå½¢æˆä¸€ä¸ªæ–°çš„BFCå— --&gt;&lt;div class=&quot;contain1&quot;&gt;    &lt;div class=&quot;first1&quot;&gt; first 1&lt;/div&gt;    &lt;div style=&quot;overflow:hidden;&quot;&gt;        &lt;div class=&quot;second1&quot;&gt; second1&lt;/div&gt;    &lt;/div&gt;&lt;/div&gt;</code></pre><p>æ•ˆæœï¼š<br><img src="/2019/03/01/2019/marginé‡å ä»¥åŠè§£å†³åŠæ³•/marginé‡å è§£å†³æ–¹å¼1.png" alt="marginé‡å è§£å†³æ–¹å¼1" title="marginé‡å è§£å†³æ–¹å¼1"></p><p>æˆ‘ä»¬ä¸ºsecondå—å…ƒç´ ï¼Œæ–°å¢ä¸€ä¸ªçˆ¶å…ƒç´ ï¼Œå¹¶ä¸”è®¾ç½®å…¶overflowï¼ŒæˆåŠŸä½¿å¾—first1ä¸second1åˆ†åˆ«å½’å±ä¸åŒçš„BFCå—ï¼Œä»è€Œç»“å±€marginé‡å é—®é¢˜ã€‚</p><font color="#ff0000"><strong>äºŒ</strong></font><pre><code>/* æ¸…é™¤marginæ–¹å¼2*/.contain2 {    color: #fff;    width: 200px;}.first2 {    margin-bottom:20px;    padding-left: 10px;    height: 200px;    width: 200px;    background-color: red;}.second2 {    margin-top: 20px;    height: 200px;    width: 200px;    background-color: blue;}&lt;!-- æ¸…é™¤marginé‡å æ–¹å¼2ï¼Œå­å…ƒç´ æµ®åŠ¨ :ç›¸é‚»çš„å­å…ƒç´ éƒ½æµ®åŠ¨ï¼Œæˆ–è€…ä¸‹é¢çš„é‚£ä¸ªæµ®åŠ¨--&gt;&lt;div class=&quot;contain2&quot;&gt;    &lt;div class=&quot;first2&quot;&gt; first 2&lt;/div&gt;    &lt;div class=&quot;second2&quot; style=&quot;float: left;&quot;&gt; second 2&lt;/div&gt;        &lt;/div&gt;</code></pre><p>æˆ‘ä»¬ä½¿å¾—ç›¸é‚»å…„å¼Ÿå…ƒç´ æµ®åŠ¨çš„å½¢å¼ï¼Œæ»¡è¶³floatä¸ç­‰äºnoneï¼Œä»è€Œä½¿å¾—second2å½¢æˆä¸€ä¸ªæ–°çš„BFCå—ï¼Œè€Œè§£å†³marginé‡å çš„é—®é¢˜</p><p>æ•ˆæœï¼š<br><img src="/2019/03/01/2019/marginé‡å ä»¥åŠè§£å†³åŠæ³•/marginé‡å è§£å†³æ–¹å¼2.png" alt="marginé‡å è§£å†³æ–¹å¼2" title="marginé‡å è§£å†³æ–¹å¼2"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> CSS </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSSçœç•¥å·å®ç°</title>
      <link href="/2019/03/01/2019/CSS%E7%9C%81%E7%95%A5%E5%8F%B7%E5%AE%9E%E7%8E%B0/"/>
      <url>/2019/03/01/2019/CSS%E7%9C%81%E7%95%A5%E5%8F%B7%E5%AE%9E%E7%8E%B0/</url>
      
        <content type="html"><![CDATA[<font><strong>ä¸€</strong></font><a id="more"></a><pre><code>&lt;div class=&quot;contain&quot;&gt;    &lt;p class=&quot;contain-1&quot;&gt;å¾ˆå¤šå¾ˆå¤šå¾ˆå¤šå¾ˆå¤šå¾ˆå¤šå¾ˆå¤šå¾ˆå¤šæ–‡å­—[è¦æœ‰å›ºå®šå®½åº¦]&lt;/p&gt;    &lt;p class=&quot;contain-2&quot;&gt;        å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬        [æ­¤è®¾å®šä¸é€‚åˆå¤šè¡Œæ–‡æœ¬]    &lt;/p&gt;&lt;/div&gt;</code></pre><pre><code>.contain-1 {    overflow: hidden;    white-space: nowrap;    text-overflow: ellipsis;}.contain-2 {    overflow: hidden;    white-space:white-space;    text-overflow: ellipsis;}</code></pre><p>å¯ä»¥å…³æ³¨text-overflowï¼šellipsisï¼›å±æ€§ï¼Œæ­¤å±æ€§é’ˆå¯¹å•è¡Œæ–‡æœ¬çš„æœ«å°¾æ˜¾ç¤ºçœç•¥å·</p><p>å¦‚å›¾ï¼š<br><img src="/2019/03/01/2019/CSSçœç•¥å·å®ç°/CSSçœç•¥å·å®ç°1.png," alt="CSSçœç•¥å·å®ç°1.png" title="CSSçœç•¥å·å®ç°1.png"></p><font><strong>äºŒ</strong></font><p>å½“ç›®æ ‡æµè§ˆå™¨å†…æ ¸æ˜¯webkitã€æˆ–ç§»åŠ¨ç«¯ä¸ºä¸»æ—¶ï¼Œå¯é‡‡ç”¨é’ˆå¯¹webkitçš„ç§æœ‰å±æ€§</p><pre><code>-webkit-box-orient:vertical;-webkit-line-clamp:2;</code></pre><pre><code>&lt;div class=&quot;contain1&quot;&gt;    &lt;p class=&quot;contain1-1&quot;&gt;å¾ˆå¤šå¾ˆå¤šå¾ˆå¤šå¾ˆå¤šå¾ˆå¤šå¾ˆå¤šå¾ˆå¤šæ–‡å­—&lt;/p&gt;    &lt;p class=&quot;contain1-2&quot;&gt;        å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬        [æœ‰é€‚ç”¨èŒƒå›´,ä»…é€‚ç”¨äºwebkitæµè§ˆå™¨åŠç§»åŠ¨ç«¯]    &lt;/p&gt;&lt;/div&gt;</code></pre><pre><code>.contain1 {    width:200px;    height: 200px;    background-color: grey;}.contain1-1 {    display: -webkit-box;    -webkit-box-orient:vertical;    -webkit-line-clamp:1;    overflow: hidden;}.contain1-2 {    display: -webkit-box;    -webkit-box-orient:vertical;    -webkit-line-clamp:2;    overflow: hidden;}</code></pre><p>å¯é’ˆå¯¹webkitå†…æ ¸çš„æµè§ˆå™¨ä»¥åŠç§»åŠ¨ç«¯æµè§ˆå™¨è¿›è¡Œçœç•¥å·å¸ƒå±€</p><p>å¦‚å›¾:<br><img src="/2019/03/01/2019/CSSçœç•¥å·å®ç°/CSSçœç•¥å·å®ç°2.png," alt="CSSçœç•¥å·å®ç°2.png" title="CSSçœç•¥å·å®ç°2.png"></p><font><strong>ä¸‰</strong></font><p>ä½¿ç”¨ä¼ªå…ƒç´ é—®é¢˜</p><pre><code>&lt;div class=&quot;contain2&quot;&gt;    &lt;p &gt;        å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬å¤šè¡Œæ–‡æœ¬[åˆ©ç”¨ä¼ªå…ƒç´ ,é€‚ç”¨æ€§å¹¿,åœ¨æ–‡å­—æœªè¶…è¡Œçš„æƒ…å†µä¸‹ä¹Ÿä¼šå‡ºç°çœç•¥å·]    &lt;/p&gt;&lt;/div&gt;</code></pre><pre><code>.contain2 {    width:200px;    height: 200px;    background-color: grey;}.contain2 p {    position: relative;    /*éœ€è¦é¢å¤–æ³¨æ„line-heightå’Œmax-heightéœ€è¦æ—¶line-heightçš„æ•´æ•°å€,å¦åˆ™ä¼šé€ æˆè¶…å‡ºæ–‡å­—æ˜¾ç¤ºä¸€åŠçš„æƒ…å†µ,å¦å¤–å¦‚æœæ²¡æœ‰è¿™ä¸¤ä¸ªå…ƒç´ ,è§†è§‰ä¸Šä¼šæœ‰â€œæ— è®ºä»€ä¹ˆæƒ…å†µéƒ½å¸¦çœç•¥å·çš„æƒ…å†µâ€*/    line-height:20px;    max-height: 40px;    overflow: hidden;}.contain2 p::after {    content: &quot;...&quot;;    position:absolute;    bottom:0;    right:0;    padding-left:20px;    background:linear-gradient(to right,transparent,grey 55%);}</code></pre><p>å¦‚å›¾:</p><p><img src="/2019/03/01/2019/CSSçœç•¥å·å®ç°/CSSçœç•¥å·å®ç°3.png," alt="CSSçœç•¥å·å®ç°2.png" title="CSSçœç•¥å·å®ç°2.png"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gulpå¢é‡ç¼–è¯‘ä¼˜åŒ–</title>
      <link href="/2019/02/21/2019/Gulp%E5%A2%9E%E9%87%8F%E7%BC%96%E8%AF%91%E4%BC%98%E5%8C%96/"/>
      <url>/2019/02/21/2019/Gulp%E5%A2%9E%E9%87%8F%E7%BC%96%E8%AF%91%E4%BC%98%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<p>æ€»ç»“18å¹´12æœˆGulpå¢é‡ç¼–è¯‘ä¼˜åŒ–</p><p>å®ä¹ æ—¶å€™ï¼Œæœ‰ä¸€å¤©ï¼Œç…§å¸¸è¿›è¡Œå¼€å‘çš„æ—¶å€™ï¼Œåœ¨ç­‰å¾…é¡¹ç›®è¿è¡Œgulpæ„å»ºå‘½ä»¤ä¹‹åï¼Œç­‰å¾…ç€æ„å»ºçš„å®Œæˆâ€¦</p><p>è¿™æ—¶å€™å¯¼å¸ˆçœ‹äº†ä¸€çœ¼ï¼Œè¯´ï¼šâ€œæ˜¯ä¸æ˜¯è§‰å¾—å¾ˆæ…¢å’§ï¼Œèƒ½ä¼˜åŒ–ä¸€ä¸‹å°±å¥½äº†â€ã€‚</p><p>æ˜¯å‘€ï¼Œæ¯æ¬¡åå‡ ç§’çš„ç­‰å¾…ï¼ŒçœŸçš„æ˜¯å¾ˆæ¼«é•¿çš„å’§</p><a id="more"></a><p><img src="/2019/02/21/2019/Gulpå¢é‡ç¼–è¯‘ä¼˜åŒ–/gulpå¢é‡ç¼–è¯‘3.png" alt="gulpå¢é‡ç¼–è¯‘3.png" title="gulpå¢é‡ç¼–è¯‘3.png"></p><p>ä¹Ÿå°±æ˜¯è¿™æ ·ä¸€å¥è¯ï¼Œæˆ‘æƒ³é—²ä¸‹æ¥çš„æ—¶é—´å¯ä»¥è¯•ä¸€è¯•å˜›ï¼Œåæ­£è¿‘æœŸéœ€æ±‚ä¹Ÿä¸ä¼šå¤ªè¿‡å¿™ç¢Œï¼Œè€Œä¸”Gulpç›¸å…³çš„å‘½ä»¤ä¹Ÿä¸ç®—å¤šï¼Œä¹Ÿå°±æ˜¯å¦‚æ­¤ï¼Œå¼€å§‹äº†Gulpçš„é‡æ–°å¤ä¹ ã€‚</p><p><strong><font color="ff0000">å¼€å§‹å•¦~</font></strong></p><p>å…ˆåˆ†æäº†é¡¹ç›®çš„gulpfile.jsæ„å»ºè¿‡ç¨‹</p><p><img src="/2019/02/21/2019/Gulpå¢é‡ç¼–è¯‘ä¼˜åŒ–/gulpå¢é‡ç¼–è¯‘1.png" alt="gulpå¢é‡ç¼–è¯‘1" title="gulpå¢é‡ç¼–è¯‘1"></p><p>å¯ä»¥çœ‹åˆ°é¡¹ç›®åŸå…ˆè¿›è¡Œäº†gulp.taskçš„æ§åˆ¶ï¼Œå¹¶å°†ä¾æ¬¡è¿›è¡ŒarrTaskä¸­çš„ä»»åŠ¡</p><p>è€Œåœ¨â€™clean_buildâ€™ä¸­ï¼Œgulpå°†ä¼šæ¸…ç©ºbuildæ‰“åŒ…åçš„æ–‡ä»¶ï¼Œè¿™æ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºæˆ‘ä»¬å»ºç«‹èµ·æ¥çš„å¢é‡ç¼–è¯‘é€»è¾‘æ˜¯ï¼š</p><pre><code>æˆ‘ä»¬éœ€è¦ä¸æœªåšæ”¹å˜çš„æ–‡ä»¶è¿›è¡Œæ¯”è¾ƒï¼Œç„¶ååˆ¤æ–­æˆ‘ä»¬æ˜¯å¦ä¿®æ”¹äº†è¯¥æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™å°†è¿›è¡Œè¯¥æ–‡ä»¶çš„å¤„ç†ï¼Œå¦‚æœä¸æ˜¯ï¼Œé‚£æˆ‘ä»¬å°±ä¸éœ€è¦å¤„ç†è¯¥æ–‡ä»¶ï¼Œè¿™æ ·ä¾¿å¯ä»¥çœå»å¾ˆå¤šé‡å¤å¤„ç†çš„æ—¶é—´</code></pre><p>æ¥ä¸‹æ¥æˆ‘ä»¬æŠ½å‡ºä¸€æ®µå…¬å…±ä»£ç åˆ†æä¸æŸ¥çœ‹å…¶æ„å»ºåŸç†</p><pre><code>gulp.task(&#39;css_comm&#39;, function() {  return gulp.src([&#39;1.css&#39;,&#39;2.min.css&#39;,&#39;3.css&#39;,&#39;4.css&#39;])        .pipe(concat(&#39;5.css&#39;)) // åˆå¹¶common.css        .pipe(rev())    // åŠ MD5åç¼€        .pipe(cleanCss())   //å‹ç¼©css        .pipe(gulp.dest(&#39;./build/css&#39;)) // å‹ç¼©å®Œ        .pipe(rev.manifest())        .pipe(gulp.dest(&#39;./rev/css&#39;));});</code></pre><p>çœ‹å®Œä»£ç ï¼Œé‚£æ—¶å€™å°±æƒ³åš¯ï¼Œè¦æ˜¯æˆ‘ä»¬åˆæ­¥åœ¨æ¯ä¸€æ¬¡åˆå¹¶ï¼Œ<font color="ff0000"><strong>æœªåŠ MDæˆ³</strong></font>ä¹‹å‰ï¼Œä»¥åŠ<font color="ff0000"><strong>æœªç»å‹ç¼©</strong></font>ç­‰æ“ä½œå‰å¯¹ä¸Šä¸€æ¬¡çš„æ„å»ºæ–‡ä»¶è¿›è¡Œæ¯”è¾ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æŠ‰æ‹©å‡ºæ˜¯å¦ç»§ç»­å¯¹è¯¥æ–‡ä»¶è¿›è¡Œæ„å»ºï¼Œè¿™æ ·å°±å¯ä»¥è¾¾åˆ°æˆ‘ä»¬è‡ªåŠ¨è¯†åˆ«æ„å»ºçš„ç›®çš„äº†ã€‚</p><p>å› æ­¤æ–°å»ºäº†ä¸€ä¸ªbeforebuildæ–‡ä»¶å¤¹ä½œä¸ºä¸­è½¬æ–‡ä»¶å¤¹ç”¨äºå‹ç¼©ï¼ŒåŠ æˆ³ä¹‹å‰è¿›è¡Œçš„æ¯”è¾ƒä½œç”¨</p><p><img src="/2019/02/21/2019/Gulpå¢é‡ç¼–è¯‘ä¼˜åŒ–/gulpå¢é‡ç¼–è¯‘4.png" alt="gulpå¢é‡ç¼–è¯‘4" title="gulpå¢é‡ç¼–è¯‘4"></p><p><img src="/2019/02/21/2019/Gulpå¢é‡ç¼–è¯‘ä¼˜åŒ–/gulpå¢é‡ç¼–è¯‘5.png" alt="gulpå¢é‡ç¼–è¯‘5" title="gulpå¢é‡ç¼–è¯‘5"></p><p>äºæ˜¯å¯»æ‰¾ç›¸åº”æ˜¯å¦æœ‰å®ç°æ­¤æ¯”è¾ƒåŠŸèƒ½çš„gulpåŒ…ï¼Œåœ¨npmä¸Šæ‰¾åˆ°ä¸€ä¸ª<font color="ff0000"><strong>gulp-changed</strong></font><br>å…¶ç”¨æ³•å¦‚ä¸‹ï¼š</p><pre><code>å…¶ä¸­çš„hasChangedå¯ä»¥æ ¹æ®ä¸‹åˆ—ä¸‰é¡¹åšæ¯”è¾ƒchanged.compareLastModifiedTimechanged.compareContentschanged.compareSha1Digest (Deprecated)å¯ä»¥å¯¹å†…å®¹ï¼Œæœ€åä¿®æ”¹æ—¶é—´ç­‰æ–¹å¼å¯¹æ–‡ä»¶ä½œæ¯”è¾ƒï¼Œä»è€Œåˆ¤æ–­æ˜¯å¦ä¿®æ”¹è¿‡æ–‡ä»¶ã€‚</code></pre><font color="ff0000"><em>ä¿®æ”¹ï¼š</em></font><br><code>gulp.task(&#39;css_comm&#39;, function() {  return gulp.src([&#39;1.css&#39;,&#39;2.min.css&#39;,&#39;3.css&#39;,&#39;4.css&#39;])        .pipe(concat(&#39;5.css&#39;)) // åˆå¹¶common.css        .pipe(changed(&#39;./beforebuild/6.css&#39;,{hasChanged: changed.compareLastModifiedTime})) //å¯¹æ¯”ä¸­è½¬beforebuildä¸­çš„6.css        .pipe(gulp.dest(&#39;./beforebuild/6.css&#39;)) // å…ˆè¾“å‡ºä¸€é        .pipe(rev())    // åŠ MD5åç¼€        .pipe(cleanCss())   //å‹ç¼©css        .pipe(gulp.dest(&#39;./build/css&#39;)) // å‹ç¼©å®Œ        .pipe(rev.manifest())        .pipe(gulp.dest(&#39;./rev/css&#39;));});</code><br>å…³é”®ä¹‹å¤„åœ¨äºæ·»åŠ äº†æ­¤ä¸¤è¡Œå¯¹æ¯”ä»£ç ï¼š<br><code>.pipe(changed(&#39;./beforebuild/6.css&#39;,{hasChanged: changed.compareLastModifiedTime})) //å¯¹æ¯”ä¸­è½¬beforebuildä¸­çš„6.css.pipe(gulp.dest(&#39;./beforebuild/6.css&#39;)) // å…ˆè¾“å‡ºä¸€é</code><br><br>changedæ ¹æ®å…ˆå‰è¾“å‡ºçš„æ–‡ä»¶çš„æœ€ç»ˆä¿®æ”¹æ—¶é—´è¿›è¡Œæ¯”è¾ƒæ–‡ä»¶æ˜¯å¦æ”¹å˜<br><br>è€Œå¦‚æœæœ‰æ”¹å˜ï¼Œå†è¾“å‡ºè¦†ç›–beforebuildä¸­çš„6.cssï¼ŒåŒæ—¶ç»§ç»­æ‰§è¡Œåç»­å‹ç¼©ï¼ŒåŠ æˆ³ç­‰å‘½ä»¤ï¼Œä»è€Œè¾“å‡ºåˆ°buildæ–‡ä»¶ä¸­çš„6.css<br><br><br>æœ€ç»ˆå°†ç›¸å…³æŒ‡ä»¤åˆ’åˆ†ä¸ºdefaultã€devï¼Œç”¨äºåŒºåˆ†å¼€å‘ç¯å¢ƒï¼Œç”Ÿäº§ç¯å¢ƒä¸­æ‰€ç”¨ä¸åŒã€‚å› ä¸ºç”Ÿäº§ç¯å¢ƒä¸­éœ€è¦æ‰§è¡Œâ€™clean_buildâ€™æŒ‡ä»¤ä¸­çš„æ‰€æœ‰æ–‡ä»¶æ¸…é™¤è¿‡ç¨‹ã€‚<br><img src="/2019/02/21/2019/Gulpå¢é‡ç¼–è¯‘ä¼˜åŒ–/gulpå¢é‡ç¼–è¯‘8.png" alt="gulpå¢é‡ç¼–è¯‘8" title="gulpå¢é‡ç¼–è¯‘8"><br><br>ä¾æ¬¡å¯¹é¡¹ç›®gulpä¸­çš„æ–‡ä»¶å¦‚æ­¤å¤„ç†ï¼Œæœ€ç»ˆå°†æ„å»ºå‡é€Ÿç”±<font><strong>15s</strong></font>é™ä½è‡³<font><strong>4s</strong></font>ã€‚<br><br><br><font color="ff0000"><strong>å‰åå¯¹æ¯”ï¼š</strong></font><p><img src="/2019/02/21/2019/Gulpå¢é‡ç¼–è¯‘ä¼˜åŒ–/gulpå¢é‡ç¼–è¯‘3.png" alt="gulpå¢é‡ç¼–è¯‘3" title="gulpå¢é‡ç¼–è¯‘3"></p><p><img src="/2019/02/21/2019/Gulpå¢é‡ç¼–è¯‘ä¼˜åŒ–/gulpå¢é‡ç¼–è¯‘6.png" alt="gulpå¢é‡ç¼–è¯‘6" title="gulpå¢é‡ç¼–è¯‘6"></p><p>è‡³æ­¤ï¼Œgulpçš„å¢é‡ç¼–è¯‘åˆæ­¥å®Œæˆã€‚<br>åç»­ä»ç„¶æœ‰ä¸€äº›ä»£ç ä¼˜åŒ–çš„ç©ºé—´åœ¨ï¼Œæ‰€ä»¥å¹¶ä¸è®¤ä¸ºè¿™æ˜¯æœ€ç»ˆçš„ä¼˜åŒ–ç»“æœã€‚</p><font><strong>åŠ æ²¹!</strong></font><hr><p>é™„ä¸Šåœ¨gulpä¸­æ–‡ç½‘ï¼ŒæŸ¥çœ‹åˆ°çš„gulpå¢é‡ç¼–è¯‘ï¼Œå®˜æ–¹ä½¿ç”¨watchä¸cacheè¿›è¡Œçš„å¢é‡å¤„ç†ã€‚</p><p>Gulpå¢é‡ç¼–è¯‘: <a href="https://www.gulpjs.com.cn/docs/recipes/incremental-builds-with-concatenate/" target="_blank" rel="noopener">gulpå¢é‡ç¼–è¯‘</a></p><p><img src="/2019/02/21/2019/Gulpå¢é‡ç¼–è¯‘ä¼˜åŒ–/gulpå¢é‡ç¼–è¯‘9.png" alt="gulpå¢é‡ç¼–è¯‘9" title="gulpå¢é‡ç¼–è¯‘9"></p>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> Gulp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptæ·±æµ…æ‹·è´</title>
      <link href="/2019/02/18/2019/JavaScript%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D/"/>
      <url>/2019/02/18/2019/JavaScript%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘ä»¬é¦–å…ˆç¨å¾®å¤ä¹ ä¸€ä¸‹æœ‰å…³JSä¸­çš„æ•°æ®ç±»å‹åŠç›¸å…³çŸ¥è¯†ç‚¹</p><p>1-ç®€å•æ•°æ®ç±»å‹ï¼šUndefinedï¼ŒNullï¼ŒBooleanï¼ŒSymbolï¼ŒNumberï¼ŒString</p><p>2-å¤æ‚æ•°æ®ç±»å‹ï¼šå¯¹è±¡</p><p>ç®€å•æ•°æ®ç±»å‹ä¿å­˜åœ¨æ ˆå†…å­˜ä¸­</p><p>å¤æ‚æ•°æ®ç±»å‹å³å¼•ç”¨ç±»å‹ï¼Œä¿å­˜äºå †å†…å­˜ä¸­ï¼›å¼•ç”¨çš„ç±»å‹å€¼å®é™…ä¸ºæŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆ</p><p>è¿™ä¸æˆ‘ä»¬ä»Šå¤©æ‰€éœ€è¦è®²åˆ°çš„æ·±æµ…æ‹·è´æœ‰å…³ğŸ˜</p><p><img src="/2019/02/18/2019/JavaScriptæ·±æµ…æ‹·è´/æ·±æµ…æ‹·è´.jpg" alt="&quot;æ·±æµ…æ‹·è´.jpg&quot;" title="æ·±æµ…æ‹·è´.jpg"></p><a id="more"></a><p><strong><font color="ff0000">æµ…æ‹·è´</font></strong></p><p>ç›¸å½“äºæˆ‘ä»¬å¤åˆ¶äº†è¯¥å¯¹è±¡æˆ–æ•°ç»„ï¼Œç„¶è€Œè¯¥â€œæŒ‡é’ˆâ€ä»ç„¶æŒ‡å‘åŸæœ¬å†…å­˜ç©ºé—´</p><pre><code>var obj = {  name:&#39;wsscat&#39;,  age:0}var obj2 = obj;obj2[&#39;c&#39;] = 5;console.log(obj);//Object {name: &quot;wsscat&quot;, age: 0, c: 5}console.log(obj2);////Object {name: &quot;wsscat&quot;, age: 0, c: 5}</code></pre><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå½“æˆ‘ä»¬æ”¹å˜obj2çš„[â€˜câ€™]æ—¶å€™ï¼Œobj1ä¼šå—åˆ°å…¶å½±å“</p><p><strong><font color="ff0000">æ·±æ‹·è´</font></strong></p><p><em>æ•°ç»„ï¼š</em></p><pre><code>1-slice()ï¼švar arr = [&#39;wsscat&#39;, &#39;autumns&#39;, &#39;winds&#39;];var arrCopy = arr.slice(0);arrCopy[0] = &#39;tacssw&#39;console.log(arr)//[&#39;wsscat&#39;, &#39;autumns&#39;, &#39;winds&#39;]console.log(arrCopy)//[&#39;tacssw&#39;, &#39;autumns&#39;, &#39;winds&#39;]2-concat():var arr = [&#39;wsscat&#39;, &#39;autumns&#39;, &#39;winds&#39;];var arrCopy = arr.concat();arrCopy[0] = &#39;tacssw&#39;console.log(arr)//[&#39;wsscat&#39;, &#39;autumns&#39;, &#39;winds&#39;]console.log(arrCopy)//[&#39;tacssw&#39;, &#39;autumns&#39;, &#39;winds&#39;]</code></pre><p><em>å¯¹è±¡</em></p><pre><code>1-æ–°å»ºå¯¹è±¡åéå†å®ç°var obj = {      name:&#39;wsscat&#39;,      age:0}var obj2 = new Object();obj2.name = obj.name;obj2.age = obj.ageobj.name = &#39;autumns&#39;;console.log(obj);//Object {name: &quot;autumns&quot;, age: 0}console.log(obj2);//Object {name: &quot;wsscat&quot;, age: 0}2-å°è£…å¥½æ–¹æ³•è¿›è¡Œå¯¹è±¡æ‹·è´å¤„ç†var obj = {  name: &#39;wsscat&#39;,  age: 0}var deepCopy = function(source) {var result = {};for(var key in source) {  if(typeof source[key] === &#39;object&#39;) {    result[key] = deepCopy(source[key])  } else {    result[key] = source[key]  }}return result;}var obj3 = deepCopy(obj)obj.name = &#39;autumns&#39;;console.log(obj);//Object {name: &quot;autumns&quot;, age: 0}console.log(obj3);//Object {name: &quot;wsscat&quot;, age: 0}</code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Node+Express+Elementå®ç°æ–‡ä»¶ä¸Šä¼ ä¸‹è½½</title>
      <link href="/2019/02/10/2019/Node-express%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD/"/>
      <url>/2019/02/10/2019/Node-express%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD/</url>
      
        <content type="html"><![CDATA[<p>æ¯•è®¾çš„å…±äº«å›¾ä¹¦ç³»ç»Ÿéœ€è¦æ‰€è¿ç”¨åˆ°çš„ï¼Œæœ‰å…³æ–‡ä»¶çš„ä¸Šä¼ ã€ä¸‹è½½åŠŸèƒ½çš„å®ç°ï¼Œç°åœ¨å°±æ€»ç»“ä¸€ä¸‹è®°å½•åœ¨åšå®¢ä¸Šï¼š</p><p><strong>ä¸Šä¼ åŠŸèƒ½</strong></p><p><em>å‰ç«¯</em></p><p>ä¸Šä¼ æ‰€ä½¿ç”¨çš„elementçš„uploadç»„ä»¶<br><a id="more"></a></p><pre><code>&lt;el-upload class=&quot;upload-demo&quot; ref=&quot;upload&quot; action=&quot;&quot;    :with-credentials=&quot;true&quot;    :on-error=&quot;handleError&quot;    :limit=&quot;1&quot;    :before-upload=&quot;beforeAvatarUpload&quot;    :file-list=&quot;fileList&quot;    :http-request=&quot;commintEditor&quot;    :on-exceed=&quot;uploadExceed&quot;    :on-change=&quot;uploadChange&quot;    :on-remove=&quot;uploadRemove&quot;    :auto-upload=&quot;false&quot;&gt;    &lt;el-button slot=&quot;trigger&quot; size=&quot;small&quot; type=&quot;primary&quot;&gt;é€‰å–æ–‡ä»¶&lt;/el-button&gt;    &lt;!-- &lt;el-button style=&quot;margin-left: 10px;&quot; size=&quot;small&quot; type=&quot;success&quot; @click=&quot;submitUpload&quot;&gt;ä¸Šä¼ åˆ°æœåŠ¡å™¨&lt;/el-button&gt; --&gt;    &lt;div slot=&quot;tip&quot; class=&quot;el-upload__tip&quot;&gt;åªèƒ½ä¸Šä¼ jpgã€pdfã€docæ–‡ä»¶ï¼Œä¸”ä¸è¶…è¿‡5MB&lt;/div&gt;&lt;/el-upload&gt;</code></pre><p>å…¶ä¸­å¯¹ä¸€äº›é’©å­æ–¹æ³•è¿›è¡Œäº†å®šä¹‰ï¼Œç”¨äºæ£€éªŒä¸Šä¼ çš„è®¾å®šå¤§å°ï¼Œæ ¼å¼ç­‰â€¦ä¾‹å¦‚</p><pre><code>beforeAvatarUpload (file) {      var fileType = file.name.substring(file.name.lastIndexOf(&#39;.&#39;) + 1)      console.log(fileType)      const isJPG = fileType === &#39;jpg&#39;      const iswordx = fileType === &#39;docx&#39;      const isword = fileType === &#39;doc&#39;      const ispdf = fileType === &#39;pdf&#39;      const ispng = fileType === &#39;png&#39;      const isLt5M = file.size / 1024 / 1024 &lt; 5      if (!isJPG &amp;&amp; !isword &amp;&amp; !ispdf &amp;&amp; !iswordx &amp;&amp; !ispng) {        this.$message.error(&#39;ä¸Šä¼ åªèƒ½æ˜¯ jpgã€pngã€docã€pdf æ ¼å¼!&#39;)      }      if (!isLt5M) {        this.$message.error(&#39;ä¸Šä¼ å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 5MB!&#39;)      }      return (isJPG || isword || ispdf || iswordx || ispng) &amp;&amp; isLt5M    }    //  ä»¥ä¸Šæ˜¯å¯¹äºæ–‡ä»¶æ ¼å¼ï¼Œå¤§å°çš„æ£€éªŒ</code></pre><p>åœ¨ä¸Šä¼ çš„å‡½æ•°ä¸­ä½¿ç”¨formdataçš„å½¢å¼ä¼ è¾“</p><pre><code>formData.append(&#39;file&#39;, _file)</code></pre><p>å¹¶ä¸”ç‹¬ç«‹é…ç½®ç›¸åº”Axiosçš„headers</p><pre><code>var config = {        headers: {          &#39;Content-Type&#39;: &#39;multipart/form-data&#39;        }      }</code></pre><p><em>åå°</em></p><p>åå°æ¥æ”¶éƒ¨åˆ†ä½¿ç”¨çš„æ˜¯formidableæ¨¡å—ï¼Œå¹¶ä¸ºå…¶è®¾å®šæœåŠ¡å™¨ä¸­çš„é»˜è®¤å­˜å‚¨ç›®å½•</p><pre><code>// æ¥æ”¶æ–‡ä»¶var formidable = require(&#39;formidable&#39;)var form = new formidable.IncomingForm()form.uploadDir = &#39;./uploadFile&#39;</code></pre><p>å¯¹æ–‡ä»¶çš„è§£æéƒ¨åˆ†</p><pre><code>// æ­¤æ¨¡å—è§£æè¯·æ±‚ä¿¡æ¯ï¼Œå°†jsonæ•°æ®ä¸æ–‡ä»¶æ•°æ®åˆ†å¼€ä¸ºfieldã€filesä¸¤éƒ¨åˆ†form.parse(req, function (err, field, files) {  // fieldså­˜æ”¾jsonæ•°æ®ï¼Œfileså­˜æ”¾çš„æ˜¯æ–‡ä»¶ä¿¡æ¯  files.field = field  var $params = files.field  //  æˆ‘ä»¬å¯ä»¥è¯†åˆ«è‹¥fileså­˜åœ¨ï¼Œåˆ™è¿›è¡Œå­˜å‚¨å†™å…¥çš„æ“ä½œå†åç»­è¿›è¡Œæ•°æ®åº“è®°å½•æ“ä½œ  //  1  //  å¦‚æœæœ‰æ–‡ä»¶çš„æƒ…å†µä¸‹  if (files.file) {    //  oldpathä¸ºè§£æè¯·æ±‚ä¸­æ–‡ä»¶æ—¶å­˜æ”¾çš„ç›®å½•åœ°å€ï¼Œæˆ‘ä»¬ç›®å‰éœ€è¦å°†å…¶é‡å‘½åç„¶åæ”¾å…¥æˆ‘ä»¬æ‰€éœ€è¦çš„æœ€ç»ˆåœ°å€    let oldpath = path.join(files.file.path)    //  è·å–filesç›¸å…³å±æ€§    var JsonFile = files.file    var fileName = JsonFile.name    //  æ–°çš„ç›®å½•ï¼Œä¸ºäº†é˜²æ­¢åŒåï¼Œå†åŠ ä¸Šéšæœºæ•°    var ranFileName = String(parseInt(Math.random() * 8999 + 10000)).concat(fileName)    //  æ–°ç”ŸæˆåŒ…å«éšæœºæ•°çš„æ–‡ä»¶åä¸ç›®å½•æ‹¼æ¥çš„åœ°å€    newpath = path.join(&#39;./uploadFile&#39;, ranFileName)    //  åˆ©ç”¨fsæ¨¡å—è¿›è¡Œæ–‡ä»¶é‡å‘½åå¹¶ä¸”ç§»åŠ¨    fs.rename(oldpath, newpath, function (err) {      if (err) {        result = {          code: &#39;1&#39;,          data: {          },          msg: &#39;æ–°æ–‡ç« ä¸Šä¼ é”™è¯¯&#39;        }        jsonWrite(res, result)        console.log(`ä¸Šä¼ æ–‡ä»¶é‡å‘½åé”™è¯¯${err}`)      } else {        //  è¿›è¡Œæ•°æ®åº“è®°å½•ï¼Œnewpathä¸ºç§»åŠ¨åçš„ç›®å½•è®°å½•        commitToSql(req, res, $params, newpath)      }    })  }  //  æ— æ–‡ä»¶çš„æƒ…å†µä¸‹ï¼Œè¿›è¡Œæ•°æ®åº“è®°å½•  else {    //  è¿›è¡Œæ•°æ®åº“è®°å½•ï¼Œnewpathä¸ºç§»åŠ¨åçš„ç›®å½•è®°å½•    commitToSql(req, res, $params, newpath)  }})</code></pre><p>äºæ­¤ï¼Œä¾¿å®Œæˆäº†æ–‡ä»¶çš„ä¸Šä¼ è®°å½•ï¼ˆå…¶ä½™çœç•¥ä»£ç ï¼‰</p><hr><p><strong>ä¸‹è½½åŠŸèƒ½</strong></p><p><em>å‰ç«¯</em></p><pre><code>//  åˆ©ç”¨window.openæ‰“å¼€ä¸€ä¸ªæ–°çš„é¡µé¢ï¼Œå¹¶ä¸”å‘é€ç›¸åº”çš„è¯·æ±‚è¿æ¥ä¸å‚æ•°//  ç¼ºç‚¹ï¼šé¡µé¢é—ªç°lookArticle (index, row) {  var bookusername = row.username  var booktitle = row.title  window.open(`/lookArticle?bookusername=${bookusername}&amp;booktitle=${booktitle}`)},</code></pre><p><em>åå°</em></p><pre><code>  //  åˆ†æç›¸åº”æ–‡ä»¶åç§°  var fileName = $params.fileName  //  æ‹¼æ¥åå°æœåŠ¡å™¨ä¸­æ–‡ä»¶çš„è·¯å¾„ï¼Œä»¥ä¾¿ä½¿ç”¨  var currFile = path.join(__dirname, &#39;../uploadFile/&#39; + fileName)  //  ä½¿ç”¨fs.existsåˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œç›®å‰å·²ç»ä¸æ¨èä½¿ç”¨fs.exists  fs.exists(currFile, function (exists) {    if (exists) {      console.log(&#39;æ–‡ä»¶å­˜åœ¨&#39;)      res.download(currFile)    } else {      result = {        code: &#39;1&#39;,        data: {        },        msg: &#39;æ–‡ä»¶ä¸å­˜åœ¨&#39;      }      jsonWrite.jsonWrite(res, result)    }  })</code></pre><p>äºæ­¤å®Œæˆæ–‡ä»¶çš„ä¸‹è½½åŠŸèƒ½<br>æ¼”ç¤ºä»£ç ç•¥ä¸ºç®€å•</p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML </tag>
            
            <tag> Node </tag>
            
            <tag> Express </tag>
            
            <tag> Element </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ–°å¹´å¿«ä¹</title>
      <link href="/2019/02/08/2019/%E6%96%B0%E5%B9%B4%E5%BF%AB%E4%B9%90/"/>
      <url>/2019/02/08/2019/%E6%96%B0%E5%B9%B4%E5%BF%AB%E4%B9%90/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©æ˜¯å¤§å¹´åˆå››äº†ï¼Œè¿‡å»å‡ å¤©åœ¨çƒ­çƒˆçš„æ°”æ°›ä¸­ï¼Œè¿æ¥äº†å†œå†çŒªå¹´ï¼Œæˆ‘ä¹Ÿé¢ä¸´ç€å¤§å­¦å››å¹´çš„æœ€åä¸€ä¸ªå­¦æœŸï¼Œçæƒœ!ï¼Œå¸Œæœ›æ–°çš„ä¸€å¹´çš„æ¥ä¸´å¯ä»¥ä¸ºè‡ªå·±å¸¦æ¥ä¸é”™çš„å¥½è¿ï¼Œåœ¨å·¥ä½œä¸Šé¡ºåˆ©ï¼Œè‡ªå·±ä¸€åˆ‡çš„è§„åˆ’ï¼Œä¹Ÿå¯ä»¥é¡ºåˆ©çš„è¿›è¡Œä¸å®ç°ã€‚<strong>åŠ æ²¹ï¼</strong></p><p>ä¹Ÿå¸Œæœ›å®¶äººï¼Œæœ‹å‹ä»¬ï¼Œå¤§å®¶ï¼Œæ–°å¹´å¿«ä¹ï¼Œå¿ƒæƒ³äº‹æˆï¼Œèº«ä½“å¥åº·ï¼Œä¸‡äº‹å¦‚æ„ã€‚</p><p><img src="/2019/02/08/2019/æ–°å¹´å¿«ä¹/timg.gif" alt="2019" title="2019"></p>]]></content>
      
      
      <categories>
          
          <category> è¯»ä¹¦Vç”Ÿæ´» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ—¥å¸¸ç¢ç¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Node+MySQLé‡Šæ”¾æ•°æ®åº“è¿æ¥çš„Bug</title>
      <link href="/2019/02/02/2019/Node-MySQL%E9%87%8A%E6%94%BE%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E7%9A%84Bug/"/>
      <url>/2019/02/02/2019/Node-MySQL%E9%87%8A%E6%94%BE%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E7%9A%84Bug/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©åšæ¯•ä¸šè®¾è®¡æ—¶ï¼Œåœ¨å‰ç«¯ä¸šåŠ¡ä¸­å‘åå°è¯·æ±‚ç”¨æˆ·æ•°æ®æ—¶ï¼Œæ¯å½“è¯·æ±‚æ¬¡æ•°è¶…è¿‡äº”æ¬¡ï¼ŒåŠä»¥ä¸Šæ—¶ï¼Œæ€»ä¼šå¡æ­»ï¼Œäºæ˜¯ï¼Œç”¨ç®€å•çš„consoleåˆ¤æ–­ä»£ç åœæ­¢ä½ç½®ï¼Œå‘ç°æ¯æ¬¡è¿è¡Œåˆ°pool.getConnectionæ—¶ç¬¬äº”æ¬¡è¿æ¥æŸ¥è¯¢å°±ä¼šå¡ä½ï¼Œå¦‚å›¾</p><p><img src="/2019/02/02/2019/Node-MySQLé‡Šæ”¾æ•°æ®åº“è¿æ¥çš„Bug/QQæˆªå›¾20190202195830.png" alt="äº”æ¬¡è¿è¡Œåœ1" title="äº”æ¬¡è¿è¡Œåœ1"></p><p>å›¾ä¸€</p><p><img src="/2019/02/02/2019/Node-MySQLé‡Šæ”¾æ•°æ®åº“è¿æ¥çš„Bug/QQæˆªå›¾20190202195902.png" alt="äº”æ¬¡è¿è¡Œåœ2" title="äº”æ¬¡è¿è¡Œåœ2"></p><p>å›¾äºŒ</p><p>äºæ˜¯ä¹å°±æ„Ÿè§‰æ˜¯ç”±äºå‰æ¬¡è¿æ¥æ—¶çš„æ•°æ®åº“è¿æ¥æ²¡æœ‰é‡Šæ”¾çš„åŸå› å¯¼è‡´çš„ï¼Œäºæ˜¯ï¼Œåœ¨cmdä¸­æŸ¥çœ‹mysqlçš„è¿æ¥æƒ…å†µ</p><pre><code>mysql &gt; mysqladmin -uroot -p processlist</code></pre><a id="more"></a><p>å†å®éªŒå‰ç«¯çš„è¯·æ±‚æ—¶ï¼Œæ•°æ®åº“çš„è¿æ¥æƒ…å†µ</p><p><font color="7f7f7f"><em>æ²¡æœ‰è¿æ¥è¯·æ±‚æ—¶</em></font><br><img src="/2019/02/02/2019/Node-MySQLé‡Šæ”¾æ•°æ®åº“è¿æ¥çš„Bug/QQæˆªå›¾20190202200600.png" alt="æ²¡æœ‰è¿æ¥è¯·æ±‚" title="æ²¡æœ‰è¿æ¥è¯·æ±‚"></p><p><font color="7f7f7f"><em>ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶</em></font><br><img src="/2019/02/02/2019/Node-MySQLé‡Šæ”¾æ•°æ®åº“è¿æ¥çš„Bug/QQæˆªå›¾20190202200619.png" alt="ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶" title="ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶"></p><p><font color="7f7f7f"><em>ç¬¬äºŒæ¬¡è¯·æ±‚æ—¶</em></font><br><img src="/2019/02/02/2019/Node-MySQLé‡Šæ”¾æ•°æ®åº“è¿æ¥çš„Bug/QQæˆªå›¾20190202200631.png" alt="ç¬¬äºŒæ¬¡è¯·æ±‚æ—¶" title="ç¬¬äºŒæ¬¡è¯·æ±‚æ—¶"></p><p><font color="7f7f7f"><em>ç¬¬äº”æ¬¡è¯·æ±‚æ—¶</em></font><br><img src="/2019/02/02/2019/Node-MySQLé‡Šæ”¾æ•°æ®åº“è¿æ¥çš„Bug/QQæˆªå›¾20190202200646.png" alt="ç¬¬äº”æ¬¡è¯·æ±‚æ—¶" title="ç¬¬äº”æ¬¡è¯·æ±‚æ—¶"></p><p>äºæ˜¯ä¹ï¼Œå¾—çŸ¥äº†æ¯ä¸€æ¬¡è¯·æ±‚æ—¶ï¼Œåå°çš„ä»£ç ä¸­æ€»æœ‰ä¸¤ä¸ªæ•°æ®åº“æŸ¥è¯¢æ²¡æœ‰é‡Šæ”¾è¿æ¥ï¼Œä»è€Œå¯¼è‡´ï¼Œç¨‹åºçš„ä¸­æ–­</p><p>é‚£æ¥ä¸‹æ¥æ¥æ£€æŸ¥ä¸€ä¸‹ä»£ç ï¼š</p><p><font color="ff0000">ç®€ç•¥çš„å†™ï¼Œä»£ç å¦‚ä¸‹</font></p><pre><code>var getAlluserTotalPromise = function () {  var promise2 = new Promise(function (resolve, reject) {    pool.getConnection(function (err, connection) {      if (err) {        reject(result)      }      connection.query($sql.userCenter.getuserTotal, [], (err, result) =&gt; {        if (err) {          connection.release()          reject(result)        } else {          resolve(result)        }      })    })  })  return promise2}</code></pre><p>é€šè¿‡èµ°æŸ¥å‘ç°ï¼Œæˆ‘ä»¬åœ¨æ‰§è¡Œif-elseé€»è¾‘æ—¶ï¼Œå¯¹äºelseæ—¶çš„æµç¨‹ä¸­å¿˜è®°æ·»åŠ æ•°æ®åº“é‡Šæ”¾äº†ï¼Œä»¥åŠåæ¥é‡‡ç”¨äº†æ–°çš„æ–¹å¼æ˜¯å¦æ•°æ®åº“è¿æ¥</p><pre><code>pool.releaseConnection(connection)</code></pre><p>äºæ˜¯æˆ‘ä»¬å°±å°†ä»£ç æ”¹ä¸ºäº†</p><pre><code>var getAlluserTotalPromise = function () {  var promise2 = new Promise(function (resolve, reject) {    pool.getConnection(function (err, connection) {      if (err) {        reject(result)      }      connection.query($sql.userCenter.getuserTotal, [], (err, result) =&gt; {        if (err) {          // ä¿®æ”¹ä½ç½®          reject(result)          pool.releaseConnection(connection)        } else {          // ä¿®æ”¹ä½ç½®          resolve(result)          pool.releaseConnection(connection)        }      })    })  })  return promise2}</code></pre><p>ä¹‹åæˆ‘ä»¬å†ä¸€ééå‘é€è¯·æ±‚ï¼ŒæŸ¥çœ‹æ•°æ®åº“çš„è¿æ¥æƒ…å†µï¼Œå‘ç°è¿™æ—¶å€™æ•°æ®åº“çš„è¿æ¥é‡Šæ”¾å°±æ­£å¸¸äº†</p><p><font color="7f7f7f"><em>æ­£å¸¸è¯·æ±‚æ—¶</em></font><br><img src="/2019/02/02/2019/Node-MySQLé‡Šæ”¾æ•°æ®åº“è¿æ¥çš„Bug/QQæˆªå›¾20190202201843.png" alt="æ­£å¸¸è¯·æ±‚æ—¶" title="æ­£å¸¸è¯·æ±‚æ—¶"></p><p>å°±æŠŠä»Šå¤©çš„Bugè§£å†³äº†ï¼Œè·¯æ¼«æ¼«ï¼Œä»¥åè¿˜ä¼šå¤šç€å‘¢ï¼Œä¹Ÿç®—æ˜¯è‡ªå·±çš„ç²—å¿ƒå¤§æ„å¯¼è‡´çš„ï¼Œå¸Œæœ›ä»¥åè§£å†³é—®é¢˜çš„èƒ½åŠ›æ›´åŠ å‰å®³æœ‰æ‰€æå‡ï¼ŒèŠ‚çº¦æ—¶é—´</p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Node </tag>
            
            <tag> Express </tag>
            
            <tag> MySQL </tag>
            
            <tag> Bug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>transformçˆ¶å…ƒç´ å¯¹fixedå­å…ƒç´ çš„å½±å“</title>
      <link href="/2019/02/02/2019/transform%E5%AF%B9fixed/"/>
      <url>/2019/02/02/2019/transform%E5%AF%B9fixed/</url>
      
        <content type="html"><![CDATA[<p>åœ¨åº”ç”¨äº†å±æ€§transformçš„çˆ¶å…ƒç´ ä¸Šï¼Œè‹¥å…¶æ‹¥æœ‰fixedå±æ€§çš„å­å…ƒç´ ï¼Œåˆ™è¯¥å­å…ƒç´ çš„fixedå±æ€§è®²å¤±æ•ˆï¼Œå¹¶å°†ä»¥å…¶çˆ¶å…ƒç´ ä¸ºå®šä½åŸºå‡†</p><p>è¯¦æƒ…è¯·çœ‹ä¾‹å­ï¼š</p><pre><code>&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;    &lt;title&gt;&lt;/title&gt;&lt;/head&gt;&lt;style&gt;    .outer {      overflow: hidden;      width: 300px;      height: 300px;      background: yellow;    }    .mid {      margin: 20px;      width: 200px;      height: 200px;      transform: translate(0, 0);      background: greenyellow;    }    .inner {      position: fixed;      top: 0;      left: 0;      width: 100px;      height: 100px;      background: pink;    }&lt;/style&gt;&lt;body&gt;    &lt;div class=&quot;outer&quot;&gt;          &lt;div class=&quot;mid&quot;&gt;            &lt;div class=&quot;inner&quot;&gt;&lt;/div&gt;          &lt;/div&gt;    &lt;/div&gt;&lt;/body&gt;&lt;/html&gt;</code></pre><p>ä»¥ä¸Šä»£ç æ‰€å‘ˆç°çš„å¸ƒå±€æ ·å¼ï¼š</p><p><img src="/2019/02/02/2019/transformå¯¹fixed/20181120224139596.png" alt="transform" title="transform"></p><a id="more"></a><p>è‹¥æˆ‘ä»¬åˆ é™¤å»çˆ¶å…ƒç´ çš„transformå±æ€§ï¼š</p><pre><code>&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;    &lt;title&gt;&lt;/title&gt;&lt;/head&gt;&lt;style&gt;    .outer {      overflow: hidden;      width: 300px;      height: 300px;      background: yellow;    }    .mid {      margin: 20px;      width: 200px;      height: 200px;      background: greenyellow;    }    .inner {      position: fixed;      top: 0;      left: 0;      width: 100px;      height: 100px;      background: pink;    }&lt;/style&gt;&lt;body&gt;    &lt;div class=&quot;outer&quot;&gt;          &lt;div class=&quot;mid&quot;&gt;            &lt;div class=&quot;inner&quot;&gt;&lt;/div&gt;          &lt;/div&gt;    &lt;/div&gt;&lt;/body&gt;&lt;/html&gt;</code></pre><p><img src="/2019/02/02/2019/transformå¯¹fixed/20181120224251281.png" alt="transform2" title="transform2"></p><p>ç”±æ­¤å¯è§ï¼Œå…¶çˆ¶å…ƒç´ çš„transformå¯¹fixedå­å…ƒç´ çš„å½±å“ï¼›</p><p>æ³¨ï¼Œæ­¤å®ä¾‹åœ¨chormeä»¥åŠfirefoxä¸‹æœ‰æ•ˆï¼ŒIEç¯å¢ƒç­‰ä¸å—å½±å“</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> Bug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vueçˆ¶å­ç»„ä»¶é—´çš„é€šä¿¡</title>
      <link href="/2019/02/02/2019/Vue%E7%88%B6%E5%AD%90%E9%80%9A%E4%BF%A1/"/>
      <url>/2019/02/02/2019/Vue%E7%88%B6%E5%AD%90%E9%80%9A%E4%BF%A1/</url>
      
        <content type="html"><![CDATA[<font color="ff0000"><strong>çˆ¶ â€“&gt; å­</strong></font><p>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’ï¼Œåˆ©ç”¨propså±æ€§<br><a id="more"></a></p><pre><code>çˆ¶ç»„ä»¶&lt;template&gt;  &lt;div&gt;    &lt;parent&gt;      &lt;!-- é€šè¿‡ä¸ºå­ç»„ä»¶ç»‘å®šå±æ€§ --&gt;      &lt;child :parentToChild=&quot;value1&quot;&gt;&lt;/child&gt;                 &lt;/parent&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default {  data () {    return {      value1:&#39;çˆ¶ç»„ä»¶çš„å€¼ä¼ ç»™å­ç»„ä»¶&#39;    }  },  components: {},  mounted () {},  watch: {},  methods: {}}&lt;/script&gt;</code></pre><pre><code>å­ç»„ä»¶&lt;template&gt;  &lt;div&gt;    &lt;p&gt;è¿™æ˜¯å­ç»„ä»¶&lt;/p&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default {  data () {    return {      valueFromParent:&#39;&#39;,    }  },  components: {},  // å­ç»„ä»¶é€šè¿‡propså¯ä»¥æ‹¿åˆ°çˆ¶ç»„ä»¶ä¼ é€’çš„å€¼  props: [&#39;parentToChild&#39;],  mounted () {},  // å€˜è‹¥éœ€è¦ä¸dataä¸­ç»‘å®šçš„æ•°æ®é¡¹åº”ï¼Œåˆ™åœ¨watchä¸­åšç›‘è§†  watch: {    &#39;parentToChild&#39;: function () {      this.valueFromParent = this.parentToChild    }  },  methods: {}}&lt;/script&gt;</code></pre><hr><font color="ff0000"><strong>å­ â€“&gt; çˆ¶</strong></font><p>åˆ©ç”¨emitæ–¹æ³•ï¼Œç»‘å®šè§¦å‘äº‹ä»¶</p><pre><code>å­ç»„ä»¶&lt;template&gt;  &lt;div&gt;    &lt;p&gt;è¿™æ˜¯å­ç»„ä»¶&lt;/p&gt;    &lt;button @click=&quot;clickEvent&quot;&gt;ç‚¹å‡»æŒ‰é’®&lt;/button&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default {  data () {    return {      value1:&#39;è¿™æ˜¯è¦ä¼ ç»™çˆ¶ç»„ä»¶çš„å€¼&#39;,      value2:&#39;å¯ä»¥ä¼ å¤šä¸ªå€¼&#39;,      value3:false,    }  },  components: {},  props: [],  mounted () {},  watch: {},  methods: {    clickEvent(){      // é€šè¿‡ç»‘å®šäº‹ä»¶ï¼Œè§¦å‘emit      this.$emit(&#39;sendValueToParent&#39;,this.value1,this.value2,this.value3,true);        }  },  created(){}}&lt;/script&gt;</code></pre><pre><code>çˆ¶ç»„ä»¶&lt;template&gt;  &lt;div&gt;    &lt;p&gt;è¿™æ˜¯çˆ¶ç»„ä»¶&lt;/p&gt;    &lt;parent&gt;      &lt;!-- ç»‘å®šäº‹ä»¶è§¦å‘getValueFromChild  --&gt;      &lt;child @sendValueToParent = &quot;getValueFromChild&quot;&gt;&lt;/child&gt;    &lt;/parent&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default {  data () {    return {}  },  components: {},  mounted () {},  watch: {},  methods: {    // è§¦å‘çš„äº‹ä»¶    getValueFromChild(value1,value2,value3,value4){                             &lt;-----å…³é”®      //æ‰“å°å€¼åˆ†åˆ«æ˜¯      //value1: è¿™æ˜¯è¦ä¼ ç»™çˆ¶ç»„ä»¶çš„å€¼      //value2: å¯ä»¥ä¼ å¤šä¸ªå€¼      //value3: false      //value4: true    }  },  created(){}}&lt;/script&gt;</code></pre><p>ä»¥ä¸Šå°±æ˜¯çˆ¶å­ç»„ä»¶ç›¸äº’ä¼ é€’å€¼å¾—å¤§è‡´è¡Œä¸º</p><p>å¤§è‡´å¯ä»¥ç”¨äºï¼šä¾‹<br>åˆ†é¡µå™¨ç»„ä»¶ä¸çˆ¶ç»„ä»¶çš„å…³ç³»</p><p><img src="/2019/02/02/2019/Vueçˆ¶å­é€šä¿¡/vue.jpg" alt="vueçˆ¶å­ç»„ä»¶" title="vueçˆ¶å­ç»„ä»¶"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Axiosä½¿ç”¨</title>
      <link href="/2019/01/31/2019/Axios%E4%BD%BF%E7%94%A8/"/>
      <url>/2019/01/31/2019/Axios%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<p>è¿™å‡ å¤©ä¸´è¿‘è¿‡å¹´ï¼Œå®ä¹ çš„å…¬å¸ä¹Ÿä»25å·å¼€å§‹æ”¾å‡äº†ï¼Œå¥½å¥½ä¼‘æ•´äº†å‡ å¤©ï¼Œæ‘¸é±¼åšåšæ¯•ä¸šè®¾è®¡ï¼Œä¹Ÿè¿˜æœ‰å‡ å¤©å°±è¦è¿‡å¹´äº†ï¼Œä½†æ—¶é—´ç´§è¿«ï¼Œæ¯•ä¸šï¼Œå·¥ä½œçš„å„ç§äº‹æƒ…ä¹Ÿéƒ½å°†æ£˜æ‰‹èµ·æ¥ï¼Œæ‰€ä»¥è¿˜æ˜¯ä¸èƒ½é—²å¤ªä¹…å‘¢ï¼Œè¦æœ‰æ‰€ç´§è¿«æ„Ÿâ€¦</p><p>ä»Šå¤©é›¶æ˜Ÿæ€»ç»“ä¸€ä¸‹ä¹‹å‰ç¬”è®°ä¸­çš„Axiosçš„ä½¿ç”¨æ–¹æ³•:<br><a id="more"></a></p><hr><font color="ff0000"><em>get</em></font><pre><code>axios.get(&#39;/user?ID=12345&#39;)  .then(function (response) {    console.log(response);  })  .catch(function (error) {    console.log(error);  });// å¯é€‰åœ°ï¼Œä¸Šé¢çš„è¯·æ±‚å¯ä»¥è¿™æ ·åšaxios.get(&#39;/user&#39;, {  params: {  ID: 12345}}).then(function (response) {  console.log(response);}).catch(function (error) {  console.log(error);});</code></pre><font color="ff0000"><em>post</em></font><pre><code>axios.post(&#39;/user&#39;, {  firstName: &#39;Fred&#39;,  lastName: &#39;Flintstone&#39;}).then(function (response) {  console.log(response);}).catch(function (error) {  console.log(error);});</code></pre><font color="ff0000"><em>Axios API</em></font><pre><code>//å¯ä½¿ç”¨ä¸‹åˆ—é…ç½®æ–¹æ³•è¯·æ±‚axios(config)axios({method: &#39;post&#39;,url: &#39;/user/12345&#39;,data: {    firstName: &#39;Fred&#39;,    lastName: &#39;Flintstone&#39;}});axios(url[, config])axios(&#39;/user/12345&#39;);ä»¥åŠå‡ ç§å…¶ä»–çš„è¯·æ±‚åˆ«å: axios.request(config)    axios.get(url[, config])    axios.delete(url[, config])    axios.head(url[, config])    axios.post(url[, data[, config]])axios.put(url[, data[, config]])  axios.patch(url[, data[, config]])</code></pre><font color="ff0000"><em>å¤šä¸ªAxiosçš„æ‰§è¡Œ</em></font><pre><code>axios.all(iterable)axios.spread(callback)function getUserAccount() {return axios.get(&#39;/user/12345&#39;);}function getUserPermissions() {return axios.get(&#39;/user/12345/permissions&#39;);}axios.all([getUserAccount(), getUserPermissions()])  .then(axios.spread(function (acct, perms) {  // ä¸¤ä¸ªè¯·æ±‚ç°åœ¨éƒ½æ‰§è¡Œå®Œæˆ  }));</code></pre><font color="ff0000"><em>Axiosè¯·æ±‚çš„é…ç½®é¡¹</em></font><pre><code>{    url: &#39;url&#39;  // è¯·æ±‚çš„url    method: &#39;get&#39;  //  è¯·æ±‚çš„æ–¹æ³•    baseURL: &#39;url&#39;  //  å°†baserURLåŠ åœ¨urlå‰è¾¹ï¼Œä¾¿äºaxiosä¼ é€’ä¸ºç›¸å¯¹URL     transformRequest: [function (data) {        return data    }] //å…è®¸å‘æœåŠ¡å™¨å‘é€æ•°æ®å‰ï¼Œä¿®æ”¹è¯·æ±‚çš„æ•°æ®ï¼Œåªé™äº &#39;PUT&#39;,&#39;POST&#39;,&#39;PATCH&#39;è¯·æ±‚æ–¹æ³•    transformRequest: [function (data) {        return data    }] //å…è®¸å‘æœåŠ¡å™¨å“åº”æ•°æ®åï¼Œæ•°æ®ä¼ é€’ç»™then/catchå‰ï¼Œä¿®æ”¹å“åº”æ•°æ®    headers: {&#39;&#39;X-Requested-With&#39;: &#39;XMLHttpRequest&#39;&#39;}  //è‡ªå®šä¹‰è¯·æ±‚å¤´    params: {        ID: 12345    }  // å°†å‘é€çš„URLå‚æ•°    paramsSerializer: function (params) {        return Qs.stringify(params, {arrayFormat: &#39;brackets&#39;})    }   // è´Ÿè´£åºåˆ—åŒ– paramsï¼Œä¸ºä»€ä¹ˆï¼Ÿ-&gt;çœ‹è§£å†³é—®é¢˜1ã€ï¼Œæ‰€ä»¥éœ€è¦åºåˆ—åŒ–    data: {        firstName: &#39;Fred&#39;   // ä½œä¸ºè¯·æ±‚ä¸»ä½“å‘é€çš„æ•°æ®    }    timeout: 1000   // æŒ‡å®šè¯·æ±‚è¶…æ—¶çš„æ—¶é—´æ•°ï¼Œè¶…æ—¶å°†ä¸­æ–­    withCredentials: false  //è·¨åŸŸæ—¶æ˜¯å¦éœ€è¦å‡­è¯    ä»¥åŠå…¶ä½™ä¼—å¤šæ–¹æ³•...}</code></pre><font color="ff0000"><em>paramsä¸data</em></font><pre><code>paramsä¸dataçš„åŒºåˆ«ï¼Ÿï¼šparamsæ˜¯æ·»åŠ åˆ°urlçš„è¯·æ±‚å­—ç¬¦ä¸²çš„ï¼Œç”¨äºgetè¯·æ±‚dataæ˜¯æ·»åŠ åˆ°bodyä¸­çš„ï¼Œç”¨äºpostè¯·æ±‚</code></pre><font color="ff0000"><em>Axiosè¯·æ±‚çš„ç»“æ„</em></font><pre><code>response-&gt;:å“åº”ç»“æ„{  // `data` ç”±æœåŠ¡å™¨æä¾›çš„å“åº”  data: {},  // `status` æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ç   status: 200,  // `statusText` æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ä¿¡æ¯  statusText: &#39;OK&#39;,  // `headers` æœåŠ¡å™¨å“åº”çš„å¤´  headers: {},  // `config` æ˜¯ä¸ºè¯·æ±‚æä¾›çš„é…ç½®ä¿¡æ¯  config: {}}</code></pre><font color="ff0000"><em>axios.createåˆ›å»ºå®ä¾‹</em></font><pre><code>// è‡ªå®šä¹‰åˆ›é€ ä¸€ä¸ªaxiosçš„å®ä¾‹ï¼Œè¿™æ ·äº¦å¯ä»¥ä¸é»˜è®¤çš„axiosåŒºåˆ†å¼€æ¥var instance = axios.create({  baseURL: &#39;https://api.example.com&#39;});</code></pre><font color="ff0000"><em>axiosæ‹¦æˆªå™¨</em></font><p>å¯ç»Ÿä¸€åœ¨è¯·æ±‚å‘é€æ—¶æˆ–è€…æ¥æ”¶æ—¶åšç½‘ç»œçš„ç»Ÿä¸€å¤„ç†ï¼Œä¾‹å¦‚å“åº”çš„404ç­‰é”™è¯¯å¤„ç†ï¼Œè€Œä¸ç”¨äº¤ç”±æ¯ä¸€ä¸ªè¯·æ±‚å“åº”æ¥åš</p><pre><code>// æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨axios.interceptors.request.use(function (config) {  // åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšäº›ä»€ä¹ˆ  return config;  }, function (error) {  // å¯¹è¯·æ±‚é”™è¯¯åšäº›ä»€ä¹ˆ  return Promise.reject(error);});// æ·»åŠ å“åº”æ‹¦æˆªå™¨axios.interceptors.response.use(function (response) {  // å¯¹å“åº”æ•°æ®åšç‚¹ä»€ä¹ˆ  return response;  }, function (error) {  // å¯¹å“åº”é”™è¯¯åšç‚¹ä»€ä¹ˆ  return Promise.reject(error);});</code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> Axios </tag>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰‹å†™newã€callã€applyã€bind</title>
      <link href="/2019/01/24/2019/%E6%89%8B%E5%86%99new-call-apply-bind/"/>
      <url>/2019/01/24/2019/%E6%89%8B%E5%86%99new-call-apply-bind/</url>
      
        <content type="html"><![CDATA[<h3 id="æ‰‹å†™new"><a href="#æ‰‹å†™new" class="headerlink" title="æ‰‹å†™new"></a>æ‰‹å†™new</h3><a id="more"></a><ol><li>æ–°å»ºä¸€ä¸ªå¯¹è±¡</li><li>å¯¹è±¡å¯ä»¥è®¿é—®æ„é€ å‡½æ•°åŸå‹é“¾ä¸Šçš„å±æ€§</li><li>æ ¹æ®æ„é€ å‡½æ•°æ‰§è¡Œç»“æœè¿”å›å®ä¾‹<ul><li>å¼•ç”¨å¯¹è±¡è¿”å›è¯¥å¯¹è±¡</li><li>ç®€å•å¯¹è±¡è¿”å›æ–°å»ºå¯¹è±¡</li></ul></li></ol><pre><code>function myNew(fn, ...args) {    const obj = {};    obj.__proto__ = fn.prototype;    let res = fn.apply(obj, args);    return ret instanceof Object ? res : obj;}</code></pre><p><em>other</em></p><pre><code>function myNew(fn, ...args) {    // 1.åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡obj    let obj = {};    // 2.é…ç½®åŸå‹é“¾ï¼šä½¿ç”¨setPrototypeOfæ›´æ”¹æ–°å»ºå¯¹è±¡objçš„åŸå‹å¯¹è±¡ï¼Œå°†å…¶æŒ‡å‘fnçš„åŸå‹å¯¹è±¡    // è¿™æ ·objå°±èƒ½è®¿é—®æ„é€ å‡½æ•°åŸå‹æ‰€åœ¨åŸå‹é“¾ä¸Šçš„å±æ€§äº†    Object.setPrototypeOf(obj, fn.prototype);    // 3.é€šè¿‡applyä½¿thisæŒ‡å‘objï¼Œæ‰§è¡Œå‡½æ•°fnå¹¶ä¸”è·å–æ‰§è¡Œåçš„ç»“æœ    let result = fn.apply(obj, args);    // 4.åˆ¤æ–­resultæ˜¯å¦ä¸ºå¯¹è±¡ï¼Œæ˜¯åˆ™è¿”å›resultï¼Œå¦åˆ™è¿”å›æ–°åˆ›å»ºobj    return result instanceof Object ? result : obj;}</code></pre><h3 id="call"><a href="#call" class="headerlink" title="call"></a>call</h3><!--more--><hr><font color="ff0000"><strong>callçš„ä½¿ç”¨</strong></font><br><code>var foo = {  value: 1}function bar(name, age) {  console.log(name) // Jayant  console.log(age)  // 23  console.log(this.value) // 1}bar.call(foo,&#39;Jayant&#39;,23)</code><br><br><font color="7f7f7f"><em>å¦‚æœå°†bar()ä½œä¸ºfooçš„å±æ€§ï¼š</em></font><p>é‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå¯ä»¥å®Œæˆå…¶thisçš„æ”¹å˜</p><pre><code>var foo = {    value: 1,    bar: function(){        console.log(this.value)    }}// å°†barä½œä¸ºå±æ€§æ”¾åœ¨fooä¸Šfoo.bar(); </code></pre><p>é‚£ä¹ˆæŒ‰ç…§æ­¤æ€è·¯ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥å°†å¤§è‡´çš„è¡Œä¸ºæŠ½è±¡ç§°ä¸º</p><pre><code>// èµ‹ç»™å±æ€§--æ‰§è¡Œå®ƒ--åˆ é™¤å®ƒfoo.fn = bar()foo.fn()delete foo.fn</code></pre><font color="7f7f7f"><em>äºæ˜¯æˆ‘ä»¬æ ¹æ®æˆ‘ä»¬çš„æ€è·¯ï¼Œå®ç°ç¬¬ä¸€ç‰ˆç»‘å®šå®ç°ï¼š</em></font><hr><font color="ff0000"><strong>ç¬¬ä¸€ç‰ˆ:</strong></font><p>æˆ‘ä»¬é€‰æ‹©å°†è¯¥å‡½æ•°å®šä¹‰åœ¨FunctionåŸå‹ä¸Š</p><pre><code>Function.prototype.call2 = function(context) {    context.fn = this;    context.fn();    delete context.fn;}var foo = {    value: 1}function bar() {    console.log(this.value)}bar.call2(foo)  // 1</code></pre><font color="7f7f7f"><em>æˆ‘ä»¬åœ¨call2å‡½æ•°ä¸Šå°†thisèµ‹äºˆäº†contextçš„fnå±æ€§ï¼Œå¹¶ä¸”åœ¨æ‰§è¡Œä¹‹ååˆ é™¤å®ƒ</em></font><hr><font color="7f7f7f"><em>å…¶æ¬¡callä¸­è¿˜æœ‰å‚æ•°çš„é—®é¢˜ï¼ŒæŒ‰ç…§æˆ‘ä»¬çš„ç¬¬ä¸€ç‰ˆå®ç°ï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½ä¼ å…¥å‚æ•°</em></font><font color="7f7f7f"><em>äºæ˜¯æˆ‘ä»¬è¿›ä¸€æ­¥è¿›è¡Œå‚æ•°çš„å¤„ç†</em></font><font color="ff0000"><strong>ç¬¬äºŒç‰ˆ</strong></font><pre><code>Function.prototype.call3 = function(context) {    context.fn = this;    var args = [];    // å› ä¸ºæ­¤å¤„çš„argumentsé‡Œè¾¹æœ‰å‚æ•°,å‰¥å¤ºç¬¬ä¸€ä¸ªçš„contextæ–¹æ³•,å…¶ä½™å°±æ˜¯å‚æ•°    for(var i =1,len=arguments.length;i&lt;len;i++){        args.push(arguments[i])    }    &lt;!--å…³é”®åœ¨äºä¸Šè¾¹å¯¹äºargumentså‚æ•°çš„æå–--&gt;    context.fn(...args);    delete context.fn;}var foo = {    value: 1}function bar(name,age) {    console.log(name)   //  jayant2    console.log(age)    // 23    console.log(this.value) //  1}bar.call3(foo,&#39;jayant2&#39;,23)</code></pre><font color="7f7f7f"><em>äºæ˜¯æˆ‘ä»¬å®Œæˆäº†call3å‡½æ•°å†…çš„å‚æ•°å®šä¹‰ï¼Œä¼ é€’é—®é¢˜</em></font><hr><font color="ff0000"><strong>ç¬¬ä¸‰ç‰ˆ</strong></font><font color="7f7f7f"><em>ç¬¬ä¸‰ç‰ˆï¼Œè¿›è¡Œäº†å‡½æ•°çš„å…·ä½“å®Œå–„ï¼Œthisä¸ºç©ºçš„æƒ…å†µï¼ŒæŒ‡å‘nullï¼Œå°†å€¼è¿”å›çš„æƒ…å†µ</em></font><pre><code>Function.prototype.call4 = function(context) {    &lt;!--æ­¤å¤„è¿›è¡Œäº†ä¼ å…¥thisæ˜¯å¦ä¸ºç©ºçš„æƒ…å†µ--&gt;    var context = context || window    context.fn = this;    var args = [];    // å› ä¸ºæ­¤å¤„çš„argumentsé‡Œè¾¹æœ‰å‚æ•°,å‰¥å¤ºç¬¬ä¸€ä¸ªçš„contextæ–¹æ³•,å…¶ä½™å°±æ˜¯å‚æ•°    for(var i =1,len=arguments.length;i&lt;len;i++){        args.push(arguments[i])    }    var result = context.fn(...args);    delete context.fn;    &lt;!--è¿›è¡Œäº†è¿”å›å€¼å¤„ç†--&gt;    return result}var foo = {    value: 1}function bar(name,age) {    console.log(name)   //  jayant2    console.log(age)    // 23    console.log(this.value) //  1}bar.call4(foo,&#39;jayant4&#39;,23)</code></pre><font color="7f7f7f"><em>è‡³æ­¤ï¼Œä»¥ä¸Šå°±æ˜¯è¿›è¡Œcallæ¨¡æ‹Ÿçš„å¤§è‡´è¿‡ç¨‹</em></font><h3 id="apply"><a href="#apply" class="headerlink" title="apply"></a>apply</h3><pre><code>// applyæ¨¡æ‹ŸFunction.prototype.apply_ = function (obj, arr) {    obj = obj ? Object(obj) : window;    obj.fn = this;    var result;    if (!arr) {        result = obj.fn();    } else {        var args = [];        // æ³¨æ„è¿™é‡Œçš„iä»0å¼€å§‹        for (var i = 0, len = arr.length; i &lt; len; i++) {            args.push(&quot;arr[&quot; + i + &quot;]&quot;);        };        result = eval(&quot;obj.fn(&quot; + args + &quot;)&quot;); // æ‰§è¡Œfn    };    delete obj.fn; //åˆ é™¤fn    return result;};</code></pre><h3 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h3><hr><font color="ff0000"><strong>bindå‡½æ•°</strong></font><br><code>var foo ={    value: 1}function bar() {    console.log(this.value)}var bindFoo = bar.bind(foo)// bindä¸ä¼šç«‹å³æ‰§è¡ŒbindFoo(); //1</code><br><br>æˆ‘ä»¬å¯ä»¥æ€»ç»“å¾—åˆ°ï¼Œbindå‡½æ•°ä¸åŒäºcallã€applyï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªæœªæ‰§è¡Œçš„å‡½æ•°ï¼Œå¹¶ä¸”ç­‰å¾…ä½ çš„æ‰§è¡Œ<br><br>äºæ˜¯æˆ‘ä»¬æ ¹æ®æ­¤åšå‡ºç¬¬ä¸€ç‰ˆæ¨¡æ‹Ÿ<br><br>â€”<br><br><font color="ff0000"><strong>ç¬¬ä¸€ç‰ˆ</strong></font><pre><code>var foo ={    value: 1}function bar() {    console.log(this.value)}Function.prototype.bind2 = function(context) {    var self = this;    return function() {        self.apply(context)    }}var result = bar.bind2(foo)result(); // 1</code></pre><font color="7f7f7f"><em>ä¸Šé¢æˆ‘ä»¬æ¨¡æ‹Ÿå‡ºæ¥å¯¹äºthisçš„æŒ‡å‘é—®é¢˜ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç»§ç»­å¯¹å®ƒçš„ä¼ é€’å‚æ•°è¿›è¡Œå¤„ç†</em></font><font color="7f7f7f"><em>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹åŸç”Ÿbindçš„å¤„ç†ä¸æ•ˆæœ</em></font><pre><code>var foo ={    value: 1}function bar(name, age) {    console.log(name)   //  Jayant    console.log(age)    // 23    console.log(this.value) //1}// æ­¤å¤„ä¼ äº†éƒ¨åˆ†å‚æ•°var bindFoo = bar.bind(foo, &#39;Jayant&#39;)// å†ä¼ éƒ¨åˆ†å‚æ•°bindFoo(23)</code></pre><hr><font color="ff0000"><strong>ç¬¬äºŒç‰ˆ</strong></font><pre><code>Function.prototype.bind3 = function (context) {    var self = this;    // å…ˆæ¥å—ä¸€éç¬¬ä¸€æ¬¡çš„å‚æ•°ï¼Œ    // ç¬¬äºŒæ¬¡è°ƒç”¨æ—¶ä¼ é€’çš„åœ¨returnçš„functionä¸­å¤„ç†    var args = Array.prototype.slice.call(arguments, 1)    return function() {        var bindArr = Array.prototype.slice.call(arguments)        // å¤„ç†ä¼ å…¥çš„å‚æ•°;        return self.apply(context, args.concat(bindArr));    }}</code></pre><font color="7f7f7f"><em>æˆ‘ä»¬é€‰æ‹©å°†å‚æ•°åœ¨å…¶ä¸­åˆ’åˆ†å‡ºæ¥ï¼ŒäºŒæ­¥å¤„ç†ï¼Œå®Œæˆäº†bindå‚æ•°é—®é¢˜</em></font><hr><p><font color="ff0000"><strong>æœ€ç»ˆç‰ˆ</strong></font></p><p><font color="7f7f7f"><em>å¤„ç†æœ‰å…³bindå‡½æ•°çš„newé—®é¢˜</em></font></p><pre><code>Function.prototype.bind4 = function(context) {    if(typeof this !== &#39;function&#39;) {        throw new Error(&quot;Function.prototype.bind - what is trying to be bound is not callable&quot;);    }    var self = this;    var args = Array.prototype.slice.call(arguments, 1);    var fNOP = function () {};    var fBound = function () {        var bindArgs = Array.prototype.slice.call(arguments);        return self.apply(this instanceof fNOP ? this : context, args.concat(bindArgs));    }    fNOP.prototype = this.prototype;    fBound.prototype = new fNOP();    return fBound;}</code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptç»§æ‰¿</title>
      <link href="/2019/01/23/2019/JavaScript%E7%BB%A7%E6%89%BF/"/>
      <url>/2019/01/23/2019/JavaScript%E7%BB%A7%E6%89%BF/</url>
      
        <content type="html"><![CDATA[<p>å‰å‡ å¤©æ•´ç†äº†æœ‰å…³<strong>JavaScriptç»§æ‰¿</strong>çš„å‡ ç§æ–¹å¼ï¼Œä»Šå¤©å°±ä¸€å¹¶çš„ä»å°è±¡ç¬”è®°ä¸­æ•´ç†ä¸Šæ¥ã€‚</p><h4 id="åŸå‹é“¾ç»§æ‰¿"><a href="#åŸå‹é“¾ç»§æ‰¿" class="headerlink" title="åŸå‹é“¾ç»§æ‰¿"></a>åŸå‹é“¾ç»§æ‰¿</h4><a id="more"></a><pre><code>function SuperType () {    this.property = true}SuperType.prototype.getSuperValue = function() {    return this.property}function SubType() {    this.subproperty = false}// æ­¤å¤„ç»§æ‰¿SubType.prototype = new SuperType()                // æ­¤å¤„ä¹Ÿåœ¨åŸå‹ä¸­å†™äº†è‡ªå·±çš„getSubValueæ–¹æ³•SubType.prototype.getSubValue = function() {            return this.subproperty}var instance = new SubType()alert(instance.getSuperValue)        //true// æ­¤å¤„é‡æ–°å®šä¹‰äº†è¶…ç±»å‹ä¸­çš„è¯¥æ–¹æ³•SubType.prototype.getSuperValue = function () {        return false}alert(instance.getSuperValue())    //false</code></pre><p>ç¼ºé™·ï¼š</p><ol><li>å¤šä¸ªå®ä¾‹å¯¹å¼•ç”¨ç±»å‹çš„æ“ä½œä¼šè¢«ç¯¡æ”¹ã€‚</li></ol><h4 id="å€Ÿç”¨æ„é€ å‡½æ•°"><a href="#å€Ÿç”¨æ„é€ å‡½æ•°" class="headerlink" title="å€Ÿç”¨æ„é€ å‡½æ•°"></a>å€Ÿç”¨æ„é€ å‡½æ•°</h4><pre><code>function SuperType () {    this.colors = [&#39;red&#39;, &#39;blue&#39;, &#39;green&#39;]}function SubType() {    //ç»§æ‰¿SuperTypeï¼Œæ­¤å¤„ç»§æ‰¿/å€ŸåŠ©æ„é€ å‡½æ•°    SuperType.call(this)}var instance1 = new SubType()instance1.colors.push(&#39;black&#39;)alert(instance.colors)    //&#39;red&#39;,&#39;blue&#39;,&#39;green&#39;,&#39;black&#39;var instance2 = new SubType()alert(instance2.colors)    //&#39;red&#39;,&#39;blue&#39;,&#39;green&#39;</code></pre><p><em>å¦‚ä½•ä¼ é€’å‚æ•°ï¼Ÿ</em></p><pre><code>function SuperType(name) {    this.name = name}function SubType() {    // æ­¤å¤„ç»§æ‰¿ï¼Œå¹¶ä¼ é€’å…·ä½“nameå€¼    SuperType.call(this, &#39;Jayant&#39;)        this.age = 29}var instance = new SubType()alert(instance.name)    // Jayantalert(instance.age)    //29</code></pre><p>ç¼ºé™·ï¼š</p><ol><li>åªèƒ½ç»§æ‰¿çˆ¶ç±»çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿åŸå‹å±æ€§/æ–¹æ³•</li><li>æ— æ³•å®ç°å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»éƒ½æœ‰çˆ¶ç±»å®ä¾‹å‡½æ•°çš„å‰¯æœ¬ï¼Œå½±å“æ€§èƒ½</li></ol><h4 id="ç»„åˆç»§æ‰¿"><a href="#ç»„åˆç»§æ‰¿" class="headerlink" title="ç»„åˆç»§æ‰¿"></a>ç»„åˆç»§æ‰¿</h4><p>ç»“åˆåŸå‹é“¾ä¸æ„é€ å‡½æ•°ï¼Œæ€è·¯ä¸ºï¼šä½¿ç”¨åŸå‹é“¾å®ç°å¯¹åŸå‹å±æ€§å’Œæ–¹æ³•çš„ç»§æ‰¿ï¼Œåˆå®ç”¨æ„é€ å‡½æ•°å®ç°å¯¹å®ä¾‹å±æ€§çš„ç»§æ‰¿</p><pre><code>function SuperType(name) {    this.name = name    this.colors = [&#39;red&#39;, &#39;green&#39;, &#39;blue&#39;]}SuperType.prototype.sayName = function() {    alert(this.name)}function SubType(name, age) {    // æ„é€ ç»§æ‰¿å±æ€§   ç¬¬ä¸€æ¬¡è°ƒç”¨SuperType    SuperType.call(this,name)    this.age = age}// åŸå‹é“¾ç»§æ‰¿  ç¬¬äºŒæ¬¡è°ƒç”¨SuperTypeSubType.prototype = new SuperType()    SubType.prototype.constructor = SubTypeSubType.prototypr.sayAge = function() {    alert(this.age)}var instance1 = new SubType(&#39;Jayant&#39;, 23)instance1.colors.push(&#39;black&#39;)alert(instance1.colors)    //&#39;red&#39;,&#39;blue&#39;,&#39;green&#39;,black&#39;instance1.sayName()        //Jayantinstance1.sayAge()        // 23vat instance2 = new SubType(&#39;Grey&#39;, 27)alert(instance2.colors)    //&#39;red&#39;,&#39;blue&#39;,&#39;green&#39;instance2.sayName()       // &#39;Grey&#39;instance2.sayAge()        //27</code></pre><p>ç»„åˆä¸Šè¿°ä¸¤ç§æ–¹æ³•å°±æ˜¯ç»„åˆç»§æ‰¿ã€‚ç”¨åŸå‹é“¾å®ç°å¯¹åŸå‹å±æ€§å’Œæ–¹æ³•çš„ç»§æ‰¿ï¼Œç”¨å€Ÿç”¨æ„é€ å‡½æ•°æŠ€æœ¯æ¥å®ç°å®ä¾‹å±æ€§çš„ç»§æ‰¿<br>ç¼ºç‚¹ï¼š</p><ol><li>ç¬¬ä¸€æ¬¡è°ƒç”¨SuperType()ï¼Œç»™SubType.prototypeå†™å…¥ä¸¤ä¸ªå±æ€§nameï¼Œcolorï¼›</li><li>ç¬¬äºŒæ¬¡è°ƒç”¨SuperType()ï¼Œç»™instanceå†™å…¥ä¸¤ä¸ªnameï¼Œcolor</li></ol><h4 id="åŸå‹å¼ç»§æ‰¿"><a href="#åŸå‹å¼ç»§æ‰¿" class="headerlink" title="åŸå‹å¼ç»§æ‰¿"></a>åŸå‹å¼ç»§æ‰¿</h4><pre><code>function object(obj) {    function F(){};    F.prototype = obj;    return new F();}var person = {    name: &#39;1&#39;,    friends: [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;]}var anotherPerson = object(person);anotherPerson.name = &#39;Greg&#39;;anotherPerson.friends.push(&#39;rob&#39;);var secondPerson = object(person);secondPerson.name = &#39;Sreg&#39;;secondPerson.friends.push(&#39;Sob&#39;);console.log(anotherPerson.friends); //  &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;rob&#39;, &#39;Sob&#39;</code></pre><p>ç¼ºé™·ï¼š</p><ol><li>åŸå‹é“¾ç»§æ‰¿å¤šä¸ªå®ä¾‹çš„å¼•ç”¨ç±»å‹å±æ€§æŒ‡å‘ç›¸åŒï¼Œå­˜åœ¨ç¯¡æ”¹çš„å¯èƒ½ã€‚</li><li>æ— æ³•ä¼ é€’å‚æ•°</li></ol><h4 id="å¯„ç”Ÿå¼ç»§æ‰¿"><a href="#å¯„ç”Ÿå¼ç»§æ‰¿" class="headerlink" title="å¯„ç”Ÿå¼ç»§æ‰¿"></a>å¯„ç”Ÿå¼ç»§æ‰¿</h4><pre><code>function createAnthor(original) {    var clone = object(original)    // æ·»åŠ æ–°æ–¹æ³•    clone.sayHi = function() {         alert(&#39;Hi&#39;)    }    return clone}</code></pre><p>åœ¨ä¸Šè¾¹ä¾‹å­ä¸­ï¼ŒcreateAnther()å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå°†è¦ä½œä¸ºæ–°å¯¹è±¡åŸºç¡€çš„å¯¹è±¡ï¼Œç„¶åå°†å¯¹è±¡(original)ä¼ é€’ç»™object()å‡½æ•°ï¼Œå°†è¿”å›çš„ç»“æœèµ‹å€¼ç»™Clone<br>å†ä¸ºcloneå¯¹è±¡æ·»åŠ ä¸€ä¸ªæ–°æ–¹æ³•sayHi()ï¼Œæœ€åè¿”å›ç»™cloneå¯¹è±¡ã€‚</p><pre><code>var person = {    name: &#39;Nicholas&#39;,    friends: [&#39;shelby&#39;, &#39;court&#39;, &#39;van&#39;]}var anthorPerson = createAnther(person)antherPerson.sayHi()        //Hi</code></pre><p>åœ¨åŸå‹å¼ç»§æ‰¿çš„åŸºç¡€ä¸Šï¼Œå¢å¼ºå¯¹è±¡ï¼Œè¿”å›æ„é€ å‡½æ•°ã€‚</p><h4 id="å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"><a href="#å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿" class="headerlink" title="å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"></a>å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</h4><p>ä¸ºé¿å…å¦‚åŒç»„åˆç»§æ‰¿çš„æ–¹å¼ï¼Œä¼šè°ƒç”¨ä¸¤æ¬¡è¶…ç±»å‹æ„é€ å‡½æ•°ï¼Œè¡ç”Ÿå‡ºäº†å¯„ç”Ÿç»„åˆç»§æ‰¿æ–¹å¼</p><pre><code>function inheritPrototype(subType, superType) {    //åˆ›å»ºå¯¹è±¡    var prototype = object(superType.prototype)    //å¢å¼ºå¯¹è±¡    prototype.constructor = subType                     //æŒ‡å®šå¯¹è±¡    subType.prototype = prototype   }</code></pre><p>å®ä¾‹</p><pre><code>function SuperType(name) {    this.name = name    this.colors = [&#39;red&#39;, &#39;blue&#39;, &#39;green&#39;]}SuperType.prototype.sayName = function(){    alert(this.name)}function SubType(name, age) {    SuperType.call(this, name)    this.age = age}inheritPrototype(SubType, SuperType)SubType.prototype.sayAge = function () {    alert(this.age)}</code></pre><font color="7f7f7f"><em><br>ä¼˜åŠ¿åœ¨äºåªè°ƒç”¨ä¸€æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”å°†å­æ„é€ å‡½æ•°ï¼Œçˆ¶æ„é€ å‡½æ•°ä¼ å…¥æ–¹æ³•ä¸­ï¼Œå¤åˆ¶ä¸€éçˆ¶ç±»å‹çš„åŸå‹ï¼Œå¹¶ä¸ºå…¶æ·»åŠ constructorå±æ€§</em></font><h4 id="ES6-Extends"><a href="#ES6-Extends" class="headerlink" title="ES6 Extends"></a>ES6 Extends</h4>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptåˆ›å»ºå¯¹è±¡</title>
      <link href="/2019/01/23/2019/JavaScript%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1/"/>
      <url>/2019/01/23/2019/JavaScript%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1/</url>
      
        <content type="html"><![CDATA[<p>å‰å‡ å¤©æ•´ç†äº†æœ‰å…³<strong>JavaScriptåˆ›å»ºå¯¹è±¡</strong>çš„å‡ ç§æ–¹å¼ï¼Œä»Šå¤©å°±ä¸€å¹¶çš„ä»å°è±¡ç¬”è®°ä¸­æ•´ç†ä¸Šæ¥ã€‚</p><hr><p><font color="ff0000"><strong>å·¥å‚æ¨¡å¼</strong></font></p><pre><code>function createPerson(name, age, job) {    var o = new Object()    o.name = name    o.age = age    o.job = job    o.sayName = function () {        alert(this.name)    }    return o}var person1= createPerson(&#39;jayant&#39;, 23, &#39;web&#39;)var person2 = createPerson(&#39;esss&#39;, 22, &#39;**&#39;)// å› ä¸ºæ–¹æ³•ä¸­å·²ç»newäº†ä¸€ä¸ªobjectäº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦newå®ƒ</code></pre><a id="more"></a><p><font color="ff0000"><strong>æ„é€ å‡½æ•°æ¨¡å¼</strong></font></p><pre><code>function Person(name, age, job) {    this.name = name    this.age = age    this.job = job    this.sayName = function () {        alert (this.name)    }}var person1 = new Person(&#39;jayant&#39;, 23, &#39;web&#39;)var person2 = new Person(&#39;esss&#39;, 22, &#39;no&#39;)</code></pre><p><em>æ„é€ å‡½æ•°Personä¸å·¥å‚æ¨¡å¼createPersonçš„åŒºåˆ«ï¼š</em></p><ul><li>æ²¡æœ‰æ˜¾å¼åˆ›å»ºå¯¹è±¡ï¼Œå†…éƒ¨new Object</li><li>ç›´æ¥å°†å±æ€§èµ‹äºˆthiså¯¹è±¡</li><li>æ²¡æœ‰return è¯­å¥</li></ul><p><em>å¦‚æœéœ€è¦ä½¿ç”¨æ„é€ å‡½æ•°ç”Ÿæˆä¸€ä¸ªPersonå®ä¾‹ï¼Œåˆ™æˆ‘ä»¬éœ€è¦newä¸€ä¸‹ï¼Œnewä¸€ä¸ªå¯¹è±¡ä¼šç»å†ä»¥ä¸‹è¿‡ç¨‹ï¼š</em></p><ul><li>åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡</li><li>å°†æ„é€ å‡½æ•°ä½œç”¨åŸŸèµ‹äºˆæ–°å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯this</li><li>æ‰§è¡Œæ„é€ å‡½æ•°ä¸­çš„ä»£ç </li><li>è¿”å›æ–°å¯¹è±¡</li></ul><p><em>æ„é€ å‡½æ•°çš„<font color="7f7f7f">ä¸è¶³ä¹‹å¤„</font>ï¼š</em></p><p>person1ä¸person2ä¸­æ¯ä¸ªå®ä¾‹éƒ½æœ‰ä¸€ä¸ªè¿™ä¸ªæ–¹æ³•ï¼Œéƒ½éœ€è¦åˆ›å»ºä¸€éï¼Œ<font color="7f7f7f">é€ æˆå†…å­˜ä¸Šçš„æµªè´¹</font></p><pre><code>this.sayName = function () {    alert(this.name)}alert(person1.sayName == person2.sayName)ã€€ã€€//false</code></pre><p>äºæ˜¯åˆæ ¹æ®æ­¤ä¸è¶³ä¹‹å¤„è¡ç”Ÿå‡ºä»¥ä¸‹æ–¹æ³•ï¼š</p><p><font color="7f7f7f"><em>æ„é€ å‡½æ•°çš„ä¼˜åŒ–ï¼š</em></font></p><pre><code>function Person (name, age, job) {    this.name = name    this.age = age    this.job = job    this.sayName = sayName}// 1ã€å°†å…±æœ‰æ–¹æ³•å®šä¹‰åœ¨å…¨å±€ä¸Šï¼Œ2ã€å‡½æ•°å¤šçš„è¯ï¼Œè¦å®šä¹‰å¤šfunction sayName() {       alert(this.name)}</code></pre><p>ä½†æ˜¯è¿™ä¸ªæ“ä½œåˆä¼šé€ æˆå¦‚æœå‡½æ•°å¾ˆå¤šï¼Œéœ€è¦å®šä¹‰å¾ˆå¤šæ–¹æ³•ï¼›å¹¶ä¸”æ˜¯å®šä¹‰æˆä¸ºäº†å…¨å±€å‡½æ•°ï¼Œè¿™å®Œå…¨ä¸éœ€è¦</p><hr><p><font color="ff0000"><strong>åŸå‹æ¨¡å¼</strong></font></p><p><font color="7f7f7f"><em>æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototypeå±æ€§ï¼Œæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä¸ºäº†ä½¿æ‰€æœ‰å®ä¾‹å¯ä»¥å…±äº«åˆ°å±æ€§å’Œæ–¹æ³•ï¼Œä»è€Œä¸å¿…åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰</em></font></p><pre><code>function Person() {}// å®šä¹‰åœ¨åŸå‹ä¸ŠPerson.prototype.name = &#39;Jayant&#39;Person.prototype.age = 23Person.prototype.job = &#39;web&#39;Person.prototype.sayName = function() {    alert(this.name)}var person1 = new Person()person1.sayName()    //Jayantvar person2 = new Person()person2.sayName()    //Jayant</code></pre><p><em><font color="7f7f7f">å¥½å¤„ï¼š</font></em> å…¬å…±æ–¹æ³•ï¼Œå±æ€§å¯ä»¥å…±ç”¨ï¼ŒåŒæ—¶æ˜¯å®šä¹‰åœ¨å…¶æ„é€ å‡½æ•°åŸå‹ä¸Šçš„</p><p><em><font color="7f7f7f">ä¸è¶³ï¼š</font></em> æ˜¯è¿‡äºå…±äº«ï¼Œä»¥è‡³äºæ‰€æœ‰çš„å®ä¾‹éƒ½æ‹¥æœ‰ç›¸åŒçš„æ–¹æ³•ï¼Œå®ä¾‹äº†</p><p><font color="7f7f7f">ä¾‹å¦‚ï¼š</font></p><pre><code>person1.age = 100person2.age // 100</code></pre><hr><p><font color="ff0000"><strong>ç»„åˆä½¿ç”¨æ„é€ å‡½æ•°æ¨¡å¼ä¸åŸå‹æ¨¡å¼</strong></font></p><pre><code>function Person(name, age) {    this.name = name    this.age = age    this.friends = [&#39;ä¹¾éš†&#39;, &#39;åº·ç†™&#39;]}Person.prototype = {    constructor: Person    sayName: function () {        alert(this.name)    }}var person1 = new Person()var person2 = new Person()person1.friends.push(&#39;å¬´æ”¿&#39;)person1.friends    //ä¹¾éš†ï¼Œåº·ç†™ï¼Œå¬´æ”¿person2.friends    //ä¹¾éš†ï¼Œåº·ç†™//è®¤å¯åº¦ï¼Œä½¿ç”¨æœ€å¹¿æ³›çš„ä¸€ç§åˆ›å»ºå¯¹è±¡æ–¹å¼</code></pre><hr><p><font color="ff0000"><strong>å¯„ç”Ÿæ„é€ å‡½æ•°æ¨¡å¼</strong></font></p><pre><code>function Person(name, age, job) {    var o = new Object()    o.name = name    o.age = age    o.job = job    o.sayName = function () {        alert(this.name)    }    return o}var friend = new Person(&#39;Jayant&#39;, 23, &#39;web&#39;)</code></pre><p><font color="7f7f7f"><em>å·¥å‚æ¨¡å¼</em></font></p><pre><code>function Person(name, age, job) {    var o = new Object()    o.name = name    o.age = age    o.job = job    o.sayName = function () {        alert(this.name)    }    return o}var friend = Person(&#39;Jayant&#39;, 23, &#39;web&#39;) </code></pre><p><em>å¯„ç”Ÿæ„é€ å‡½æ•°ä¸å·¥å‚æ¨¡å¼çš„åŒºåˆ«</em></p><pre><code>// å¯„ç”Ÿæ„é€ å‡½æ•°var friend = new Person(&#39;Jayant&#39;, 23, &#39;web&#39;)  // å·¥å‚æ¨¡å¼ var friend = Person(&#39;Jayant&#39;, 23, &#39;web&#39;) </code></pre><hr><p><font color="ff0000"><strong>ç¨³å¦¥æ„é€ å‡½æ•°æ¨¡å¼</strong></font></p><pre><code>function Person (name, age) {    var o = new Object()    o.sayName = function () {        alert(name)    }    return name}var person = Person(&#39;jayant&#39;, 23)person.sayName()    //jayant// é™¤äº†è°ƒç”¨sayNameæ–¹æ³•ï¼Œæ²¡åŠæ³•è·å–å…¶æ•°æ®æˆå‘˜ï¼ŒæŸç§æƒ…å†µä¸‹å®‰å…¨æ€§ up up</code></pre><hr>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitç›¸å…³å‘½ä»¤</title>
      <link href="/2019/01/23/2019/Git%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4/"/>
      <url>/2019/01/23/2019/Git%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<p>å°†è‡ªå·±å·¥ä½œä¸­æ‰€æ•´ç†å‡ºæ¥çš„å¸¸ç”¨Gitå‘½ä»¤äºæ­¤æ€»ç»“ä¸€ä¸‹</p><a id="more"></a><h5 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h5><pre><code class="base">// æ·»åŠ æ–‡ä»¶è‡³åŒºåŸŸgit add . // æäº¤æ–‡ä»¶è‡³æœ¬åœ°ä»“åº“git commit -m &quot;xxx&quot;// æŸ¥çœ‹ç›®å‰å·¥ä½œçŠ¶æ€git status// åœ¨æ·»åŠ ä¹‹å‰å¯ä»¥æŸ¥çœ‹ä¿®æ”¹çš„è®°å½•git diff // æŸ¥çœ‹æäº¤çš„loggit log// æŸ¥çœ‹ç²¾ç®€çš„æäº¤loggit log --pretty=oneline   // æ¢å¤æœ¬åœ°åˆ†æ”¯è‡³HEAD^git reset --hard HEAD^   // é‡ç½®æœ¬åœ°åˆ†æ”¯è‡³æŸåˆ†æ”¯git reset --hard 956d...   // åˆ‡æ¢åˆ°xxåˆ†æ”¯git checkout branch   // æœ¬åœ°åˆ›å»ºxxåˆ†æ”¯git checkout -b branch   // æŸ¥çœ‹å½“å‰è¿œç¨‹åº“git remote -v   // æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯git remote -a// å°†ç›®å‰originè¿æ¥ä¸ºxxxçš„è¿œç¨‹git remote add origin https://xxx   // å…‹éš†æŸä»“åº“è‡³æœ¬åœ°git clone http: //xxx    // åˆ é™¤æœ¬åœ°æŸåˆ†æ”¯git branch -d branch   // åˆ é™¤è¿œç¨‹æŸåˆ†æ”¯git push origin --delete branch   // æŸ¥çœ‹æœ¬åœ°æœ‰çš„åˆ†æ”¯git branch   // æŸ¥çœ‹è¿œç¨‹æœ‰çš„åˆ†æ”¯git branch -r   // æŸ¥çœ‹logçš„æµç¨‹åˆ†æ”¯å›¾git log --graph   // æ‹‰å–æœ¬åœ°æ²¡æœ‰çš„è¿œç¨‹æŸåˆ†æ”¯git checkout -b æœ¬åœ°åˆ†æ”¯å origin/è¿œç¨‹åˆ†æ”¯å   // åˆ‡æ¢ä¸æ‹‰å–æœ€æ–°åˆ†æ”¯git checkout maste  git pull --rebas git checkout branchxxx // æäº¤ä½œä¸ºä¸€æ¬¡è®°å½•ï¼ŒMERGEä¿®æ”¹å®Œæˆåï¼šgit add .   git commit  // REBASEä¿®æ”¹å®Œæˆåï¼Œæäº¤ç»§ç»­ï¼šgit add &lt;filename&gt; git rebase --continue// å‚¨è—å·¥ä½œç°åœºgit stash// æŸ¥çœ‹å‚¨è—çš„å·¥ä½œç°åœºgit stash list// æ¢å¤åº”ç”¨å·¥ä½œç°åœºgit stash apply xxx// åˆ é™¤ç¬¬ä¸€ä¸ªå·¥ä½œç°åœºgit stash drop</code></pre><h5 id="æµç¨‹å¼æ“ä½œ"><a href="#æµç¨‹å¼æ“ä½œ" class="headerlink" title="æµç¨‹å¼æ“ä½œ"></a>æµç¨‹å¼æ“ä½œ</h5><pre><code class="base">- åˆ›å»ºfeatureåˆ†æ”¯ï¼šgit checkout master git ckeckout -b feature-s16 git push  //å†æ ¹æ®baseæç¤ºä¿¡æ¯ï¼Œå°†æœ¬åœ°åˆ†æ”¯è¿æ¥ä¸Šoriginä¸Šè¯¥åˆ†æ”¯- åœ¨featureä¸Šè¿›è¡Œå¼€å‘ï¼šgit add xxxgit commit -m &quot;xxx&quot;- è‹¥ä¸ºå¤šäººååŒå¼€å‘æ›´æ–°åˆ†æ”¯ï¼Œæœ‰rebaseå†²çªï¼š// æ‹‰å–å¹¶åˆå¹¶è¿œç¨‹è¯¥åˆ†æ”¯git pull --rebase  // æ­¤ä¸¤ä¸ªå‘½ä»¤ä¸ºåˆå¹¶æœ‰å†²çªæ—¶ï¼Œè§£å†³å†²çªåçš„ç»§ç»­åˆå¹¶å‘½ä»¤git add .  git rebase --continue    - å®Œæˆfeatureå¼€å‘ï¼šgit checkout dev// æœ¬åœ°åˆ‡æ¢è‡³devåˆ†æ”¯åï¼Œæ‹‰å–è¿œç«¯æœ€æ–°çš„devåˆ†æ”¯ä»£ç git pull --rebase  - å†å°†featureåˆ†æ”¯åˆå¹¶åˆ°devåˆ†æ”¯ä¸Šï¼šgit merge --no-ff feature-s16 // å°†åˆå¹¶åçš„devåˆ†æ”¯æ¨ä¸Šè¿œç«¯git push origin dev  - å†å°†fevåˆ†æ”¯åˆå¹¶è‡³masteråˆ†æ”¯ä¸Šï¼šgit merge --no-ff dev // å°†åˆå¹¶åçš„masteråˆ†æ”¯æ¨ä¸Šè¿œç«¯git push origin master  - ä¸€æ®µæ—¶é—´ååˆ é™¤featureåˆ†æ”¯ï¼šgit branch -d feature-s16// åˆ é™¤è¿œç«¯è¯¥åˆ†æ”¯git push origin --delete feature-s16  - è‹¥merge --no-ffåˆå¹¶æœ‰å†²çªï¼š// å°†è‡ªåŠ¨æäº¤ä¸€ä¸ªåˆå¹¶è®°å½•git add .  git commit  </code></pre><p><img src="/2019/01/23/2019/Gitç›¸å…³å‘½ä»¤/Git.jpg" alt="ç«¹æ—å°é“" title="ç«¹æ—å°é“"></p>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello</title>
      <link href="/2019/01/22/2019/hello-world/"/>
      <url>/2019/01/22/2019/hello-world/</url>
      
        <content type="html"><![CDATA[<p>æ¬¢è¿æ¥åˆ°JAYANT BLOG! .</p><h2 id="å¼€å¤´è¯­"><a href="#å¼€å¤´è¯­" class="headerlink" title="å¼€å¤´è¯­"></a>å¼€å¤´è¯­</h2><p>è·Ÿéšç€ç½‘ä¸Šçš„å¤šç§æ­å»ºæ–¹å¼ï¼Œæ­å»ºé™¤äº†å±äºè‡ªå·±çš„hexoåšå®¢ï¼Œå…´å¥‹ä¹‹ä½™ä¹Ÿéå¸¸æœŸå¾…æˆ‘èƒ½ç»™äºˆè¿™ä¸ªåšå®¢ä¸åŒçš„â€œçŸ¥è¯†â€ç”Ÿå‘½åŠ›ï¼Œä¹ŸæœŸå¾…æˆ‘æ‰€è®°å½•ä¸‹çš„å¤šç§å¤šæ ·ï¼Œå„æ–¹å„é¢çš„åšæ–‡å†…å®¹å¯ä»¥ç»™æ¥åˆ°è¿™ä¸ªç½‘ç«™ä¸Šçš„æœ‹å‹ä»¬å¸¦æ¥å¸®åŠ©</p><p>ä¹‹åä¹Ÿå°†é™†é™†ç»­ç»­å°†ä¹‹å‰çš„åšæ–‡è¿ç§»è¿‡æ¥ï¼›</p><p><img src="/2019/01/22/2019/hello-world/MyPic.png" alt="å¿ƒä¸­è—ä¹‹æ— æ—¥å¿˜ä¹‹" title="å¿ƒä¸­è—ä¹‹ï¼Œæ— æ—¥å¿˜ä¹‹"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ—¥å¸¸ç¢ç¢ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
